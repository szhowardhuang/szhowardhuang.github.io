<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 7.1.1">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha256-wiz7ZSCn/btzhjKDQBms9Hx4sSeUYsDrTLg7roPstac=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancyapps-ui/5.0.33/fancybox/fancybox.css" integrity="sha256-gkQVf8UKZgQ0HyuxL/VnacadJ+D2Kox2TCEBuNQg5+w=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"szhowardhuang.github.io","root":"/","images":"/images","scheme":"Muse","darkmode":false,"version":"8.19.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"}}</script><script src="/js/config.js"></script>

    <meta property="og:type" content="website">
<meta property="og:title" content="嵌入式老兵博客">
<meta property="og:url" content="https://szhowardhuang.github.io/page/3/index.html">
<meta property="og:site_name" content="嵌入式老兵博客">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Howard Huang">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://szhowardhuang.github.io/page/3/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"page/3/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>嵌入式老兵博客</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">嵌入式老兵博客</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li>
  </ul>
</nav>




</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Howard Huang</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">68</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
  </nav>
</div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://szhowardhuang.github.io/2024/08/10/llmsClinical03/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Howard Huang">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="嵌入式老兵博客">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 嵌入式老兵博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/08/10/llmsClinical03/" class="post-title-link" itemprop="url">第三章 超越白大褂</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-08-10 14:32:19" itemprop="dateCreated datePublished" datetime="2024-08-10T14:32:19+08:00">2024-08-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2024-08-21 14:10:44" itemprop="dateModified" datetime="2024-08-21T14:10:44+08:00">2024-08-21</time>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>16k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>30 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>尼迪叹了口气，工作后瘫坐在沙发上。49 岁，离婚，住在伊利诺伊州芝加哥南郊的她，已经习惯了独自忙碌，照顾自己的房子、工作和青少年孩子。这些天，她感到厌倦了。她的手开始在身体上无意识地移动。她按了一下左胸的一部分。那是什么？她又按了一下；左胸侧面有一个小肿块。她担忧地用手指抚摸着它。她的心开始加速跳动——这不正常。第二天早上，她第一时间和医生联系，并在那周得到了预约。等待是折磨。什么时候我才能被倾听，什么时候我们才能确定？她试图保持忙碌，不去想它，但她的思绪一次又一次地回到这个问题上，游走在它可能是什么的想法中。</p>
<p>在医院，医生切除了肿块并进行了乳腺 X 光检查。医生表示需要进行活检以确定肿块是否恶性，然后一切就会明朗。尼迪感到焦虑和恐惧，身体虚弱。一周后，医院打来电话提供活检报告。结果是乳腺癌。尼迪感到一阵拳头般的痛击袭来。</p>
<p>尼迪是一位第一代移民，在美国没有家人、朋友或任何正式的支持系统。她甚至不知道每年需要进行乳腺 X 光检查。她不知道如何处理保险要求，比如预授权、自付额或需要提供给保险公司的索赔文件。她从未预约过医生，更不用说化疗或放疗了——而这一切发生在她恶心最严重的时候。</p>
<p>她不得不自己开车去，常常在她因低血细胞计数而导致的发烧或严重感染感到不适的时候。她仍然需要照顾她的两个青少年，他们不能开车，并且有自己的问题。尼迪快要失去希望了，她快用完钱了。她感到自己辜负了孩子们，并为自己的身体感到困扰。在接下来的几个月里，她将经历一系列的就诊、阅读和搜索，并制定行动计划。尼迪的癌症是 III B 期，已经扩散到她的淋巴结和锁骨。她的预后不佳，手术和放疗效果有限。然而，她可以选择一个她的肿瘤科医生认为可能适合的临床试验。此外，她的肿瘤科医生建议她调查聚焦超声，这是一种用于乳腺癌的新型治疗方法。</p>
<p>尼迪的故事让我们看到了当前医疗保健的状态，包括患者及其支持者所承受的焦虑和负担。本章展示了今天医疗保健中自动化的现实，以及大型语言模型（LLMs）和生成式人工智能将如何进一步推动患者医疗保健的演变。本章的主要目标是让读者理解自动化以及在LLMs和生成式人工智能解决方案中的技术飞跃如何开始扰乱医疗保健流程、工作流程和运营效率的数字化转型。</p>
<h1 id="医疗保健中的自动化现状"><a href="#医疗保健中的自动化现状" class="headerlink" title="医疗保健中的自动化现状"></a>医疗保健中的自动化现状</h1><p>接下来的故事——尼迪试图理解她的癌症诊断并弄清楚医疗系统——尽管她年纪尚轻，却是非常真实的。当尼迪准备进行 CT 扫描时，我们被提醒了一个严酷的事实：尽管医疗领域取得了非凡的突破，医疗管理仍然停留在 1960 年代。在过去的半个世纪里，几乎所有地方的生产力都爆炸性增长，但在医疗行业，仍然没有人使用纸张书写，没有系统将数据存储在孤岛中，没有客户服务依赖于电话和文书工作。此外，3.8 万亿美元的资金流入并穿过美国医疗系统。然而，作为现代效率引擎的自动化似乎在医疗图表和机构惯性中迷失了方向。</p>
<p>成本是真实的。尼迪的苦难——解读术语、讨价还价付额——不仅仅是尼迪的苦难。这是普通人面对复杂医疗系统的经历，充满了让医生和患者之间产生隔阂的术语、低效的转诊和转移，以及充满悲剧和喜剧的错误的案例管理。大量时间被转移到治愈之外，时间浪费在跳过官僚障碍、在分隔的大厅中协调预约，以及忍受血压飙升的缓慢电话排队和患者门户的考验中。</p>
<p>这种浪费不仅令人烦恼，而且代价高昂。每花费的医疗保健美元中有 48 美分——仅在 2015 年就约为 9500 亿美元——用于非临床任务。在过去 50 年中，美国其他行业的生产力大幅提高，但医疗保健是一个主要的例外。</p>
<p>尼迪的故事向我们展示了一个破碎系统的人类代价。作为一个被困在这个功能失调结构中的普通工人，我们看到它如何浪费她的时间，损害她的福祉，并消耗她对抗疾病所需的精力。</p>
<h2 id="LLMs在医疗保健中的承诺"><a href="#LLMs在医疗保健中的承诺" class="headerlink" title="LLMs在医疗保健中的承诺"></a>LLMs在医疗保健中的承诺</h2><p>然而，仍然有希望的曙光。如果LLMs和生成式人工智能能够融入现实世界的系统，它们可以执行繁琐的行政任务；它们可以预约和发送个性化的信息。人工智能可以捕捉目前锁定在医疗记录中的信息，并允许这些信息随着患者的移动而转移，只需患者的触碰，而不是被困在患者被转诊的机构中。当涉及到与保险公司的接口时，大多数人会更希望由人工智能来掌舵，让患者和医生能够专注于健康护理的事务。</p>
<p>尼迪的挑战性经历突显了系统性问题，迫使脆弱群体在没有足够支持的情况下应对复杂的健康之旅。然而，正是自动化和人工智能在试图最终突破这一持久的生产力边界时，可能会带来改变。医疗保健的高度定制化特性，涉及人类生命，导致其对变革采取保守态度。诊断和治疗不适合大规模标准化。处理保险等不同系统需要人类助手。临床医生面临的判断是深具情境性的，通过多年的实践经验获得。简单来说，信息不对称和不可转移性使得医疗保健在深度手工且未被算法触及的过程中免受宏观优化的影响。</p>
<p>但绩效疲劳也是一种成本，包括医生的倦怠、获取医疗服务的财务障碍，以及因缺乏能力而导致的可预防死亡。像 COVID-19 这样的冲击帮助揭示了现有医疗保健生产力的问题。走出疫情的过渡期可能会激发急需的现代化，并与一波LLMs和生成式人工智能相一致。自动化可以帮助处理占用过度工作人员时间的日常琐事。基于人工智能的诊断助手可以减少错误率，并用数据增强人类判断。最重要的是，智能协调将保护像 Nidhi 这样的患者，免于在很大程度上独自与过于繁忙的官僚体系作斗争。</p>
<p>新技术如LLMs需要谨慎管理，但如果以深思熟虑的方式应用——以伦理为核心——它们可能会导致护理的转变，健康专业人员将从孤立的“修复者”转变为基于团队的“协调者”，为患者提供更全面、主动和以人为本的护理。</p>
<p>尼迪的故事是一个行动的号召。它提醒我们，尽管科技改变了我们的生活、工作和沟通方式，但医疗保健仍然停留在过去的模式中。我们应该利用自动化的潜力，不仅仅是为了提高医疗系统的效率，而是为了建立一个以人为中心、赋权患者并承认健康价值的医疗系统。</p>
<h2 id="机器学习的历史使用"><a href="#机器学习的历史使用" class="headerlink" title="机器学习的历史使用"></a>机器学习的历史使用</h2><p>医疗行业几十年来一直对各种形式的机器学习抱有希望的乐观态度。我们被承诺人工智能将帮助解决该领域的许多问题。部分原因是机器学习能够读取大量数据集，识别模式，并预测结果，以帮助和加速患者护理的许多方面。它可以被用来跟踪、追踪、处理数据，并最终优化效率。原则上，这应该转化为更好的患者结果、更有效的运营和更高的成本效率。一些机器学习模型确实在帮助实现这一目标——从提高诊断准确性到通过识别大量影像或患者数据中的模式来预测患者再入院的风险。但传统机器学习的影响是有限的，并未提供与LLMs相同的颠覆性好处。</p>
<p>付款方和健康计划利用机器学习的应用来预测昂贵疾病的发生和发展。健康组织内部可能有数百个机器学习模型被构建用于预测和接触某些疾病人群，例如以下情况：</p>
<ul>
<li> 糖尿病</li>
<li> 充血性心力衰竭</li>
<li> 艾滋病</li>
<li> 双相情感障碍</li>
<li> 哮喘</li>
<li> 慢性肾衰竭</li>
<li> 关节退化</li>
<li> 类风湿性关节炎</li>
<li> 慢性阻塞性肺病</li>
<li> 高血压</li>
<li> 关节退化</li>
<li>炎症性肠病</li>
<li> 心房颤动</li>
<li> 高脂血症</li>
</ul>
<p>尽管如此，机器学习的预测与临床医生在床边的方式之间存在根本冲突，机器学习建议支付方尽早和预防性地发现昂贵的合并症，而临床医生更倾向于为患者今天做最好的事情，即使这意味着放弃未来可能的优化。支付方正在大量投资于分析，试图根据历史相关性识别那些更可能“进展为高成本状态”的患者。预测可以在早期谨慎管理的疾病的发生，将使支付方能够引导患者的治疗路径，从而以较低的长期费用保持健康。</p>
<p>进一步的冲突产生是因为预测依赖于对丰富背景的解释，而有限的数据导致干预措施的过度规定。社会因素强有力地影响着发展轨迹，过于专注于生理学，导致对贫困群体的偏见，因为忽视了为什么某一群体可能会经历比另一群体更差的结果，然后才将其标记为高成本的负担。</p>
<p>早期干预通过预防性、积极的行动，勤勉地促进了那些获得回报者的利益。影响力和权力的复杂平衡需要监督，以确保预测模型尊重影响个人的心理、经济和环境复杂性，而不仅仅是精算可靠性，从而对个人风险进行建模，以便于管理和负担得起。健康的最终责任必须由每个人自己承担。</p>
<p>这些孤立组织中以人工智能&#x2F;机器学习为中心的方法输出同样狭窄、缓慢、昂贵且存在偏见，而假设的利用人工智能进行再造的未来依然没有变化。为什么？因为大多数医疗保健机器学习严重依赖于需要稀缺专家进行长时间和细致清理、标记和格式化的专业训练数据。构建、维护和解释这些机器学习模型消耗了进行变革所需的资源，而医疗保健高管将人工智能视为过于承诺而未能兑现的问题使情况更加复杂。这些高管从未考虑过他们可能是一个因素，某种自我实现的预言，因为他们优先考虑成本和短期利润。</p>
<p>与之前的其他人工智能不同，LLMs如Gemini、ChatGPT 和Claude利用互联网规模的文本数据来模仿科学发现的过程以及临床呈现的变异。这些模型从文献中学习医生的思维方式，而不是从特定输入格式生成的训练数据。生成式人工智能还可以用于创建人工但逼真的数据，以扩展模型。结合LLMs和生成技术，可能会创造出改善诊断、治疗计划和个性化干预所需的灵活性、适应性和持续学习，从而在各地以盈利的方式大规模实现。</p>
<h1 id="使用LLMs和生成式人工智能进行医疗自动化"><a href="#使用LLMs和生成式人工智能进行医疗自动化" class="headerlink" title="使用LLMs和生成式人工智能进行医疗自动化"></a>使用LLMs和生成式人工智能进行医疗自动化</h1><p>有几种方式可以让LLMs和生成式人工智能帮助像 Nidhi 这样的人：</p>
<ul>
<li>LLMs 可以驱动对话式人工智能助手，充当智能患者护理协调员。在从 Nidhi 那里了解到她需要解决的问题后，这些协调员可能能够自动处理许多实际安排，例如预约安排、交通安排、获取支付方授权、预防性医疗措施的提醒等。</li>
<li>生成式人工智能可以根据 Nidhi 的生活方式和需求（例如她的照顾责任）提供个性化的护理计划。这条自我护理的路径将通过可行的建议来优化结果，从而简化并赋予她意义。</li>
<li>LLM 聊天机器人可以让尼迪向一个富有同情心和道德感的倾听者表达她的恐惧和挫折。对于那些感到不堪重负的人来说，除了信息之外，情感和社会支持也可以提供帮助。</li>
<li>生成模型可能有助于制定计划，以帮助尼迪的家庭克服因她的疾病而造成的交通需求、咨询、家务、临时照护以及其他家庭空缺和日程中的空白。</li>
</ul>
<p>换句话说，无论是促进协调、提供医疗决策建议、提供富有同理心的治疗支持、动态应对症状，还是管理繁琐的日常生活，LLMs 和生成式人工智能都可以帮助像尼迪这样的患者专注于康复和预防。</p>
<p>从自动化诊所行政任务到生成个性化护理计划，LLMs和生成式人工智能在医疗保健中的承诺不再仅仅是理论。</p>
<p>萨拉·瓦伊齐（Sara Vaezy），普罗维登斯的首席战略和数字官，表示生成式人工智能将在“未来几年”改变“医疗保健的每一个方面”。生成式人工智能模型，如 ChatGPT，正在推动包括医疗保健在内的大量行业进入一个转折点。普罗维登斯的创新传统包括测试将生成式人工智能融入患者体验的可能性，以保持其使命的真实性。普罗维登斯采取了自上而下的方法，从一开始就设计具有公平性和安全性保护措施的人工智能基础设施，同时也采取了自下而上的方法，从基层识别脆弱的体验和用例，在那里进行试点或测试。医疗保健系统有四个重点领域：</p>
<ul>
<li>改善临床护理流程</li>
<li>为消费者和患者创造更好的体验</li>
<li>为后勤行政任务的员工打造更好的体验</li>
<li>改善后台办公功能</li>
</ul>
<p>例如，生成式人工智能可以帮助在患者预约之前收集数据，提供临床决策支持，并自动化重复性工作。普罗维登斯制定了一项人工智能战略，基于这样的理念：机器终将超越人类能力，这要求护理团队在他们独特的任务上磨练技能。</p>
<p>为了快速和大规模地实现生成式人工智能，普罗维登斯支持这一目标，制定灵活的战略和计划，与科技公司建立战略合作伙伴关系，并提供变更管理，以教育和培训团队成员适应新的工作流程。医疗保健的管理者有责任安全、公平、可靠和合乎道德地在医疗技术中实施生成式人工智能，以支持患者以新的方式。</p>
<p>美国医疗公司（HCA）——美国最大的营利性医疗系统和全球最大的医院运营商——正在部署几种生成式人工智能解决方案，以帮助“&#x3D;&#x3D;重新构想如何提供护理”。HCA 正在使用临床生成式人工智能系统来帮助自动化工作流程&#x3D;&#x3D;，并通过使用LLMs来现代化患者交接的各个方面，从而减少文档的低效率和医生的负担。在一项试点项目中，HCA 将使用来自谷歌的LLM来自动生成详细报告，并通过自动化经过人工验证的患者交接来节省护士的时间。</p>
<p>虽然LLMs在医疗保健中的自动化仍在进行中，但它有潜力改变护理服务的交付。工作流程、效率和患者护理通过自动化索赔处理和多个行政任务等不同方式得到了提升。</p>
<h2 id="解锁医学秘密：LLMs-如何革新药物发现"><a href="#解锁医学秘密：LLMs-如何革新药物发现" class="headerlink" title="解锁医学秘密：LLMs 如何革新药物发现"></a>解锁医学秘密：LLMs 如何革新药物发现</h2><p>识别有吸引力的药物靶点。不再依赖人类直觉，LLMs 可以在海量数据中筛选出隐藏的疾病机制、蛋白质相互作用模式、“基因指纹”，并激发对新药物靶点的搜索，验证它们的潜力，甚至推动个性化医学的发展。LLMs 可以分析你的基因，为你量身定制药物，开辟治疗你疾病的新途径。</p>
<p>超越这种原始洞察——创造新事物——是对LLMs的重新利用，即在现有药物和缺乏治疗的疾病之间找到意想不到的联系。也被称为药物再利用，这种魔力可以以惊人的速度和相对于传统方法的低成本开发新疗法，传统方法是先合成新药，然后进行测试。</p>
<h3 id="超越-X-光：LLMs-看到我们所忽视的东西"><a href="#超越-X-光：LLMs-看到我们所忽视的东西" class="headerlink" title="超越 X 光：LLMs 看到我们所忽视的东西"></a>超越 X 光：LLMs 看到我们所忽视的东西</h3><p>医学成像与医学本身一样古老，但人眼只能看到整体图像的一小部分。LLMs是一种新型侦探，每个侦探都具备前所未有的视觉信息能力和能够处理文本的工具。关于病症的文本和图像线索可以被转化为新的医学分析师的角色。</p>
<p>这些图像不仅仅是图片；它们是编织的、活跃的、三维的事物。扩张的主动脉根、脑膜瘤、颈动脉狭窄——这些在肉眼（甚至是最有经验的放射科医生）看来可能隐藏的事物被揭示出来。噪声中的模式变得可见，模糊的诊断得以明确。或者我们可以说，LLM对其医生用户说：“嘿，伙计们！还记得上个月扫描中那个微小的纹理吗？我们一直在反复审查？恰好有一篇论文描述了一种具有完全相同纹理的罕见疾病。”那个模糊的症状突然找到了它的原因。治疗的道路突然打开。</p>
<p>LLMs 帮助从医学文献、病史和注释图像中构建疾病的情境化图像。情境评估通常是临床医生指导治疗决策的最有价值的信息，它也可以帮助患者更好地理解他们的疾病，通过对扫描结果真正含义的解读，消除神秘感。这感觉有点像魔法。</p>
<p>医学不再仅仅关注身体，而是透视身体。在LLMs的洞察指导下，它可以达到一个新的诊断潜力水平，使诊断更加精准，治疗更加专注，患者在面对疾病时更加有力和聪明。</p>
<p>今天，深度学习是医学影像领域的最先进技术。在不久的将来，LLMs 将成为焦点，因为它们正在成熟。</p>
<h3 id="电子健康记录的发展：LLMs-重写医疗文档"><a href="#电子健康记录的发展：LLMs-重写医疗文档" class="headerlink" title="电子健康记录的发展：LLMs 重写医疗文档"></a>电子健康记录的发展：LLMs 重写医疗文档</h3><p>传统的电子健康记录（EHR）曾经不过是数字文件柜，存储数据但在分析或预防护理方面几乎没有提供帮助。这一切即将改变。随着LLMs的兴起，一个全新的人工智能时代可能即将到来：电子健康记录可能成为同事，利用其预测和分析能力来释放电子健康记录的全部潜力。</p>
<p>LLMs 具备通过挖掘以前的数据集来发现模式、逆境发生的概率或未来的警示信号，从而预测未来或至少未来的可能性的能力。可以将其想象成一个水晶球，显示哪些患者易患某种疾病、可能再次入院或可能遭受某种不良事件。凭借这一能力，临床护理可以根据患者的情况进行调整。</p>
<p>&#x3D;&#x3D;无需自己翻阅大量医学期刊。LLMs 已为您完成了这项工作。您提供患者数据，他们将其与他们在庞大数据库中存储的所有相关患者数据进行比较，然后他们会说类似以下的话：“供您参考，医生，这就是其他患有您患者病情的人所做的。选项 A 似乎比选项 B 更常用，而选项 C 几乎从未使用。”&#x3D;&#x3D;</p>
<p>现在，他们正在将这种LLM魔法引入电子健康记录（EHR）。这些模型浏览患者记录，寻找关于药物不依从性的线索，触发警报以标记潜在的问题情况，并使医生能够及早干预。现在，一个充满无限可能的未来开始了，从个性化医疗到预防护理。</p>
<p>电子健康记录（EHR）正在超越仅在处理索赔或完成临床测试时更新的静态文档。随着LLMs的整合，电子健康记录正在转变为动态、智能的系统。这些先进的电子健康记录将持续分析来自各种来源的大量数据，提供实时洞察，并推动更明智的医疗决策。这是医疗保健即将到来的未来。</p>
<h3 id="解锁医学金矿：LLMs-矿藏文本中的隐藏宝石"><a href="#解锁医学金矿：LLMs-矿藏文本中的隐藏宝石" class="headerlink" title="解锁医学金矿：LLMs 矿藏文本中的隐藏宝石"></a>解锁医学金矿：LLMs 矿藏文本中的隐藏宝石</h3><p>一旦在页面上涂写，这些文本现在成为了等待解读的生物信息矿藏。使用LLMs训练的临床文本语料库，人们可以发现语言模式，指示可能基于种族、性别、社会经济地位和其他健康决定因素而发生的隐性偏见。例如，LLM可能会标记某些笔记，这些笔记对“X”组的语言框架呈现出比“Y”组更消极的表达。</p>
<p>想象一下一个LLM在放射学报告中梳理丰富的背景信息，比如异常的描述、它们的位置和解释，同时在找到疾病特征匹配时发出警报。再也不用繁琐的手动解析了！LLMs可以即时索引和检索高价值的发现描述（那些最相关且可能影响诊断或治疗的），并为放射科医生提供帮助，使他们更容易做出诊断。最终，放射科医生有一个个人助手在他们的代表下不知疲倦地扫描报告，突出关键线索供专家关注。</p>
<p>不仅仅是语言的问题。LLMs 还掌握了医学的语法，提炼出症状、诊断和治疗之间复杂的关系。随着我们通过在更大和更复杂的文本集上训练 LLMs 来微调这种理解，他们将能够预测相关的患者结果，高效地现代化临床研究，甚至定制患者护理旅程。</p>
<h1 id="自动化和管理医疗保健"><a href="#自动化和管理医疗保健" class="headerlink" title="自动化和管理医疗保健"></a>自动化和管理医疗保健</h1><p>想象一个世界，在那里，穿越医疗迷宫不再是艰巨的壮举或令人畏惧的任务，而是一场晨间散步。进入你的个人医疗 AI 助手，由LLMs和生成式 AI 驱动，它是你在医生预约、保险表格和无尽电话中的不知疲倦的导航者。</p>
<p>从个人的角度来看，导航医疗系统是一场噩梦。在我们以 Nidhi 为例的情况下，管理她的治疗需要她做到以下几点：</p>
<ul>
<li>由于管理她的医疗保健需要多个步骤，她必须安排预约，确保提供者接受她的保险并且是“网络内”的，以避免更高的费用。她需要了解自己的财务责任，包括共付额和免赔额。在接受治疗之前，她必须获得预授权并提交所需的文件。在整个过程中，她必须有效地向护理人员传达她的健康状况。</li>
<li>她必须识别联邦、州、地方或私人机构提供的资源来支持她，最后但同样重要的是，找到一个可以在她对治疗和生活产生负面想法时与之交流的人。</li>
</ul>
<p>在多位医生之间管理癌症治疗对患者来说面临着巨大的挑战。正如尼迪的故事所示，在与癌症的身体和情感影响作斗争的同时，处理临床复杂性往往在没有广泛支持的情况下显得不堪重负。</p>
<p>患者经常根据肿瘤特征和进展情况看外科医生、肿瘤科医生、放射技术人员和专科医生。每个临床视角对治疗计划的影响不同。患者在处理毁灭性的消息和虚弱的症状时，努力跟踪谁说了什么、评估冲突和记住下一步。</p>
<p>预约常常被重复预定，因为办公室之间的协调出现问题。记录共享的延迟意味着患者成为医疗中介，试图及时传播测试结果。当可避免的并发症发生时，沟通的缺口让患者感到沮丧。</p>
<p>在这段支离破碎的医疗旅程中，患者往往缺乏持续的情感支持，尽管安慰对康复有很大影响。个别临床医生很少关注患者整体健康的各个方面，包括恐惧、生活方式的变化以及超出其专业领域的心理健康问题。当患者在不同的医疗提供者之间转移时，护理的连续性往往会中断。</p>
<p>尽管跨学科医学在统计上提高了生存率，但对已经脆弱的个体来说，支离破碎的治疗过程往往使他们容易被忽视。以患者为中心的协调，减少后勤负担并提供整体护理，可能会在结果上超越单纯的专业知识。人际关系在癌症斗争中无法被优化。&#x3D;&#x3D;全面的临床沟通和同理心被证明是医学中最重要的治疗手段&#x3D;&#x3D;。</p>
<h2 id="人工智能医疗助手"><a href="#人工智能医疗助手" class="headerlink" title="人工智能医疗助手"></a>人工智能医疗助手</h2><p>尼迪，一位职场母亲，当她听到“III 期 B 型乳腺癌”这几个字时，感觉脚下的地面消失了。世界变得模糊，文书工作变成了象形文字，导航医疗系统就像穿着人字拖攀登珠穆朗玛峰。如果尼迪有一个私人助理来处理这些任务，那该多好？于是，“塔拉”出现了，她的人工智能医疗助理，在风暴中成为了一线希望（图 3-1）。</p>
<p><img src="/../asset_03BeyondWhiteCoats/01.png">图 3-1 塔拉，人工智能医疗助手</p>
<p>塔拉凭借LLMs和生成式人工智能成为了尼迪的救星。她不需要破解医学术语来解读报告和弄清楚自己发生了什么。塔拉将报告翻译成易于理解的笔记，然后列出可能的治疗方案和相关副作用。患者不再需要拨打数百个电话联系众多医生。塔拉负责在医院和诊所之间安排预约。</p>
<p>塔拉开始接管尼迪的任务，成为尼迪的杰出项目经理。凭借LLMs的语言处理能力，塔拉同时扫描来自无数机构的文件，自动安排他们的预约，并像本能一样与保险公司讨价还价。没有电话的等待音乐，没有浪费时间。</p>
<p>但塔拉不仅仅是一个物流大师。生成式人工智能分析了尼迪的医疗数据，测试药物和治疗之间的相互作用——并可以叠加以提高疗效。尼迪被治疗选择压得喘不过气来，但塔拉将选项解析得易于理解，以公正的数字声音回顾优缺点。塔拉问尼迪是否感到孤单，并鼓励她加入支持小组，如果尼迪感到焦虑，塔拉则是一个倾诉的对象和冷静的建议储存库。</p>
<p>有塔拉在旁照看行政事务，她将大部分必要的管理工作委派给尼迪，为各种恢复创造了空间。预约得到了协调，药物提醒出现在尼迪的手机上，保险表格以机械的精确度在系统中流转，最重要的是，山上的路径被勾勒出来，危险点被标记。恢复的重担更轻松地落在一个人身上，而不是两个人，攀登所需的能量得到了更均匀的分配，使尼迪能够休息。通过这种方式，塔拉既在尼迪身边走着，又在前面走了几步。</p>
<p>尼迪成功的故事因此也是一个技术故事。LLMs和生成式人工智能不仅仅提供了捷径或后勤解决方案，而是成为了尼迪真正的赋能工具——让她重新掌控自己的生活，&#x3D;&#x3D;专注于真正重要的事情：接受治疗以保持健康&#x3D;&#x3D;。</p>
<p>这不仅仅是尼迪的故事。这是&#x3D;&#x3D;对未来护理的愿景，利用技术让患者掌控自己的健康，减轻他们的压力，简化整个过程&#x3D;&#x3D;。也许从有意义的对话参与的角度来看，LLMs在生成自然听起来的文本和理解文本方面表现出色，这是生成清晰可理解文本的重要一步。它们能够识别意图，推导上下文，并对语言中的细微差别表现出有用的敏感性。</p>
<p>GenAI 使聊天机器人能够通过与用户的互动学习，并通过修改响应来适应个体偏好——例如，适应用户的语速和结构——并借鉴用户使用的对话内容（如俚语或幽默的评论），以帮助更有效地沟通。GenAI 还允许聊天机器人在特定内容或数据集上进行训练，以增强知识。GenAI 生成新文本序列的能力使聊天机器人能够与用户进行开放式对话，探索多个主题，并对用户的提示做出创造性的回应，同时使轮流发言、主题转换和响应形成更自然地成为互动的一部分。GenAI 还允许聊天机器人根据个体用户的需求和偏好进行个性化设置，提供记住用户信息、适应语言风格、提供个性化内容和推荐，以及以符合用户个性和特点的方式呈现信息等功能。</p>
<p>塔拉，尼迪的个人助理，提供以下功能：</p>
<ul>
<li>24&#x2F;7 预约: 预约调度可以通过聊天机器人全天候处理，因此无需等待接听或创建在线账户进行预约。</li>
<li>个性化日历安排: GenAI 可以了解患者的偏好，例如他们更喜欢看哪位医生、他们更喜欢哪个地点以及他们更喜欢何时就诊，并为他们提供建议选项。</li>
<li>自动提醒: 人工智能将监控您的日程安排，并通过短信或电子邮件向您发送会议、约会和活动的提醒。这可以确保您不会重复预订或错过约会。</li>
<li>保险和福利支票: 使用 GenAI，您可以实时了解患者是否有保险以及是否符合护理资格。</li>
<li>多语言选项: 您可以通过提供双语或多语种聊天机器人来改善不同患者的可及性并消除障碍。</li>
<li>陪伴聊天机器人: GenAI 可以用于制作专为对话和陪伴而调校的陪伴聊天机器人，特别是针对孤独或孤立的人，并且可以通过体验和模拟情感以及同情地支持患者度过生活中的困扰，成为一个对话伴侣。</li>
</ul>
<h2 id="从医疗系统的角度自动化行政任务"><a href="#从医疗系统的角度自动化行政任务" class="headerlink" title="从医疗系统的角度自动化行政任务"></a>从医疗系统的角度自动化行政任务</h2><p>美国拥有大约 6,000 家医院，超过 300,000 个医生集团，超过 1,000 家健康保险公司，以及一大堆需要遵守的健康代码，因此可以看出美国医疗系统是世界上行政管理最复杂的系统之一。甚至建议行政简化几乎是异端。</p>
<p>美国的管理和账单&#x2F;保险成本显著高于其他任何国家，每年高达 1 万亿美元，超过德国、法国和意大利的医疗系统总和。众多健康保险公司，提供多种计划，涵盖不同的保障水平和不同的网络；在其中一个计划中，可能会有数百个选项，每个选项都有不同的免赔额、共付额和覆盖服务。每个计划都有其自身的福利、文件、支付方式和规则。数十万个医疗服务的服务代码，都需要与提供者协商价格，这在提供者和保险公司之间造成了文档和证明技术的军备竞赛。庞大的护理管理直接转化为系统的庞大行政费用，并加剧了医生的职业倦怠（图 3-2）。</p>
<p><img src="/../asset_03BeyondWhiteCoats/02.png">图 3-2  倦怠的代价：医生在不断增加的压力下的烦恼</p>
<p>人工智能和LLMs有助于减少医生的倦怠。它们可以让医疗专业人员专注于提供直接的病人护理，同时提高效率、准确性和病人满意度。例子包括：</p>
<ul>
<li><p>与患者助手的互动: </p>
<p>LLMs 可以通过自动检查日历、寻找可用时间并向患者和提供者发送邀请来安排预约。正如患者尼迪使用了塔拉，一个人工智能助手聊天机器人，医生们也将使用聊天机器人，我们离人工智能驱动的聊天机器人与另一个人工智能驱动的聊天机器人互动以实现患者和提供者生态系统最佳结果的现实并不遥远。</p>
</li>
<li><p>管理病人记录: </p>
<p>LLMs 可用于从病人记录中提取信息，例如人口统计、病史和药物，LLMs 可用于填充表格和报告。</p>
</li>
<li><p>生成报告: </p>
<p>LLMs 可用于从医疗数据中生成报告，例如患者人口统计、治疗结果和质量指标。</p>
</li>
<li><p>生成保险索赔或事先授权请求等表格和信件: </p>
<p>LLMs 可用于审查病人记录、识别可收费服务，并准确高效地完成保险索赔。</p>
</li>
<li><p>编码和账单: </p>
<p>LLMs 可以协助医疗编码和账单处理，确保提供者获得准确的报销，并减少行政负担。</p>
</li>
</ul>
<h2 id="编码和账单"><a href="#编码和账单" class="headerlink" title="编码和账单"></a>编码和账单</h2><p>编码和计费系统是健康收入周期的关键，但它们可能充满陷阱——代价高昂的不准确性、延误和其他干扰。医疗编码错误、错失的计费机会以及临床与计费系统之间缺乏整合只是一些罪魁祸首。</p>
<p>这些关键挑战在编码和账单周期的每个环节都会出现——在医疗服务中医生与患者之间、在文档记录中、在编码和索赔提交期间，以及在支付入账时。拒付或少付可能源于简单的错误、行政流程中的低效、合规风险、编码错误，甚至是最不可能的欺诈预期。</p>
<p>一些最重要的编码和账单挑战包括：</p>
<ul>
<li>上码: 对于某些专业，您处理的是复杂案例，这使得报告高级评估和管理代码更加高效。虽然这样做没问题，但您必须准确记录使用该编码的原因，以确保您没有使用不适当的高级代码。</li>
<li>解耦: 这就是你在一个程序的不同部分使用多个代码，而不是整个程序的适当代码的时候。这可能是由于错误造成的，但当组织试图增加支付金额时也会发生，这就是为什么这通常会被审计的原因。</li>
<li>不记录: 这意味着文档缺失或不充分。</li>
<li>拼写错误和错误: 有时候你只是按错了键。一个常见的错误发生在编码时数字颠倒，或者信息被工作人员或患者错误地添加。</li>
</ul>
<p>LLMs 和生成式人工智能可以帮助解决以下编码和账单挑战：</p>
<ul>
<li><p>上码: </p>
<p>LLMs 用作医疗编码推荐系统，利用 LLMs 对患者记录、医疗编码规则和账单进行分析，可以告诉我们正在处理的案例应该使用哪个最佳编码。审查文档，以确保所选择的代码支持临床证据，并确保文档的一致性和完整性。通过检查个别临床医生在案例层面的编码历史趋势，LLMs 可能能够发现过度编码趋势并标记案例以进行审计。</p>
</li>
<li><p>解耦: </p>
<p>LLMs 将程序映射到正确的高级计费代码，确保程序组件通过单一代码仅记录一次。LLMs 可以为编码人员提供提示，在计费时列出有效的捆绑代码，从而减少对专业编码人员的需求。</p>
</li>
<li><p>不记录: </p>
<p>LLMs 可以从音频录音或自由文本笔记生成病人记录和摘要，以便提供者能够捕捉所有关键信息以确保准确计费。LLMs 可以请求任何缺失的信息，以便正确编码索赔。</p>
</li>
<li><p>拼写错误和错误: </p>
<p>LLMs 可以添加到账单和索赔工作流程中，以标记和修复常见的拼写错误、编码或患者信息错误，从而防止下游问题的发生。利用账单数据，LLMs 可以找出可能指向文书错误的异常峰值或离群值，然后进行检查和更正。</p>
</li>
</ul>
<p>LLMs和生成式人工智能在编码和计费中的额外好处包括：</p>
<ul>
<li>降低劳动力成本: 自动化编码任务可以释放宝贵的员工时间用于更复杂的活动，从而提高整体效率。</li>
<li>增强合规性: 提高编码准确性可以降低审计、罚款和声誉损害的风险。</li>
<li>改善收入周期管理: 准确及时的账单可以为医疗机构带来更快的报销和改善的现金流。</li>
<li>个性化患者沟通: LLMs 可以为患者生成清晰易懂的账单说明，促进透明度并减少与账单相关的咨询。</li>
</ul>
<p>通过解决这些挑战，LLMs和生成式人工智能可以促进更准确、高效和合规的编码和计费过程，最终使医疗服务提供者和患者都受益。</p>
<p>随着LLMs和生成式人工智能的不断发展，我们可以期待看到更多创新的应用来自动化医疗行政任务。这将有助于提高医疗系统的效率、准确性和患者体验，使医疗专业人员能够专注于为患者提供高质量的护理。</p>
<h2 id="临床过程"><a href="#临床过程" class="headerlink" title="临床过程"></a>临床过程</h2><p>临床过程中的自动化是利用技术加快和提高提供医疗服务的临床效率和有效性。新兴的人工智能技术，如自主智能，可以帮助自动化重复性任务，汇总和分析数据，并提供决策支持。在如此接近人类影响规模的自动化中，使用LLMS和生成式人工智能有望通过加快和增强临床护理的交付来改变医疗服务的提供。</p>
<p>以下是一些自动化在临床流程中应用的例子：</p>
<ul>
<li>订单录入和结果报告: 自动化可以用于自动输入实验室测试、药物和其他服务的订单，并将结果发送回下单的提供者。</li>
<li>临床文档: 自动化可以用于生成临床文档，例如进展记录、出院总结和药物核对报告。</li>
</ul>
<p>例如，每次尼迪接受治疗时，接收和出院的行政人员会审查她的病史，做笔记，并建议对她的财务、家庭地址和电话号码（如有）进行任何具体更改。医生、护士和技术人员会审查临床记录并提出建议。</p>
<h2 id="优化医疗工作流程"><a href="#优化医疗工作流程" class="headerlink" title="优化医疗工作流程"></a>优化医疗工作流程</h2><p>电子病历（EMR）系统对临床工作流程产生了重大影响，尽管这种影响复杂，既有好处也有缺点。从积极的一面来看，电子病历标准化和数字化了患者数据，使护理团队能够高效访问。内置的临床决策支持、医嘱集、模板和警报也促进了基于证据的护理。无缝的记录改善了协调性，减少了重复服务。</p>
<p>然而，批评者认为电子病历（EMR）优化工作流程是为了账单目的，而不是为了护理质量。医生在电脑上记录的时间增加，损害了医患关系。由于无关紧要的警报过多，导致警报疲劳。对独特临床思维的定制证明是困难的。</p>
<p>最平衡的观点认为电子病历（EMR）是现有规范的放大器：它们强化并传播任何编码在其框架中的流程，这可能反映系统目标而非个别患者的需求。优化健康结果可能需要将数字基础设施与以关系和信任为中心的人际协调相结合。</p>
<p>本质上，电子病历（EMR）通过强制标准化和数字化沟通强烈影响护理交付机制，但不应僵化地支配护理文化本身。医学核心的人际联系依赖于动态适应的工作流程，而不是仅仅优化效率的交易。EMR 临床决策支持旨在增强而不是取代经验丰富、具伦理的提供者与患者合作的判断。</p>
<p>LLMs 和生成式人工智能可以通过几个关键方式帮助改善电子病历系统及其对临床工作流程的影响：</p>
<ul>
<li>自适应工作流程: LLMs 可以分析临床医生与患者的互动，并根据个性化需求和风格定制默认工作流程、医嘱集和决策树。</li>
<li>自动化文档: 生成模型可以根据就诊记录和护理活动起草临床笔记和文书，准确反映独特的细节。</li>
<li>人性化集成: 智能界面由富有同理心的LLMs驱动，使临床医生能够使用自然语言指令来下达测试、转诊等，而不是因鼠标点击而分散注意力。</li>
<li>患者数据丰富化: 算法可以整合外部记录、基因组数据、可穿戴传感器数据等，以克服电子病历的局限性并提供决策支持。</li>
</ul>
<p>理想情况下，这些技术将增强以患者为中心的护理，捕捉细微差别，减少行政负担，并用最新的个性化发现补充机构知识，从而推动更好的结果。</p>
<h2 id="转变临床试验格局"><a href="#转变临床试验格局" class="headerlink" title="转变临床试验格局"></a>转变临床试验格局</h2><p>将 Nidhi 纳入临床试验对她的肿瘤科医生来说是一个复杂的过程。他们必须首先确定合适的试验，仔细审查其方案，并根据 Nidhi 的病史仔细评估她的资格。这需要与试验团队合作，以了解潜在风险，并确保所有必要的文件准确提交。一旦 Nidhi 被纳入该过程，她必须遵循非常严格的协议，这可能持续三到五年。</p>
<p>一些导致挑战的关键因素包括：</p>
<ul>
<li>患者招募与留存: 寻找符合所有试验标准的合格且愿意参与的患者可能非常困难且耗时。一旦招募到患者，保持他们在研究中的参与也可能具有挑战性。</li>
<li>合规性: 关于知情同意、数据隐私、安全报告等方面的规则可能使试验的执行变得复杂且耗时，以确保合规。各国的法规不同，进一步增加了全球试验的复杂性。</li>
<li>协议设计: 设计稳健的协议并选择合适的点以获得有用的结果既是一门科学，也是一门艺术，受到过去经验的启发。次优设计可能会使试验变得无效。</li>
<li>质量和一致性: 确保所有参与地点在试验执行中的一致性，并保持高质量标准可能是一个巨大的挑战。即使在一个地点的失误也可能影响试验的有效性。</li>
<li>物流复杂性: 从药物供应链到协调患者的随访访问，所有这些都需要涉及多个利益相关者的巨大物流协调。失误可能严重影响试验进展。</li>
<li>数据管理: 收集、清理和管理大量多维患者数据可能会带来数据分析挑战。良好的数据管理对于得出正确的结论至关重要。</li>
<li>数据质量与分析: 两者对于可靠的试验结果至关重要。只有完整或准确的数据才能确保整个研究的准确性。因此，在试验过程中保持高数据质量标准是至关重要的。</li>
<li>数据分析复杂性: 分析来自不同来源的大型数据集需要先进的统计方法和专业知识。</li>
<li>财务限制: 临床试验非常昂贵，费用高达数百万美元。资金不足或获得资金的延迟仍然是一个常见的瓶颈。</li>
<li>伦理考虑和知情同意: 确保参与者充分理解参与的风险和收益是至关重要的。</li>
<li>保护参与者的隐私和机密性: 保护敏感健康数据至关重要。</li>
<li>平衡风险与收益: 研究人员必须仔细权衡新治疗的潜在好处与参与者的风险。</li>
</ul>
<p>克服这些挑战需要巨大的跨职能协调、全球流程标准化、严格的质量控制，以及利益相关者对共同目标的对齐——这绝非易事！</p>
<p>LLMs 和 GenAI 可能在几个方面帮助临床试验：</p>
<ul>
<li>人工智能可以分析医疗记录和患者数据，以更快、更准确地识别符合条件的试验候选者。这使得试验能够更快地招募参与者。</li>
<li>人工智能可以审查研究文献和过去的试验数据，以帮助设计研究方案，确定最佳终点、剂量考虑等。这可以帮助提高试验的质量和效率。</li>
<li>人工智能可以在试验期间持续监测来自可穿戴设备、应用程序等的患者数据。它可以提前标记安全问题，改善合规性监测，并根据接收到的数据自适应调整试验过程。</li>
<li>GenAI 可以分析复杂的多模态试验数据，以发现洞察，例如，通过关联基因组、表型和结果数据来识别生物标志物。它还可以检查数据质量并识别异常。这将导致从试验中获得更快、更丰富的洞察。</li>
<li>解读临床试验结果所需的细微差别和背景信息是巨大的。使用LLMs可以吸收所有可用的医学研究和真实世界证据数据，以解读试验结果是否以及如何应更新医学实践或是否需要更多研究。这将导致更好的临床适用性和试验后的决策。</li>
</ul>
<p>LLMs 和 GenAI 可以使高质量、富有洞察力的临床试验的许多方面变得更快、更便宜和更好。它可能在未来提高临床试验的效率和可靠性方面发挥不可或缺的作用。</p>
<h1 id="摘要"><a href="#摘要" class="headerlink" title="摘要"></a>摘要</h1><p>本章探讨了自动化在过去几十年中在医疗保健领域加速但不均匀的渗透，受到该领域制度惯性的阻碍。然而，新兴的LLMs人工智能子类承诺提供一种多功能性和响应能力，最终通过革命性的生产力提升、洞察生成，甚至医疗工作流程的经济转型，克服了采用障碍。</p>
<p>本章提供了各种基于LLM的创新小插曲，优化当前的痛点。智能助手减少了因与账单系统作斗争而浪费的行政时间，解放了过度劳累的员工。诊断LLMs挖掘全球语料库，将微妙的症状与超出任何从业者经验的罕见疾病联系起来。临床试验管理实现了受试者招募、方案设计和结果分析的自动化，以促进更优越的治疗发展。</p>
<p>每个场景都突显了语言智能的人工智能如何通过生成式构建解决方案或从过于庞大且无结构的知识库中提取可操作的模式，来应对曾经顽固的低效问题。这一范式转变表明，医疗保健可能会效仿其他最近的颠覆性变革，从以往看似有前景但不切实际的自动化技术中实现大规模的生产力和卓越收益，这一过程得益于响应式算法解决方案的加速和普及。</p>
<p>1 “全球首个聚焦超声癌症免疫治疗中心启动，”UVAHealth，2022 年 5 月 11 日，<a target="_blank" rel="noopener" href="https://newsroom.uvahealth.com/2022/05/11/worlds-1st-focused-ultrasound-cancer-immunotherapy-center-launched%E3%80%82">https://newsroom.uvahealth.com/2022/05/11/worlds-1st-focused-ultrasound-cancer-immunotherapy-center-launched。</a></p>
<p>2 艾莉森·H·佩恩，“聚焦超声作为乳腺癌的非侵入性治疗”，犹他大学，2021 年 3 月 5 日，<a target="_blank" rel="noopener" href="https://discovery.med.utah.edu/2021/focused-ultrasound-as-a-non-invasive-treatment-for-breast-cancer%E3%80%82">https://discovery.med.utah.edu/2021/focused-ultrasound-as-a-non-invasive-treatment-for-breast-cancer。</a></p>
<p>3 韩阿琳、李建亨和朴钟善，“价格透明度和竞争对医院成本的影响：关于全支付索赔数据库的研究，” BMC 健康服务研究 22, no. 1321 (2022), <a target="_blank" rel="noopener" href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC9636618%E3%80%82">https://www.ncbi.nlm.nih.gov/pmc/articles/PMC9636618。</a></p>
<p>4 Nikhil R. Sahni, Brandon Carrus 和 David M. Cutler, “行政简化与节省两千五百亿美元医疗费用的潜力,” JAMA 326, no. 17 (2021): 1677–1678, <a target="_blank" rel="noopener" href="https://jamanetwork.com/journals/jama/fullarticle/2785480%E3%80%82">https://jamanetwork.com/journals/jama/fullarticle/2785480。</a></p>
<p>5 Nikhil R. Sahni, Prakriti Mishra, Brandon Carrus 和 David M. Cutler, 行政简化：如何在美国医疗保健中节省两千五百亿美元 (麦肯锡公司, 2021 年 10 月), <a target="_blank" rel="noopener" href="https://www.mckinsey.com/~/media/mckinsey/industries/healthcare%20systems%20and%20services/our%20insights/administrative%20simplification%20how%20to%20save%20a%20quarter%20trillion%20dollars%20in%20us%20healthcare/administrative-simplification-how-to-save-a-quarter-trillion-dollars-in-us-healthcare.pdf">https://www.mckinsey.com/~/media/mckinsey/industries/healthcare%20systems%20and%20services/our%20insights/administrative%20simplification%20how%20to%20save%20a%20quarter%20trillion%20dollars%20in%20us%20healthcare/administrative-simplification-how-to-save-a-quarter-trillion-dollars-in-us-healthcare.pdf</a>.</p>
<p>6 海伦·朱拉维尔，“用于早期疾病检测和医学诊断的 AI&#x2F;ML 算法，”Binariks，2023 年 12 月 19 日，<a target="_blank" rel="noopener" href="https://binariks.com/blog/ai-machine-learning-for-early-disease-detection%E3%80%82">https://binariks.com/blog/ai-machine-learning-for-early-disease-detection。</a></p>
<p>7 “生成式人工智能：医疗保健的下一个前沿，”普罗维登斯，2023 年 9 月 17 日，<a target="_blank" rel="noopener" href="https://blog.providence.org/blog/generative-ai-the-next-frontier-of-health-care%E3%80%82">https://blog.providence.org/blog/generative-ai-the-next-frontier-of-health-care。</a></p>
<p>8 Sai Balasubramanian，“HCA，全球最大的医疗保健组织之一，正在部署生成式人工智能，”福布斯，2023 年 8 月 30 日，<a target="_blank" rel="noopener" href="https://www.forbes.com/sites/saibala/2023/08/30/hca-one-of-the-largest-healthcare-organizations-in-the-world-is-deploying-generative-ai/?sh=7ac032bc51dc%E3%80%82">https://www.forbes.com/sites/saibala/2023/08/30/hca-one-of-the-largest-healthcare-organizations-in-the-world-is-deploying-generative-ai/?sh=7ac032bc51dc。</a></p>
<p>9 刘正良等，“Radiology-GPT：一个用于放射学的大型语言模型，”arXiv，2023 年 6 月 14 日，<a target="_blank" rel="noopener" href="https://arxiv.org/abs/2306.08666%E3%80%82">https://arxiv.org/abs/2306.08666。</a></p>
<p>10 “关于美国医院的快速事实，2024”，美国医院协会，2024 年 1 月，<a target="_blank" rel="noopener" href="https://www.aha.org/statistics/fast-facts-us-hospitals%E3%80%82">https://www.aha.org/statistics/fast-facts-us-hospitals。</a></p>
<p>11 “各州医生集团实践数量，” Definitive Healthcare，2024 年 1 月 5 日，<a target="_blank" rel="noopener" href="https://www.definitivehc.com/resources/healthcare-insights/number-physician-group-practices-by-state%E3%80%82">https://www.definitivehc.com/resources/healthcare-insights/number-physician-group-practices-by-state。</a></p>
<p>12 全国保险监管协会，美国健康保险行业分析报告，2021 年，<a target="_blank" rel="noopener" href="https://content.naic.org/sites/default/files/inline-files/2020-Annual-Health-Insurance-Industry-Analysis-Report.pdf%E3%80%82">https://content.naic.org/sites/default/files/inline-files/2020-Annual-Health-Insurance-Industry-Analysis-Report.pdf。</a></p>
<p>13 “2022 年部分国家人均健康支出,” Statista, 2024 年 5 月 22 日, <a target="_blank" rel="noopener" href="https://www.statista.com/statistics/236541/per-capita-health-expenditure-by-country%E3%80%82">https://www.statista.com/statistics/236541/per-capita-health-expenditure-by-country。</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://szhowardhuang.github.io/2024/08/09/llmsClinical02/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Howard Huang">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="嵌入式老兵博客">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 嵌入式老兵博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/08/09/llmsClinical02/" class="post-title-link" itemprop="url">第二章 窥视人工智能黑箱</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-08-09 11:32:19" itemprop="dateCreated datePublished" datetime="2024-08-09T11:32:19+08:00">2024-08-09</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2024-08-21 14:04:19" itemprop="dateModified" datetime="2024-08-21T14:04:19+08:00">2024-08-21</time>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>19k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>34 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>随着大型语言模型（LLMs）和生成式人工智能工具逐渐应用于医疗保健领域，它们带来了复杂且不透明的元素——内在的“黑箱”特性使得这些系统的内部运作显得模糊。这引发了临床医生和医疗领导者在考虑使用LLMs时的自然疑问。这些人工智能系统究竟是如何发展其临床能力的？在它们的训练过程中，幕后发生了什么？黑箱特性是否使得LLMs的建议和思维过程对于严肃的医学或医疗使用过于晦涩？</p>
<p>第二章 揭开了面纱，检查人工智能系统内部的内容。我们讨论Transformer、自注意力机制、神经网络和其他技术元素如何完成重任，以吸收医疗知识并发展推理能力。虽然对每个组件背后的数学进行全面说明超出了读者的需求，但我们提供了对 LLMs 工作原理的易懂解释。窥视黑箱消除了“魔法”的概念，同时使负责任的人工智能采用变得触手可及，即使在持续的不透明中。</p>
<h1 id="LLMs-和生成式人工智能"><a href="#LLMs-和生成式人工智能" class="headerlink" title="LLMs 和生成式人工智能"></a>LLMs 和生成式人工智能</h1><p>LLMs 使用深度学习，这是机器学习的一个子集，利用算法层来处理数据并模仿人类思维过程。深度学习和神经网络这两个术语可以互换使用，因为所有深度学习系统都包含神经网络。神经网络的概念代表了人工智能发展的一个突破。它的灵感来源于人脑中生物神经元的工作方式。<br>在深度学习中，信息通过每一层传递，前一层的输出为下一层提供输入。网络中的第一层称为输入层，而最后一层称为输出层。每一层通常是一个简单的算法。iPhone 或 Android 手机用于面部识别的底层技术，或者 Google 搜索用于视觉识别和搜索对象的技术，就是深度学习。理解人类语言的工具，如 Alexa 或 Siri，需要神经网络。让我们简要回顾一下人工智能的历史，看看我们是如何走到今天的，涉及到生成式人工智能。</p>
<p>在 1970 年代，第一次人工智能寒冬来临，这被解释为对人工智能的资金和兴趣下降，结果是无法兑现的承诺。这种资金不足的影响限制了深度学习和人工智能研究。幸运的是，有一些人在没有资金的情况下继续进行研究。各种过于乐观的人和组织夸大了人工智能的“即时”潜力。</p>
<p>人工智能和深度学习的下一个重要进化步骤发生在 1999 年，当时计算机在处理数据方面变得更快。图形处理单元（GPU）被引入并发现可以用来运行深度学习模型。更快的处理速度以及用GPU 来处理图像，增加了计算速度，在此期间，神经网络变得有用，其使用和价值也随之上升。</p>
<p>到 2011 年，GPU 的速度显著提高，2012 年，Google Brain 发布了一个项目的结果。神经网络可以处理未标记的数据并发现重复模式。深度学习已经是一个研究领域数十年。随着计算能力的提升、大量数据的可用性和算法的改进，它的使用和受欢迎程度迅速增加。</p>
<p>在计算机早期，计算机擅长遵循指令和整理信息。早期的机器学习应用涉及基于数据进行预测。许多疾病预测模型使用机器学习来预测疾病的发生，从而制定干预计划和患者治疗计划。但深度学习，作为机器学习的一个子集，使它们更像海绵，吸收大量信息并用它来创造性地解决问题。一些例子包括识别图片中的不同物体，即使它们模糊或奇怪的角度，识别被泥土覆盖的狗，或在手机应用上实时翻译语言。</p>
<p>但这些学习机器并没有止步于此。现在，认识一下LLMs——这个故事的超级明星。想象他们是班级中的优秀学生，接受了更广泛的图书馆和特殊技术的训练。他们可以写诗和故事，创作新歌曲，或以新颖的方式重新组合元素来设计药物。这就是事情变得令人震惊的地方。我们正处于生成式人工智能的时代。这意味着计算机不仅仅是复制东西；它们还创造东西。</p>
<p>在图 2-1中，我们看到从手工规则到机器学习&#x2F;深度学习再到LLMs的进展。在第一个卡通画面中，一个人手动制定规则来识别吉娃娃。这可能涉及指定诸如大小、毛色、耳形和其他独特特征等标准。这个过程劳动密集，并且需要详细的知识和专业技能来根据预定义的规则识别品种。通常，这些规则通过编程语言中的编码来实现。这个过程涉及创建手工规则，程序员手动编写具体指令以指导系统的行为。</p>
<p><img src="/../asset_02InsideAIBlackBox/01.png">图 2-1  LLMs的出现</p>
<p>我们在第二幅卡通画中看到向机器学习&#x2F;深度学习的过渡。系统不是明确地定义规则，而是通过包含标记的吉娃娃和非吉娃娃图像的数据集进行训练。人工智能使用机器学习从输入图像中提取特征并自动进行预测。使用深度学习时，数据可以是未标记的，我们可以进一步进展，识别出各种图片中的吉娃娃，例如当吉娃娃与物体一起拍照或以不同姿势出现时。</p>
<p>第三个卡通画框介绍了LLMs。在这个画框中，我们不关注识别，而是要求LLM分析大量的书籍、文章和文件，以全面理解吉娃娃。当呈现一张图像时，LLM可以利用其上下文理解提供细致的评估，可能考虑到超出视觉外观的因素，如品种特征、行为和背景。</p>
<h1 id="人工智能与机器学习"><a href="#人工智能与机器学习" class="headerlink" title="人工智能与机器学习"></a>人工智能与机器学习</h1><p>人工智能的核心方面之一是机器学习的使用，这使得计算机能够从数据中学习模式和关系，而无需明确编程。有几位计算机科学家认为，被称为人工智能的解决方案不过是一个机器学习问题的解决。这引发了几个问题，如图 2-2所示，教师正在与他的学生讨论人工智能。3</p>
<p><img src="/../asset_02InsideAIBlackBox/02.png">图 2-2. 什么是人工智能？</p>
<p>人工智能是计算机科学中的一个研究和学习领域。关于如何衡量或概念化人类智能存在相互矛盾的观点，因此精确定义人工智能同样具有挑战性。每当我们看到机器执行以前只有人类才能完成的任务时，我们就将其视为机器智能。通过人工智能，计算机科学家和研究人员试图构建展现与人类相同智能特质的计算机软件——即，AI ≥ 人，如图 2-2所示。</p>
<p>在这个图中，深度学习被视为机器学习的一个子集。机器学习可以是监督学习（SUP），其中数据被标记以训练算法并进行预测。或者机器学习可以是无监督学习（UNSUP），在这种情况下，机器学习模型使用未标记的数据并允许发现模式或洞察。例如，在使用监督机器学习检测糖尿病时，个人会为模型应关注的数据提供标签，比如患者的 A1C，这些数据与血糖水平和其他因素（如生活方式）有关。使用无监督机器学习时，算法将处理未标记的数据集，并发现表示糖尿病可能性的模式。</p>
<p>LLMs 使用多个人工智能、机器学习、深度学习、计算机视觉和自然语言处理（NLP）学科。例如，图 2-2 说明了人工智能作为一个比机器学习更广泛的概念，因为这些学科各自都是一个独立的研究领域，同时也是人工智能这一更大类别中的一个子领域。人工智能的简单定义是，它试图匹配人类主体的能力或智能。</p>
<p>在深入了解LLMs的内部工作之前，让我们先了解一下LLMs所使用的一些基础技术。</p>
<h2 id="使用深度学习检测肿瘤"><a href="#使用深度学习检测肿瘤" class="headerlink" title="使用深度学习检测肿瘤"></a>使用深度学习检测肿瘤</h2><p>深度学习是机器学习的一个子集，它使用神经网络。层是深度学习中功能的最小单位，正是这些单位组合在一起构建神经网络。层以级联的顺序从下方的层获取输入，对其进行处理，然后将输出传递给更高的层。如果你简单地将足够多的这些充满动作的层堆叠在一起，它们能够学习数据的复杂表示，并执行多种任务，如识别图像中的物体、理解语言等。</p>
<p>以下是深度学习中关于层的关键点的概述：</p>
<p> 输入层第一层接收原始数据，如图像、文本或数值。</p>
<p> 隐藏层这些特征提取并学习数据点之间的抽象关系。您可以在一个个隐藏层之上有多个隐藏层——这一堆叠的深度对网络能够学习的内容至关重要。</p>
<p> 输出层这是最后一层，它将根据任务生成模型的预测或输出。该输出可能将图像分类为猫或狗，将文本从一种语言翻译成另一种语言，或生成新的、听起来像人类的文本。</p>
<p>图 2-3 说明了一个简单的样本神经网络，目的是尝试使用计算机检测肿瘤是恶性还是良性。</p>
<p><img src="/../asset_02InsideAIBlackBox/03.png">图 2-3. 使用深度学习检测肿瘤中的癌症</p>
<p>在图 2-3中，专为肿瘤分类设计的深度学习神经网络中的每一层学习表示输入图像的不同抽象层次。在这种情况下，图像可能是癌症肿瘤或非癌症肿瘤。肿瘤的 X 光图像将被数字化并以像素的形式在计算机中表示。第一层将检测每个像素的值。这个神经网络或深度学习模型之前已经经过训练，知道一组像素的哪些特征表明高概率的癌症。因此，像素将从左到右流经这个网络，每个圆圈代表一个人工神经元，它简单地返回 1 或 0，其中 1 表示可能癌症的信号。</p>
<p>随着像素移动到第二层，模型开始对输入图像中的特征进行分类：</p>
<ul>
<li>肿瘤的边缘和轮廓</li>
<li>肿瘤内的基本形状和模式</li>
<li>强度梯度和纹理变化</li>
<li>颜色信息（如果输入是彩色图像）</li>
</ul>
<p>此时，神经网络成功地学习了一系列低级特征，如边缘和斑点，这些特征被连接成肿瘤图像的各个组成部分，就像人类视觉系统的早期阶段所感知的那样。</p>
<p>当神经网络到达第 3 层时，它将第 2 层的低级特征组合成一些高级特征。第 3 层可能会捕捉到以下内容：</p>
<ul>
<li>特定的边缘和形状的模式和排列</li>
<li>局部化的纹理模式指示出组织的类型</li>
<li>颜色组合或强度变化</li>
<li>肿瘤亚区域或成分的初步表示</li>
</ul>
<p>在第三层，模式实际上开始看起来像是更易识别且对观察肿瘤图像的人类专家更具诊断相关性的模式。</p>
<p>在第 4 层，神经网络将早期层的特征集合整合成肿瘤的高级表示</p>
<ul>
<li>肿瘤的独特形态特征</li>
<li>肿瘤亚区域的空间关系和组织</li>
<li>与特定肿瘤类型相关的复杂纹理模式</li>
<li>学习到的诊断显著特征的表示</li>
</ul>
<p>到此时，神经网络很可能发现与分类任务直接相关的语义上有意义的高级概念：恶性肿瘤或非癌性。经过训练的网络提取的高级特征与放射科医生或病理学家手动识别的内容更为接近。</p>
<p>最后，在第 5 层，神经网络将学习到的特征（第 4 层的高级特征）转化为最终决策，以根据样本确定肿瘤的类别。在这个例子中，输出决策是良性肿瘤。网络已经学会将“学习到的特征”与已知的肿瘤类别关联起来，利用它在学习过程中看到的模式和特征。</p>
<p>通过这种表述，并理解深度神经网络中特征学习的层次性质，临床医生可以开始理解这些模型如何（以及为什么）能够从医学图像中学习局部相关的模式和特征，并将这些特征在层次上进行转换，以实现自动决策。再次强调，这个例子仅用于为读者提供说明。</p>
<h2 id="自然语言处理与计算机视觉"><a href="#自然语言处理与计算机视觉" class="headerlink" title="自然语言处理与计算机视觉"></a>自然语言处理与计算机视觉</h2><p>自然语言处理（NLP）是一个与LLM的发展和应用密切相关的领域。两者都涉及计算机与人类语言之间的某种互动。NLP 算法被应用于预处理和结构化用于训练LLMs的文本数据，就像临床医生在阅读病历时所做的那样——他们只是做得非常快。此外，NLP 提供了理解和评估LLMs语言能力的词汇：无论他们是否理解临床医生使用的专业术语，他们解读临床医生笔记的能力，还是他们向患者生成清晰易懂解释的能力。</p>
<p>可以说，LLMs 还可以通过从互补的数据模态中学习来衍生出一种视觉模态，这个领域被称为多模态学习。在这种情况下，计算机视觉作为一种数据分析形式发挥作用，旨在揭示视觉数据中的模式。就像放射科医生使用医学图像（如 X 光片和 CT 扫描）来识别异常和诊断不同的病症一样，多模态 LLMs 可以学习结合文本来解释图像，以提供更细致、上下文相关的响应。例如，一个针对医学文献和放射学图像进行微调的 LLM 可能能够帮助生成报告或回答有关临床相关影像发现的问题。</p>
<p>也许，在医疗保健领域，LLMs可以通过临床决策支持（根据患者数据提供基于证据的建议和风险评估）、患者沟通（生成个性化教育材料、回答基本问题或提供虚拟支持）以及医学研究（文献综述、假设生成和数据分析）来支持临床医生。</p>
<p>但他们也不是来抢你的工作的——他们做不到。大多数患者以复杂的表现和症状来找临床医生，这可能需要进一步的调查或跟进，甚至只是需要一个人聊天。LLMs 可以成为临床医生工具箱的一部分，既帮助决策，又协助进行有意义和个性化的患者护理的复杂工作。例如，它们可以成为 21 世纪的听诊器。</p>
<p>我们需要考虑在临床实践中开始使用LLMs时出现的伦理影响，包括数据隐私、算法公平性以及这些工具对医患关系的影响等方面。这将需要临床医生、人工智能研究人员和伦理学家之间的合作，以实现负责任和有益的医疗部署。</p>
<h1 id="LLM的解剖"><a href="#LLM的解剖" class="headerlink" title="LLM的解剖"></a>LLM的解剖</h1><p>为了提醒您，LLM的最重要组成部分是神经网络。回想一下之前提到的，您的大脑是一个由生物神经元组成的网络，可能有 1000 亿个！生物神经元是大脑中的一种细胞，它接收来自其他神经元的输入，对输入进行一些计算，然后将输出发送给一些下游神经元。这个庞大的生物神经网络使您的大脑能够处理信息、理解世界、识别模式并表现出智能行为。</p>
<p>人工神经网络是我们在计算机上复制这一过程的最佳努力。我们创建相对简单的数学模型，涉及大量模拟神经元及其之间的连接。我们可以通过输入大量展示我们希望其检测的模式（例如，恶性肿瘤）的数据来训练它识别图像、声音和语言等事物。而有趣的是：这些网络通过学习调整神经元之间的连接强度，从数据中自行推导出模式。网络中的层数越多，输入的数据越多，它的表现就越好。</p>
<p>例如，通过在训练期间向图像识别网络展示数千万张猫和狗的照片，它学习到某些类型的毛发纹理、耳朵形状和鼻子形状提供了线索，表明某物可能是或不是猫或狗。当你在训练后向它展示几乎任何新照片时，它会立刻意识到这很可能是一只猫或一只狗。最新的神经网络开始通过越来越令人印象深刻的算法架构进行探索，包括从文本生成图像、语言翻译、从医学扫描中识别疾病，以及从创意描述中创建应用程序。</p>
<h2 id="Transformer"><a href="#Transformer" class="headerlink" title="Transformer"></a>Transformer</h2><p>现在我们知道深度学习的机制，让我们深入剖析LLM的内部工作，看看它实际上由什么组成，同时要记住，神经网络的使用只是其中的一小部分。LLM并不是一个简单的算法；它是一个模型，包含算法和架构，例如Transformer。Transformer是自然语言处理（NLP）任务的关键架构组件，而这些任务是LLMs的一个重要焦点。NLP 技术使LLMs能够执行许多特定于语言的任务，如文本生成、摘要和问答。</p>
<p>Transformer是一组使用编码器和解码器结构的神经网络。编码器将输入文本转换为数值表示，以便计算机能够捕捉其含义和上下文，例如将捕捉患者健康状态的临床记录作为输入。解码器接收输入文本的编码表示并生成输出文本。在临床记录的例子中，解码器可以生成患者主要医疗问题的摘要。</p>
<p>但这里有个聪明的地方：Transformer不仅仅关注每个单词，而是关注这个单词与周围每个单词的关系。就像一小队朋友在帮助你阅读故事，他们每个人都在看不同的部分并向你反馈。通过这种Transformer架构，LLM可以读取医疗数据，如临床笔记、电子健康记录数据和病史，并执行各种任务，如摘要或问答。</p>
<p>Transformer架构需要一种新的架构发明，以实现我们今天在LLMs中看到的功能或某些人所称的魔力，这一发明发生在 2017 年。注意力是一种机制，允许LLM在处理和生成文本时专注于输入的特定部分。注意力机制使LLM能够在生成关键医疗或健康问题的摘要时，专注于患者电子健康记录中最相关的部分。</p>
<h2 id="Token"><a href="#Token" class="headerlink" title="Token"></a>Token</h2><p>Token是LLMs和Transformer处理的基本工作单位——可以是输入或输出。单词和字符可以作为LLM的Token。分词是将文本分解为更小单位（称为Token）的过程。这个过程对Transformer至关重要，因为它将文本分解为可管理的部分，使LLM能够理解和分析。</p>
<p>对于文本数据，LLM 首先要做的是通过将输入拆分成更小的连续单元（或Token）来进行Token化。考虑以下来自医疗领域的示例句子：患者被诊断为高血压，并被给予处方药“利辛普利”。</p>
<p>使用基于词的分词方法，这 10 个Token（用引号表示）为：“患者被诊断为高血压，并被开处方利辛普利。”</p>
<p>[“The”, “patient”, “was”, “diagnosed”, “with”, “hypertension”, “and”, “prescribed”, “lisinopril”, “.”]</p>
<p>输入的Token首先被嵌入到向量中，这些向量编码了它们的语义和句法信息，然后通过包含自注意力机制的变换层，这些机制学习Token之间的关系并生成丰富的上下文表示。</p>
<p>例如，在临床环境中，Transformer可以确定“高血压”和“利辛普利”这两个词是密切相关的，因为利辛普利是用于治疗高血压的药物名称。这一知识对于命名实体识别（识别文本中的医疗条件和治疗）或关系提取（识别医疗实体之间的关系）任务是非常有用的。</p>
<p>LLM在训练中学到的是如何根据前面的Token预测序列中的下一个Token。为了生成文本，LLM的概率分布用于根据紧接着的Token来采样或选择下一个Token。这个过程会迭代重复，直到满足某个停止规则，过程才会完成。</p>
<p>在临床应用中，例如，一个LLM可以为医生生成潦草的笔记，或总结患者的病情，例如对输入Token序列“患者是一名 65 岁的男性，有以下病史”的响应：患者是一名 65 岁的男性，有 2 型糖尿病、高血压和高脂血症的病史，主诉疲劳和多尿。</p>
<p>在这样的上下文和Token关系下，LLMs可以生成准确且易于阅读的文本——即使输入是用于临床文档、患者教育或医学研究摘要的长篇病历。</p>
<h2 id="注意力"><a href="#注意力" class="headerlink" title="注意力"></a>注意力</h2><p>NLP 和LLMs的秘密武器是谷歌在 2017 年的一项创新。想象一下给每个词一个聚光灯。例如，Transformer强调相互关联的医学细节——比如主要诊断和关键实验室结果——帮助它过滤噪音，专注于对该患者最相关的信息。无需顺序。与按顺序阅读病历不同，Transformer可以跳跃和跳过，考虑某个数据点在某人病历早期如何影响后期的另一个数据点，反之亦然。历史上具有挑战性的案例可以按照类似专家之间发送电子邮件的顺序进行研究，沿途获取上下文。这类似于拥有多个专业水平如何帮助医生拼凑奇怪的医学诊断。但Transformer的工作得益于数十层这种理解相互叠加：每一层都更好地将 X 光、MRI、症状和健康历史之间的关系联系起来，直到输出变得极具洞察力。</p>
<p>LLMs在语言建模中之所以有前景的原因之一是它们引入了注意力机制。注意力机制使得Transformer能够根据Token之间的接近程度来权衡每个Token与其他Token的相关性。Transformer识别和权衡复杂依赖关系的能力可以说是其生成上下文准确表示的基础。</p>
<p>在医疗保健中，注意力可以将LLMs的焦点转向最具临床相关性的词汇。例如，患者被发现有胸痛和呼吸急促，并被诊断为急性心肌梗死（即心脏病发作）。注意力机制将使模型能够准确识别“胸痛”、“呼吸急促”和“急性心肌梗死”这些词汇在语义上是如何聚集在一起的，这对于句子的含义尤其重要：它们指的是心脏病发作的主要症状。因此，它会为这些词汇分配更高的注意力权重，以生成更好的句子含义表示。</p>
<p>此外，注意力帮助LLMs处理医学文本的长距离特性。例如，临床记录可能在开头提到患者的病史，但是在记录开头讨论的这些病史和在记录末尾的当前状况是相关的，通过注意力，模型可以捕捉这种依赖关系，并生成更准确的表示。</p>
<p>注意力使模型能够根据Token相对于文本中所有其他Token的上下文重要性分配权重，以发现长期依赖关系，并构建上下文敏感的表示。这些对于医疗保健应用至关重要，因为医疗实体之间的关系和远距离依赖在文本生成、摘要和分析任务中发挥着关键作用。</p>
<p>这就是它的魔力：LLMs可以实时将医学术语翻译成听起来像人类的文本，就像每天随叫随到的医疗翻译；与患者进行连贯的对话；为健康教育材料建立一个令人信服的医学声音，让人感觉像是护士写的；并全面而有意义地回答医学问题，即使这些问题是开放式的和棘手的，甚至我都不知道从哪里开始。这只是Transformer在医学领域发展的一个步骤。</p>
<h2 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h2><p>参数是LLMs的另一个关键特征。想象一下一个记忆力超群的医学生。她能够从所有可用的“医学教科书”中阅读大量信息。她学习的医学主题越多（解剖学、生理学、药理学、病理学等），她的头脑中就越充满关于这些主题的知识。所有这些知识实际上都存储在模型的参数中——也就是说，模型从阅读中获取和学习的所有医学事实、概念、关系和背景。你可以把参数看作是模型从所有阅读中获取和“记住”的关键医学知识。</p>
<p>参数越多，医学知识越丰富。一个拥有 2000 亿个参数的模型，不仅在历史和输入数据上比 500 万个参数的模型更多，它实际上吸收了更多的医学知识和与其他医学信息的联系。更多的参数意味着对更复杂医学概念的更深层次学习。一个模型不必拥有数十亿个参数才能在医疗保健中发挥作用。医学学生可能在某个狭窄领域学习整个图书馆的知识，但他们仍然可以毕业成为该狭窄领域（例如心脏病学、神经学或内分泌学）的优秀专家。一个仅在肿瘤学上训练的 3000 万个参数的模型，仍然可以利用其专注的狭窄和针对性知识回答复杂的癌症相关问题。</p>
<p>随着人工智能软件工程师找到新的方法让他们的模型增强所学的知识，比如将他们的LLM与像 PubMed 这样的医学模型连接起来，这将使他们的LLMs能够在其参数之外学习，或将模型连接到现有的现实世界医疗应用程序。在医学领域，就好像一名医学生能够将自己接入 PubMed 数据库或根据需要进行临床试验。</p>
<p>一种常见的思考医疗LLM复杂性的方法是：参数越多，学习能力就越复杂和强大。由数十亿个参数组成的医疗LLM比由数百万个参数组成的更强大。参数控制着LLM行为的许多不同方面：</p>
<ul>
<li>通过语调和内容识别患者情绪，以检测例如疼痛、绝望或焦虑的表达</li>
<li>生成创意医疗输出：结合学习到的模式创造新的医疗文本，将复杂的医疗语言翻译成易于理解的文本，或撰写其他创意输出，如患者教育材料</li>
</ul>
<p>参数影响LLM如何理解医疗文本以及如何生成文本。可以调整参数以控制生成文本的质量和创造力。在LLM中调整温度参数就像在复杂机器上旋转一个精密的旋钮。在最低设置下，旋钮向左转，产生的响应精确、可预测且基于事实。随着你逐渐顺时针旋转旋钮，系统中引入了更多的变异性和创造力。每次轻微的转动，你都会放松机器输出的限制。继续向右转到最高设置时，你给机器更多的自由去探索不寻常的组合和不太可能的结果，这可能导致更不准确的响应。在最右侧，旋钮转到最大时，输出变得高度不可预测和多样化，常常产生令人惊讶甚至有时毫无意义的结果。</p>
<p>权重是另一个影响单词和短语之间连接重要性的参数。例如，一个LLM训练并专注于医院再入院风险的模型使用患者的病史、电子健康记录（EHR）数据、药物和最近的实验室测试结果。假设最近的 EHR 数据显示一名 69 岁男性患者在过去六个月内多次住院，服用利辛普利和美托洛尔，并患有慢性阻塞性肺病（COPD）。LLM将学习权重参数，并可能对最近的住院历史和慢性病赋予更高的权重，因为它们对再入院风险的预测性更强。</p>
<p>温度和权重是两个参数的例子，但还有很多其他参数。更多的参数不一定意味着在医疗保健中的更好表现LLMs。这完全取决于它们如何设计和在相关医疗数据上进行训练。较小的LLMs可以从头开始训练，然后在特定的医疗任务上用少量数据进行微调。事实上，已经有小型LLMs在少量参数下取得了令人印象深刻的临床成功。参数的研究仍然是一个积极发展的领域，持续努力寻找更简洁的方式来表示和学习医学语言。</p>
<h1 id="LLM-和生成式人工智能的潜力"><a href="#LLM-和生成式人工智能的潜力" class="headerlink" title="LLM 和生成式人工智能的潜力"></a>LLM 和生成式人工智能的潜力</h1><p>随着能够从原始数据中全面学习的人工智能系统的出现，已经不再需要人类先将所有内容进行结构化。以前编程算法意味着我们必须明确地定义所有元素：消息接口、科学论文或代码，对于解决方案我们需要花费时间和精力来识别和输入各种概念、规则、模板、决策树等的表示形式。LLMs 可以以原始形式消化消息数据、论文或代码，并自我发现相关的表示形式。</p>
<p>从本质上讲，这意味着LLMs不再需要——也不必——依赖于严格的规则和限制，而是依赖于灵活表述的统计推断。在医疗保健领域，这将意味着LLMs直接从原始的、非结构化的医学文本笔记、研究论文或临床病例笔记中学习，以获得对疾病、治疗和患者护理的直观理解，从而不再需要人类首先手动编码医学知识。</p>
<p>这种人工智能与过去大多数人工智能的区别在于，实际生活中嘈杂、未经修饰的混乱通过自我监督的方式更完整地传递到模型中。自我监督学习是一种机器学习方法，它在没有人类生成的数据注释或数据本身标记的情况下进行训练。例如，一个在庞大的医学文献和病例报告数据库上训练的模型，可能会随后捕捉到疾病过程、治疗患者时的医学决策以及患者沟通的细微差别。</p>
<p>在这种LLM理解的背景下，结合能够创造无限新颖输出的生成架构，你就拥有了超越模式匹配和局部优化的系统。在医学领域，这可能会导致，例如，LLMs通过对医学各个领域的见解进行创造性的并置，开发新的疾病机制、治疗方案，甚至新的疗法。</p>
<p>这种从自上而下的限制性教学转向自下而上的自我导向学习的革命性转变，代表了人工智能范式基础的变化。原则是从大规模数据中涌现出来的，而不是基于编程假设或甚至是微不足道的人类知识的一小部分。这为高度可扩展的人工智能提供了一条路径，这种人工智能比“狭窄”人工智能更具自然性。对于医疗保健而言，这意味着人工智能系统能够从不断增长的医学文献中学习并跟上进展，发现可能被已经超负荷的人工专家所忽视的模式和洞察。</p>
<p>这些新的LLMs具有前所未有的自然语言生成能力，无论是在覆盖范围还是使用质量上。结合新兴的自主智能，可能会出现新的应用类型。复杂的语言技能将使LLMs能够将患者的笔记、病史和指示总结成通俗易懂的语言，以便于理解。LLM可以将关于患者状况的冗长技术医疗报告总结成清晰、易于理解的通俗语言，供患者使用。一个可能的应用是根据患者的个体手术和医疗状况生成个性化的患者教育，例如术后护理说明。</p>
<p>LLM可以通过深入的语言分析大量患者的电子健康记录，从而得出关于患者治疗过程的见解，这些见解在医生的笔记中并没有明确说明。例如，LLM可能会从两个月的笔记中的某些语调模式推断出该患者在遵循药物治疗方面遇到了特别的困难，或者患者可能在隐瞒对自己预后的未言之恐惧。</p>
<p>在医疗保健中，LLM可以帮助使医生与患者之间的沟通变得不那么生硬，更加自然和有效。一个模型可以将患者对其症状的非正式描述从日常用语翻译成精确的医学术语，洞察情感的潜台词——或者反过来：将医生对治疗方案的解释重新编写，以便患者更容易理解和遵循。</p>
<p>一种新兴能力LLMs有潜力创造真正定制和量身定制的个体体验：根据个人的偏好和需求，学习、动态演变和适应的能力。通过在训练过程中摄取与主观人类相关性指标相结合的文本内容，个性化语言模型可以实现对主观人类兴趣的理解。</p>
<p>随着LLMs消化不同的临床语料库，他们可以建议针对患者的生活方式和合并症的健康干预方法，包括具体的（药物方案、锻炼与饮食等）。甚至可以应用情商和同理心建模，以改善患者互动。</p>
<p>例如，LLM可能会处理患者的电子健康记录，其中包含医生的笔记、诊断测试以及药物和近期治疗历史，以建立该患者独特性的档案。然后，它可能会建议一个以患者为中心的个性化治疗计划，考虑影响患者健康旅程的医疗、行为、心理社会和环境参数。</p>
<p>此外，LLMs可以用于运行富有同情心的虚拟健康助手，这些助手能够以支持和鼓励的方式与患者交谈。一个LLM驱动的聊天机器人可以识别患者自身微妙的语言线索，并调整自己的沟通风格，以更好地符合患者的需求，从而带来安慰并增强患者坚持治疗计划的韧性。</p>
<p>LLMs 仍然处于初期阶段。在未来几十年中，随着它们学习处理大量原始数据并适应环境、个性和情感脆弱的患者，LLMs 可能会真正改变医疗服务的方式。我们将扩展医疗决策，提高患者沟通，建立真正个性化的用药方案，并提高工作效率。LLMs 可以用来设想干预措施，以增强关怀护理，同时减少伤害患者和干扰医疗的情绪。我们将做出更好的临床决策，并与患者进行更有效的沟通。虽然这些工具可以改善临床护理，但我们始终需要专注的专业人士和人类的细心关注。这些不是取代我们敬业医生的人工智能机器人。这些进步将增强医学知识、艰苦获得的临床经验和与患者的个人联系。</p>
<h1 id="构建LLMs的艺术"><a href="#构建LLMs的艺术" class="headerlink" title="构建LLMs的艺术"></a>构建LLMs的艺术</h1><p>我们已经讨论了LLMs的用例和力量，但在医疗保健和医学领域，甚至可能在所有行业中，这些LLMs如果没有其他数据的补充，将无法提供预期的结果。在医疗保健领域，这可能包括医疗机构或保险公司的网站、标准护理程序、电子健康记录、临床数据、可穿戴数据、基因组数据等。</p>
<h2 id="检索增强生成"><a href="#检索增强生成" class="headerlink" title="检索增强生成"></a>检索增强生成</h2><p>LLMs 有时能以惊人的准确性回答问题，但有时它们会重复训练数据中的事实，结果却不准确，仍然出错。也就是说，它们会产生幻觉。这是因为 LLMs 知道词语之间的统计关系，但不知道它们的含义。</p>
<p>当LLMs向公众广泛介绍时，围绕新兴能力的概念引起了很多兴奋。因此，许多组织寻求探索和揭示这些模型中潜在的隐藏功能。他们认为LLMs具备未知的能力或特性，可以被利用。然而，随着研究人员深入探讨涌现能力的概念，越来越明显的是，这一概念是一种幻影，而不是LLMs的隐藏功能或特性。</p>
<p>随着时间的推移，技术社区达成共识，认为LLMs中出现的能力的想法是没有根据的。这些模型的观察行为和输出可以通过它们广泛的训练数据以及在训练过程中学习到的复杂模式来解释，而不是任何固有的、未被发现的能力或功能。</p>
<p>相反，LLMs 展现出强大的能力，能够整合和优先考虑他们收到的提示中提供的上下文信息。这一特征通过研究得到了持续的证明，突显了理解和优化 LLMs 已知能力的重要性，而不是追逐难以捉摸的突现功能的概念。</p>
<p>通过将相关信息战略性地嵌入提示中，可以有效地引导LLM的输出，确保生成的内容与适当的上下文和期望的输出更紧密地对齐。这种方法利用了LLMs固有的能力，能够吸收和应用所呈现的知识，从而产生更准确、真实和符合上下文的回应。</p>
<p>在提示中包含上下文参考数据已被证明是一种非常有效的技术，可以优化LLMs在广泛应用中的表现。这种方法使用户能够利用这些强大模型的巨大潜力，同时对生成的内容保持更高的控制，从而最终产生更可靠和有用的输出。</p>
<p>将上下文参考数据或外部来源纳入演变为一种人工智能框架，即检索增强生成（RAG）。这是一个旨在通过使用外部数据源来增强模型，从而提高LLM生成的响应质量的人工智能框架，这些外部数据源补充了LLM的训练数据。</p>
<p>在没有使用 RAG 的情况下，使用LLM与聊天机器人应用程序互动的用户如图 2-4所示，展示了给LLM的典型用户提示词。</p>
<p><img src="/../asset_02InsideAIBlackBox/04.png">图 2-4  给 LLM的用户提示词</p>
<p>第一步是用户输入一个提示词，比如“我该如何康复我的腿筋拉伤？”聊天机器人应用程序或界面接收该提示，并将问题传递给其LLM。模型在其数据语料库中搜索答案，将答案返回给聊天机器人，聊天机器人再将响应反馈给用户。现在这是一个基本示例，并不旨在说明任何特定聊天机器人或技术（如 ChatGPT 或Gemini）的工作原理。这些工具可能更复杂，结合搜索或其他功能来得出响应。</p>
<p>现在让我们看看使用 RAG 时这张图片是如何变化的，如图 2-5所示。</p>
<p><img src="/../asset_02InsideAIBlackBox/05.png">图 2-5. 使用 RAG 的聊天机器人</p>
<p>使用 RAG 解决了LLMs面临的一些挑战，在医疗或医学领域，一个大挑战是缺乏对药房、临床、电子健康记录、政策、医生笔记等医疗数据的访问。凭借医疗数据和来自公司自身数据源和网站的专有数据，LLM的输出不太可能不准确，从而更有可能减少或消除幻觉。更重要的是，LLM可能会回应“我不知道。”</p>
<p>返回到 图 2-5，用户输入一个提示词，该提示词被聊天机器人接收。不同的是，聊天机器人并没有将问题传递给 LLM，而是对公司的数据源进行了搜索（步骤 2）。在这个例子中，这些数据源包括政策、医生笔记、临床数据和电子健康记录数据。但其他数据也可以被包含，例如药房数据、索赔数据或任何被认为对用户查询聊天机器人至关重要的外部参考数据源。</p>
<p>步骤 3 中，聊天机器人提供了提示词给LLM。这些指示词可能会指导LLM使回应听起来像是来自医生，但要使用高中阅读水平。除了原始用户问题外，还包括对响应提示有用的外部数据（公司数据）。配备这三个提示要素的LLM将优先考虑公司的数据或外部数据源。LLM将生成回应，聊天机器人将把回应传递给用户。</p>
<p>RAG 的好处是多方面的。利用当前最佳来源的信息可以避免另一个困扰LLMs的问题，即数据过时，因为它反映了最后一次训练数据的日期。如果模型需要适应新信息，就必须重新训练。建立一个可以在必要时更新新材料的内容库，可以实现快速而粗略的适应，而不是全面的改造。</p>
<p>此外，提示词指令可以促使LLM表现出良好的行为，例如在不知道问题答案时予以承认。如果对内容库的信心不足以回答用户的查询，模型可以做出正确的选择，表示它不知道，而不是提供一个看似合理但可能错误的回答。</p>
<p>然而，RAG 的有效性取决于检索系统的质量。如果搜索没有为LLMs提供最相关的高质量基础信息，模型可能无法回答任何问题——即使这些数据可能适合回答此类问题。因此，优质医疗信息的重要性不言而喻。</p>
<p>简而言之，检索增强生成是人工智能的一个有前景的新里程碑。迄今为止，提高LLMs性能的最佳方法是将其根植于外部、及时和可验证的数据。通过公司的专有数据为LLMs提供动力，使LLM聊天机器人能够从外部数据源获取可靠信息，从而提供更准确的响应。这避免了LLM因未包含在其训练数据集中而缺乏必要知识的问题，从而导致幻觉。</p>
<p>建造一个LLM既是一门艺术，也是一门科学。它涉及一个创造性的过程，需要想象力、直觉以及对语言和人类行为的深刻理解。</p>
<p>下一部分描述了构建一个LLM的艺术，涉及六项活动：</p>
<ul>
<li> 概念化</li>
<li>数据选择与策划</li>
<li>模型架构与设计</li>
<li> 提示工程</li>
<li> 精炼与反馈</li>
<li> 与应用程序集成</li>
</ul>
<h2 id="概念化"><a href="#概念化" class="headerlink" title="概念化"></a>概念化</h2><p>组建一个多元化的团队通常在建立一个LLM方面大有裨益，以满足其组成用户的需求和要求。图 2-6展示了一个多元化团队的组织和启动，旨在理解问题和潜在的前进方向：一个概念化阶段。</p>
<p><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781098160913/files/assets/llmg_0206.png">图 2-6. 概念化</p>
<p>形成一个LLM以解决医疗问题的第一步是明确当前的医疗问题或任务。这将涉及确定一个高度特定的医疗领域和用例，同时描述LLM的期望结果。识别医疗领域可能包括以下一个或多个步骤：</p>
<ol>
<li>指定相关的医学专业或细分领域（放射学、病理学、肿瘤学等）或相关的增强功能（临床决策支持功能）。该领域存在哪种数据（例如，医学影像、电子健康记录、临床笔记、医学文献）？</li>
<li>指定预期的用例：清楚地阐明LLM在医疗保健背景下的目的和目标。用例的示例可能包括疾病诊断、风险预测、治疗建议、网站导航、呼叫中心协助和患者沟通。第 3、4 和 5 章列出了大量的用例。定义LLM的目标用户，例如医生、护士或患者。</li>
<li>确定每个用例的期望结果或目标。定义相关的性能指标，通过这些指标评估LLM的成功。考虑准确性、灵敏度、特异性或其他特定领域的评估指标等因素。定义任何约束或要求，例如可解释性、公平性或合规性。</li>
<li>评估训练LLM所需相关医疗数据的可用性和可获取性。了解数据的数量、种类和质量，以及任何潜在的偏见或限制。确定是否需要额外的数据收集或整理工作。</li>
<li>与专家互动：与了解问题领域的临床医生、研究人员或数据科学家合作进行设计。采用以用户为中心的设计技术，创建一个既必要又可用的模型。征求他们的意见，以确保问题陈述与临床现实相符，并帮助解决真正重要的挑战。邀请他们参与确定期望的结果、选择相关的数据源，并提供领域特定专业知识所带来的独特视角。</li>
</ol>
<p>在这个阶段，定义医疗保健问题和LLM的用例也使设计团队成员和数据的使用朝着特定方向集中，因为他们现在直观地理解了LLM应该使用的背景。他们能够朝着特定的性能标准努力，并对最终的LLM需要为实际用户“做”或实现的目标有共同的理解。</p>
<p>在明确和彻底定义之后，典型的下一步包括：数据收集&#x2F;预处理、模型架构设计、训练&#x2F;优化、评估&#x2F;验证、在医疗环境中的部署&#x2F;监控。但如果问题定义受到影响，所有这些步骤都将崩溃。</p>
<h2 id="数据选择与策划"><a href="#数据选择与策划" class="headerlink" title="数据选择与策划"></a>数据选择与策划</h2><p>在医疗保健领域，生命或健康的损失悬而未决，选择LLM的训练数据变得更加关键。训练数据的数量很重要，但护理服务通常需要展现极高精度和细微背景的医疗和健康LLMs。以稍微偏离的方式解读医疗记录可能会导致一系列问题，具体取决于用例。图 2-7描绘了数据选择和策划的繁忙工作，在这里，数据科学家，有时还有机器学习工程师和人工智能工程师，必须理解将在 RAG 中使用的外部数据源，这些数据源将为LLM提供支持。</p>
<p><img src="/../asset_02InsideAIBlackBox/07.png">图 2-7. 数据选择与整理</p>
<p>在许多医疗保健公司中，数据被孤立并由不同的数据团队“拥有”。许多公司没有明确的数据治理和访问政策。获取特定数据集的访问权限通常是一个挑战。训练数据可能存在缺口，这会影响模型在“实验室”之外应用于临床环境时的韧性。例如，由于 HIPAA 或 GDPR 的原因，去标识化的训练数据或仅具有某种粒度级别的数据可能无法反映“真实世界”的数据，从而导致模型遇到困难或无法按预期表现。</p>
<p>患者的原始医疗数据不会向非研究人员发布：这些数据高度敏感，受到隐私和知情同意等伦理问题的严格规定。数据发布政策必须在透明度和患者隐私之间取得平衡。定义LLM的使用方式（例如，药物发现、临床决策支持）将影响相关数据源的选择。</p>
<p>一种补充开源和专有基础模型的方法是检索增强生成（RAG），之前已经讨论过。它增加了模型的知识，使其能够超越在预训练中获得的内容；在推理时，它可以匹配上下文文档（例如，网站数据、病人记录等）并根据这些文档调整其输出。这是一个简单的补充，可以将特定领域的语料库添加到模型中，而不影响基础部分。</p>
<h2 id="模型架构与设计"><a href="#模型架构与设计" class="headerlink" title="模型架构与设计"></a>模型架构与设计</h2><p>LLMs今天的专业领域涵盖了从使用不同数据类型和模式（仅文本、文本和图像、文本和语音对话、文本和音频流、文本和乐谱、文本和编程代码、文本和视频）到执行多种不同任务（摘要、分类、生成、翻译、推荐等）的广泛范围。</p>
<p>一个LLM的架构是它的设计，指定信息如何在模型中流动，以及模型如何在该信息流下处理和生成语言。架构设计是创造力、迭代和领域知识的直观计算融合。早期的设计选择是决定使用哪种深度学习架构来进行LLM。存在不同类型的神经网络（见图 2-8），决定哪种类型是模型架构是一个早期的架构选择。</p>
<p><img src="/../asset_02InsideAIBlackBox/08.png">图 2-8. 架构与设计</p>
<p>架构和设计不仅涉及LLM模型，还涉及确定该模型如何与渲染模型推断所需的其他组件相适应。换句话说，该模型是通过网页应用程序前端展示，还是像聊天机器人一样的应用程序，或者两者兼有？LLM在整体架构中处于何处，数据如何在各个组件之间流动？这些都是可以在LLM开发的同时进行和实现的决策。</p>
<p>模型必须构建，这可以通过深度学习编程库来完成。然后，模型必须进行微调和优化。微调LLM是指调整某些模型参数的值，以便模型在某些任务或特定数据集上表现更好。由于微调是一种启发式方法，工程师会尝试不同的方法，并根据经验结果和领域知识结合实验和直觉做出决策。</p>
<h2 id="提示词工程"><a href="#提示词工程" class="headerlink" title="提示词工程"></a>提示词工程</h2><p>提示词工程可以是一种艺术形式，因为它涉及到精心设计输入提示词或查询，以引导模型的响应。设计提示词是一项需要领域专业知识的技能，以促使模型产生人类工程师希望看到的答案。工程师需要编写提供上下文、约束的提示词，以希望促使模型生成稳健（准确且可能）且独立（可读连贯文本）的输出。图 2-9 说明了我们在使用 ChatGPT、ClaudeAI、Gemini 和其他 LLMs 时已经习惯的基本提示词。</p>
<p><img src="/../asset_02InsideAIBlackBox/09.png">图 2-9. 提示工程</p>
<p>提示词工程对于LLMs意味着非常仔细地选择纳入提示中的文本线索，以引导模型的输出。这与我们与搜索引擎的互动方式不同，搜索引擎接受静态查询并找到相应的静态答案。提示则不同：查询不仅是携带上下文、约束和目标信息的连续文本，而且它也是用户与开放式LLM之间持续信号传递过程的一部分。</p>
<p>提示工程师进行研究，以确定LLM所训练的数据和模型的偏见，以便他们可以编制可能需要避免的陷阱列表。与此相关，领域特异性非常重要。适当的医疗或健康提示的语言与适当的工程导向提示的语言会有所不同，因此用户可以避免提示词中的概念与模型的潜在表示空间之间的不匹配。</p>
<p>测试周期中的信号将标记出模型容易受到噪声影响的地方，这可能是由于缺乏外部上下文的强化，从而导致虚假阳性大量涌入。例如，LLM被训练用于分析和解释放射学图像，如 X 光片或 CT 扫描，以检测异常或疾病迹象。如果LLM的训练数据集有限或缺乏放射科医生的外部验证，LLM可能会产生幻觉并错误地识别出异常。</p>
<p>在其他情况下，通过对比案例进行训练，或将物体人工插入输入流（包括正面和负面示例），使模型能够学习辨别细微差异。这种编码反馈可以作为不断的反馈循环，精炼提示的艺术，使工程师能够雕刻、塑造和引导模型行为。这个循环使得提示变得既是艺术又是科学。</p>
<h2 id="精炼与反馈"><a href="#精炼与反馈" class="headerlink" title="精炼与反馈"></a>精炼与反馈</h2><p>这就是你如何构建一个LLM：你经历一个迭代过程，在这个过程中逐渐改进模型。你收集用户或领域专家的反馈，或设定评估指标，并迭代地提高模型的性能和能力。这个迭代循环使工程师能够完善模型生成响应的方式，解决已知的不足，并适应不断变化的需求和口味。图 2-10 说明了开发一个LLM的持续反馈循环。</p>
<p><img src="/../asset_02InsideAIBlackBox/10.png">图 2-10. 精炼与反馈</p>
<p>反馈循环应被定义，特别关注用户对输出的直接反馈，这是系统能获得的最佳指导。这可以通过评分、调查维度，甚至是对其优点、缺点和改进领域的开放式评论来实现。在某些领域，如医疗保健，主题专家的意见是不可或缺的，以确保LLM能够跟上专业标准，并生成适当且相关的输出。最后，准确性、流畅性和连贯性等定量指标可以作为基准数据集的一部分进行计算，以评估LLM的性能。</p>
<p>另一种精细化技术包括微调，其中LLM在新的或者调整过的数据上进行重新训练，以明确符合反馈或期望的修改。还有更具针对性和区分性的提示，引导LLM朝着与主题和上下文相关的期望输出样本。最后，还有强化学习技术，其中LLM可能会被条件化或激励，以产生符合预设奖励的数字文本输出，从而推动系统发展后续的行为倾向。在构建LLM的过程中，应有来自真实用户和专家的反馈迭代过程，以帮助确保LLM符合其预期用户的需求和偏好。</p>
<h2 id="与应用程序集成"><a href="#与应用程序集成" class="headerlink" title="与应用程序集成"></a>与应用程序集成</h2><p>值得注意的是，创建一个使用LLM的应用程序或应用与仅仅构建LLM相比，涉及一些不同的考虑。创建一个LLM应用将涉及将LLM与应用程序的逻辑和功能集成。这可能涉及设计应用程序的接口和 API，以允许应用程序向LLM发送输入，从中接收输出，并将这些输出集成到应用程序的用户体验中。集成可能包括处理与LLM交互所需的数据预处理、后处理和错误处理。图 2-11说明了在如何与LLM所在的外部和内部系统进行集成时需要做出的决策。与应用程序和应用集成的方式有很多种，这将涉及根据性能、可用性、可扩展性等要求做出可行和实用的架构决策。</p>
<p><img src="/../asset_02InsideAIBlackBox/11.png">图 2-11. 与应用程序的集成</p>
<p>用户界面设计在LLMs的应用中至关重要的一个方面是用户如何向LLM提供输入，以及他们如何理解和消化LLMs所提供的反馈。开发者必须设计自然流畅且“人性化”的界面，以引导用户向LLM提供信息，回答LLM的请求，并指示LLM生成与“说话者”意图密切相关的建议响应或内容。这可以是一个聊天界面，一个简单的用户文本输入表单，或者一组经典的华丽小部件和菜单。</p>
<p>应用LLMs也可能需要进行重大优化，以达到可接受的响应和效率水平。实时应用任务，例如对话和交流，通常涉及过多的数据或计算，无法为每个句子腾出时间，LLM驱动的应用程序向LLM发送、接收答案并在与其他用户沟通时进行下游处理。</p>
<p>开发人员在确保此类应用程序性能时，可能需要优化软件代码（例如，调整与LLM的通信输入和输出格式，以最小化在应用程序与LLM之间传输此类数据所需的时间）、数据处理管道（例如，缓存计算答案所需的最相关数据）以及应用程序基础设施设计（例如，针对分布式计算，这允许在并发请求和请求复杂性方面进行扩展）。</p>
<p>安全在LLM应用中至关重要。敏感的医疗和个人数据需要全面保护，以防止信息泄露和恶意攻击。应采用最新的安全实践，以充分防止未经授权的访问、数据泄露和恶意攻击。开发人员应选择最合适的安全方法来加密和保护用户数据，同时向用户提供保障。</p>
<p>与任何应用程序一样，LLM 应用程序将受益于人类反馈循环和迭代。LLM 应用程序设计师应包括收集人类反馈、分析使用模式以及根据用户需求和偏好对应用程序进行迭代改进的系统和机制。这项工作可能涉及 A&#x2F;B 测试、人类调查和数据分析，以了解更多关于应用程序使用的信息，并为应用程序和 LLM 的迭代改进提供依据。</p>
<h1 id="摘要"><a href="#摘要" class="headerlink" title="摘要"></a>摘要</h1><p>在本章中，我们介绍了LLMs和生成式人工智能的内部工作原理，深入探讨了它们如何通过机器学习和深度学习使用神经网络，超越传统的分类和预测任务。我们提供了关于人工智能与机器学习辩论的背景，得出结论它们是不同的。例如，机器学习是人工智能的一个子集，人工智能的目标要广泛得多，人工智能包括多个领域，这些领域对于LLMs是必要的。这些领域包括自然语言处理和计算机视觉。</p>
<p>超越单纯的分类和预测，我们讨论了LLMs在不同任务和领域中生成类人文本的能力。我们剖析了LLMs的架构和内部工作原理，包括支撑LLMs语言处理能力的Token、Transformer、参数和注意机制。我们通过描绘非恶性肿瘤的检测，说明了神经网络的功能——这是LLM的一个关键元素。</p>
<p>我们探讨了构建LLMs的过程，涵盖了从构思解决方案到定义一个或多个医疗保健用例的各个生命周期阶段。RAG 是医疗保健LLMS的一个关键方面，确保这些模型使用外部数据源以提高准确性，这在医疗保健领域至关重要。我们展示了 RAG 的使用以及这个 AI 框架如何与LLM协同工作。</p>
<p>理解LLMs的内部运作，从高层次上看，应该为读者准备好理解下一章中描述的许多未来用例如何在医疗保健领域实现。</p>
<p>1 “大脑基础：神经元的生与死，”国家神经疾病与中风研究所，访问日期：2024 年 6 月 24 日，<a target="_blank" rel="noopener" href="https://www.ninds.nih.gov/health-information/public-education/brain-basics/brain-basics-life-and-death-neuron#:~:text=Neurons%20communicate%20with%20each%20other,and%20dendrites%20of%20nearby%20neurons.%60&amp;&%60text=There%20are%20three%20kinds%20of,and%20ears%E3%80%82">https://www.ninds.nih.gov/health-information/public-education/brain-basics/brain-basics-life-and-death-neuron#:~:text=Neurons%20communicate%20with%20each%20other,and%20dendrites%20of%20nearby%20neurons.`&amp;&amp;`text=There%20are%20three%20kinds%20of,and%20ears。</a></p>
<p>2 Liat Clark，“谷歌的人工大脑学会寻找猫视频，”连线，2012 年 6 月 26 日，<a target="_blank" rel="noopener" href="https://www.wired.com/2012/06/google-x-neural-network%E3%80%82">https://www.wired.com/2012/06/google-x-neural-network。</a></p>
<p>3 这幅图来自“AI 与机器学习”，IBM 技术，2023 年 4 月 10 日，YouTube 视频，5:48，<a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=4RixMPF4xis%E3%80%82">https://www.youtube.com/watch?v=4RixMPF4xis。</a></p>
<p>4 “人工智能，”维基百科，最后更新于 2024 年 6 月 24 日，<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Artificial_intelligence%E3%80%82">https://en.wikipedia.org/wiki/Artificial_intelligence。</a></p>
<p>5 Ashish Vaswani 等人，“注意力机制是你所需要的一切”，第 31 届神经信息处理系统会议（NIPS 2017），加利福尼亚州长滩，<a target="_blank" rel="noopener" href="https://proceedings.neurips.cc/paper_files/paper/2017/file/3f5ee243547dee91fbd053c1c4a845aa-Paper.pdf%E3%80%82">https://proceedings.neurips.cc/paper_files/paper/2017/file/3f5ee243547dee91fbd053c1c4a845aa-Paper.pdf。</a></p>
<p>6 亚历克斯·爱德华兹，“研究发现，使用更小的语言模型可以更好地进行临床翻译，” Slator，2023 年 12 月 20 日，<a target="_blank" rel="noopener" href="https://slator.com/clinical-translations-better-with-smaller-language-models-research-finds%E3%80%82">https://slator.com/clinical-translations-better-with-smaller-language-models-research-finds。</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://szhowardhuang.github.io/2024/08/08/llmsClinical01/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Howard Huang">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="嵌入式老兵博客">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 嵌入式老兵博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/08/08/llmsClinical01/" class="post-title-link" itemprop="url">第一章 医生的黑色手提包</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2024-08-08 11:32:19 / 修改时间：11:37:23" itemprop="dateCreated datePublished" datetime="2024-08-08T11:32:19+08:00">2024-08-08</time>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>29k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>52 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>在 C. M. Kornbluth 的短篇小说《小黑包》中，挣扎中的医生福尔博士发现了一个来自未来的神秘医生包，里面装满了先进的医疗设备和药物。这些未来的设备增强了他作为医生的能力，使他能够以前所未有的效率诊断和治疗病人。当他探索包内的内容时，福尔博士对未来医疗创新的潜力感到惊叹，仿佛自己正站在医疗革命的边缘。</p>
<p>然而，C. M. Kornbluth的故事并不仅仅是对医学进步的庆祝。随着故事的发展，显而易见，这种强大的技术在错误的手中可能被利用来谋取个人利益，而不是为了更大的利益。这个叙述提醒我们，尽管未来的医学进步在其能力上看似神奇，但它们也伴随着重大的伦理责任和潜在的滥用风险。这个虚构的故事促使我们思考，随着医学技术和人工智能（LLMs及生成式人工智能）的快速发展，未来既有令人兴奋的可能性，也面临伦理挑战。</p>
<p>人工智能和LLMs有潜力提升临床护理，特别是在增强临床医生决策过程、改善患者与医生的互动、简化行政任务、提高患者教育和参与度方面，最终导致更好的健康结果。根据纽约著名医院网络纽约长老会医院的一位高级医疗执行官，通过利用多模态LLMs的能力，医疗机构有潜力开发复杂的虚拟医疗助手，这些助手可以主动监测患者健康并协助诊断。</p>
<p>正如传统的黑色手提包为医生提供了提供优质护理所需的基本工具，人工智能也准备成为一项不可或缺的资产，帮助临床医生为患者提供更个性化、高效和基于证据的护理。本章探讨了使用LLMs改善患者护理的可能性——特别是在临床医生和患者受益最多的地方。</p>
<p>LLMs 是自然语言处理 (NLP) 机器学习模型，似乎能够理解并生成人类语言文本。LLMs 是一种人工智能 (AI)，能够以卓越的能力理解和操控人类语言。它们被称为“大型”，因为它们是在大量文本数据上训练的，通常是数十亿个单词，这使它们能够学习人类语言的细微差别。</p>
<p>对于临床医生来说，LLMs 可以被视为先进的语言处理工具，能够协助处理涉及医疗数据的各种行政任务（如电子健康记录 [EHRs] 或非结构化的医生笔记）。正如听诊器和 X 光机扩展了临床医生评估患者健康的能力，LLMs 可以增强临床医生分析和解读大量研究数据或嵌入视频的电子邮件，或患者的历史健康记录、临床笔记、出院总结等的能力。</p>
<p>生成式人工智能是人工智能的一个子集或类型，就像LLMs和机器学习是人工智能的类型一样。生成式人工智能专注于创建新的内容，例如文本、图像、视频或音频，通常是为了回应用户的问题。生成的输出在风格和结构上往往类似于人类创作的内容。</p>
<p>当我们在本书中使用诸如LLMs或生成式人工智能这样的短语时，我们是作为涵盖广泛人工智能系统的统称，即使它们具有不同的属性或采用不同的机器学习算法。这些统称包括但不限于LLMs、小型语言模型、多模态模型和生成式人工智能。</p>
<p>这些模型是在大量我们的书面信息（例如，书籍、文章和网站）以及世界上大量主题上进行训练的。这使它们能够理解句子和段落中单词之间的关系、章节中积累的意义、叙事弧线所表现出的整体进展等等。</p>
<p>当 OpenAI 在 2022 年发布其语言模型 ChatGPT 时，它改变了对话式人工智能，解放了自然语言处理，为大众提供了一个简单的网络界面，使人类般的对话和问答成为可能。这LLM因其能够进行类人对话、回答问题、代写论文以及执行各种任务而在全球范围内获得了广泛的欢迎。它引起了科技公司首席执行官对技术对商业和日常生活影响的兴趣。但让我们提醒自己，应该如何看待使用LLMs。</p>
<p>一篇 2023 年的博客讨论了 ChatGPT 实验，提供了关于我们应该如何思考和使用LLMS的见解。如果我们将LLMs视为总结工具，并将它们的提示词视为该过程的锚点，而不是对另一个有知觉的存在的命令，那么我们可以在医疗保健中有效地使用这些工具。我们在关键词搜索的简洁约束下做了类似的事情：我们学习并仍在学习如何“引导”搜索朝向我们想要的任何内容。自几十年前搜索出现以来，我们已经学会了如何用语言锚点来构造问题，这些问题很可能会引导搜索朝向他们想要的内容。我们可以对LLM提示词做同样的处理，将它们视为总结的锚点，而不是规范，从而更好地聚焦。一旦我们将LLM提示词视为总结的锚点，我们就可以一方面通过将总结任务嵌入模型的知识库中，另一方面在提示词定义的任务范围内更有效地引导它们。</p>
<p>随着我们对LLMs的理解不断加深，夸大其词的说法需要和如何在医疗保健中构建和利用LLMs的现实评估相平衡。LLMs是统计自回归模型，是一种机器学习模型，能够根据上下文预测下一个单词。例如，假设你是一位正在写故事的作者。你有一个写作助手，它根据你已经写的单词为你提供下一个合适的单词。这个助手阅读了许多不同类型的故事，因此它大致知道单词是如何相互关联的，以构成一般有用的句子和更复杂的叙述。借助这个写作助手，你不断写作，不断接受建议，故事从一个单词到另一个单词，逐渐变得更长。每一步，下一个单词都是基于之前写的单词而来的。这本质上就是自回归模型的工作原理：它从现有数据中学习，并基于之前的数据序列一步一步生成（或预测）新数据。</p>
<p>Gemini，ChatGPT，Claude.AI，以及其他自回归LLMs提供了类似人类推理的错觉，能够对细微或复杂的提示给出惊人的回应。它们甚至似乎像人一样，提供看似情感的反应和同理心的理解。这些错觉因我们的认知偏见而变得更加可信，即我们倾向于将事物、动物和人工智能拟人化。下一章，第 2 章，更具体地讨论了LLMs的工作原理，包括明确的细节，如tokens、参数等。</p>
<h1 id="LLMs和生成式人工智能的潜力"><a href="#LLMs和生成式人工智能的潜力" class="headerlink" title="LLMs和生成式人工智能的潜力"></a>LLMs和生成式人工智能的潜力</h1><p>尽管现有的医疗LLMs在某些方面已经令人印象深刻且有用，但发展仍处于早期阶段，这些创新仅实现了转变我们提供医疗服务潜力的一小部分。目前的发展强调减少临床医生的负担和文档工作——但这仍然只是对医疗服务交付的LLM影响的开始。已经有完整的医疗特定版本发布，但由于各种原因，它们尚未在临床护理的交付方式上产生显著影响。</p>
<ul>
<li>数据可用性和质量: LLMs 在大量数据集上进行训练，它们的性能将取决于用于训练的数据质量。在医学领域，数据通常分布在多个来源，例如电子健康记录（EHR）、医学期刊和随机临床试验。此外，数据需要完整、准确或一致，这会影响 LLMs 的表现。</li>
<li>偏见与公平: LLMs 从有偏见的数据中学习，这意味着它们是在反映现实世界偏见的数据上进行训练的。这可能导致在我们为某些患者群体提供护理时转移和强化已经存在的强烈偏见。例如，一个在有偏见的医疗记录数据集（例如，包含特定种族或民族群体数量较少的数据集）上训练的 LLM 也可能生成有偏见的建议。在讨论偏见时，重点是系统是否按预期正常工作。减轻偏见通常对系统功能和成功使用至关重要。</li>
<li>可解释性和可说明性: 实现可解释性或可说明性一直是人工智能最显著的谦逊姿态之一。LLMs 通常被视为“黑箱”，这指的是它们的“内部工作”被压缩在一起，以至于整体操作难以理解。在医学中，缺乏可解释性和可说明性是一个问题，因为如果我们不知道它们为何得出某些建议，就会对采用 LLMs 存在巨大的抵触情绪。结果可能是这些建议并不像人们希望的那样合理，因为它们结论的基础根本上是有缺陷的。</li>
<li>监管环境: 在医学领域，人工智能发展的一个关键挑战是监管空白。目前没有明确的指导方针可以突破繁文缛节，定义在医疗保健中开发和部署LLMs的含义。这种不确定性有效地抑制了在医学复杂和高风险环境中尝试使用人工智能的热情，因为几乎没有先例可以指导医疗保健组织在这些情况下如何行动。如果他们能够这样做，他们可能会担心违反某种法律限制或合规问题。</li>
<li>伦理环境: 一般来说，关于在医学中使用LLMs的担忧包括潜在的误用、患者自主权的侵蚀和患者隐私的侵犯。在可以在医疗保健中使用LLMs之前，必须考虑与潜在误用、人类自主权的妥协和患者隐私相关的伦理问题。</li>
</ul>
<p>LLMs 明确地建模了单词与意义之间的关系，涵盖长篇文本，从而实现更流畅的文本理解和内容生成。此外，它们与更原始的语言模型不同，后者由于数据规模和模型参数化的限制，只能将单词连接成文本模式。第 2 章 详细介绍了 LLMs 的工作原理，解释了参数、tokens等内容。</p>
<p>现有的医疗和其他LLMs在许多方面已经相当令人印象深刻。我们正处于这些算法和模型成熟的初期阶段，但医疗服务交付的转型潜力巨大。尽管如此，目前的重点仍然是减少临床医生的行政和文档负担，这只是变化的开始。当前一代的LLMs可能很快会显得相当原始。在未来几年，随着LLMs和其他类型的人工智能的发展和改进，将会有更多令人惊叹和变革性的应用出现。</p>
<p>有几个LLMs和其他人工智能平台是专门为医学和医疗保健应用而创建的，其中一些是研究原型，其他一些则更加成熟并在实际应用中使用。以下是一些显著的例子。</p>
<ul>
<li>PubMedBERT：这个LLM及其相关模型在生物医学文本上进行了预训练，研究人员表示它超越了所有先前的语言模型。它旨在在生物医学领域表现出色。它是在 PubMed数据库中大量生物医学研究论文上进行训练的。它使用了 BERT，这是一个由谷歌开发的自然语言处理模型。它旨在帮助计算机更好地理解和解释人类语言，以考虑单词之间的上下文和关系。BERT 可以根据句子或段落中前后单词的语境理解一个词的含义。BERT 彻底改变了自然语言处理领域，并在搜索引擎、聊天机器人和情感分析工具等各种应用中得到了广泛采用。它理解和解释人类语言的能力对改善人机交互以及实现对大量文本数据的更准确和高效处理具有重要意义。</li>
<li>BioBERT：这个是一个专门为生物医学文本适配的语言模型。它基于原始的 BERT 模型，该模型是在通用文本语料库上训练的。BioBERT 进一步在生物医学文献上进行训练，增强了其理解和处理医学及科学语言的能力。它在来自生物医学领域的大规模语料库上进行预训练——特别是结合了 PubMed 摘要和来自美国国家医学图书馆的 PubMed Central (PMC) 全文文章。</li>
<li>SciBERT：由艾伦人工智能研究所设计的这个基于 BERT 的模型是在大量科学文本语料库上训练的，涵盖生物医学和计算机科学文献等领域，并已应用于科学文档摘要等任务。</li>
<li>ClinicalBERT ：旨在学习临床文本的领域特定语言及其独特结构，例如听起来像人类的释义，ClinicalBERT 是一个基于 MIMIC-III 数据库中临床笔记的领域特定 LLM，它经过训练以执行临床命名实体识别、关系提取和情感分析等任务。</li>
<li>谷歌的 Med-PaLM：谷歌的路径语言模型（PaLM）经过医学知识的微调，创建了 Med-PaLM，它在各种医学基准测试中得分很高，包括回答医学考试问题和提供临床决策支持等任务。谷歌还宣布了 Med-PaLM2，它在回答美国医学执照考试（USMLE）类型问题时达到了人类专家水平。</li>
</ul>
<p>无论是使用之前提到的LLMs特定领域示例，还是结合多个LLMs，例如谷歌的Gemini、Open AI 的 ChatGPT 或 Anthropic，或 ClaudeAI 与公司的专有数据结合，LLMs都将使医疗行业变得更好。这些 AI 模型使得在健康计划或支付方网站上导航、查找和理解内容变得更加容易。这些模型通过分析来自电子健康记录、临床试验和科学文献的大型数据集，加速了医学研究。最近的LLMs进展使医生或研究人员能够让LLM阅读一封或多封短或长的电子邮件，其中许多可能包含视频或音频剪辑以及临床医生的摘要。</p>
<p>此外，LLMs 正在解决医疗保健中的各种挑战，例如解读和清理医疗记录。他们还通过对话式人工智能弥合患者与提供者之间的沟通差距，确保在治疗前充分理解患者的病史，并分析来自各种来源的医疗数据，以获得更好的患者洞察。随着 LLMs 继续发展并融入医疗保健系统，他们的影响预计将是变革性的，塑造患者护理、研究和沟通的未来。</p>
<p>他们仍然有很大的空间来持续超越最熟练的医疗专业人员的专业知识。不过，将LLMs作为医生与患者关系中的第三个元素整合的潜力巨大。这种潜力包括协助诊断、文档记录和患者沟通。</p>
<p>每一个需要人类从医疗编码、患者教育、诊断、患者接收、治疗计划、药物管理等创造原创工作的临床和行政医疗流程，都有重新创新的机会。</p>
<p>LLM 和生成式人工智能应用程序或应用正在开始蓬勃发展，这得益于平台层的成熟、模型的持续改进以及免费和开源模型的日益可用。这为开发者、初创公司和企业提供了构建创新应用所需的工具。随着移动设备催生了具有传感器、相机和随时随地连接等新功能的新类型应用，LLMs 准备迎来一波新的生成式人工智能应用和医疗设备。</p>
<p>如今，医疗设备层出不穷，帮助我们优化生活，从健身追踪器到血压监测仪再到智能胰岛素泵。互联网搜索显示，医疗保健中使用的可穿戴医疗设备种类繁多，13 包括血压监测仪、血糖仪、心电图监测仪、健身追踪器等。我们喜欢将这些设备附加在自己身上，以使我们的生活更健康，工作条件更轻松。随着健康 LLMs 的进步，这些设备将变得更加有用。例如，LLMs 可以整合来自多个来源的数据，如您的 Fitbit、饮食应用、锻炼应用、禁食应用和睡眠追踪器，以提供更全面的健康视图。然后，它们可以分析这些综合数据，以识别在单独查看每个数据源时可能不明显的模式和趋势。</p>
<p>互联网搜索仍然是消费者使用谷歌的一个最爱——有些人称之为“谷歌医生”——以了解他们的症状和诊断。然而，证据清楚表明，互联网搜索能够轻微提高诊断的准确性，而在分诊准确性方面几乎没有提高。LLMs 将在未来几年内改变这一局面，因为互联网搜索与 LLMs 将会整合。ChatGPT 的问答互动模型引导您与互联网进行类似对话的交流——这种交流是上下文敏感和生成式的。</p>
<p>让我们探讨一下当前谷歌搜索和 ChatGPT 问答提示之间的差异。</p>
<ul>
<li>互动风格: 谷歌搜索是一种启动-响应风格，而 ChatGPT 采用问答风格，您用自然语言向它提问，它会给出具体的答案。谷歌搜索通常会返回许多与您的搜索词和短语相关的结果。它是一个相对灵活的系统，因为它返回所有匹配的结果并对其进行排名。谷歌搜索还会引用来源。</li>
<li>信息来源: 当您在谷歌上进行搜索时，系统会利用互联网庞大的网页和其他内容的索引，以找到可能匹配您的搜索请求的内容并加载它。相比之下，ChatGPT 利用其训练过的信息来源，这些来源包括截至特定日期的文本数据语料库，通常在该日期与用户提示的当前日期之间存在延迟。</li>
<li>答案的特异性: 当你在谷歌上搜索时，你可能会看到一系列网页、文章和其他资源，你需要浏览和滚动才能找到你所寻找的具体信息。ChatGPT 试图直接为你提供与所需信息相关的具体答案，而不需要你进行所有的搜索。当然，这也可能导致幻觉，这意味着人工智能不正确，生成无意义的输出，或者简单地提供事实错误的信息。我们应该提醒读者，称人工智能或 ChatGPT 产生幻觉时，我们是在将人工智能拟人化，而不是在描述一个缺乏许多人类特质的非人类物体或机器。</li>
<li>创造新事物: 谷歌搜索从根本上来说是关于在网络上寻找已经存在的信息。一个LLM不仅可以找到这些信息，还可以分析、生成新文本，并解释或论证某个结论。</li>
</ul>
<p>LLM-驱动的聊天机器人将回答我们关于健康的问题，而LLM-驱动的诊断工具将帮助医生更准确地诊断疾病。临床医生将利用医学LLMs来制定个性化治疗计划并监测患者的进展。</p>
<p>LLMs 将彻底改变消费者和患者在健康及医疗系统中的导航方式。通过提供个性化的见解、建议和支持，LLMs 可以使患者和消费者承担更多的责任，做出更明智的医疗选择。</p>
<p>LLMs 可以通过多种方式彻底改变医疗保健</p>
<ul>
<li>个性化健康教育: LLMs 为消费者和患者提供关于他们健康状况、治疗选择和预防策略的定制教育。生成式人工智能可以用来创建个性化的教育视频，使临床医生能够根据个人的具体需求、语言和偏好来调整教育内容。</li>
<li>医疗决策: 支持使用LLM聊天机器人应用的消费者和患者可以帮助他们在医疗保健方面做出明智的选择。聊天机器人可以对各种治疗选择进行产品或计划比较，并通过视频等多种方式解释每个选项的优缺点。这将不会提供医疗建议或临床建议，因为聊天机器人只是整理和总结已经提供给患者的数据和内容。聊天机器人作为理解内容的工具。</li>
<li>浏览辅助: LLMs 帮助消费者和患者在复杂的医疗系统中找到合格的医疗机构、安排预约并理解保险覆盖范围。使用聊天机器人在互联网上搜索（例如，ratemds.com、vitals.com、healthgrades.com 或 Yelp）以查找和总结患者对医疗机构或特定临床医生的评价。尽管这些评价是主观的，但像聊天机器人这样的工具可以总结这些数据，使消费者能够做出更明智的选择。</li>
<li>情感支持: LLMs 支持消费者和患者的情感健康。LLMs 可以倾听关切，提供鼓励，并将患者与面临类似挑战的其他人联系起来。LLMs 所促进的对话性质为支持和赋权消费者和患者提供了对话的机会。</li>
</ul>
<p>LLMs 将改变患者和消费者面临的当前个性化格局，从而推动医疗保健的个性化程度提高。这将包括辅导支持，提供更个性化的信息和建议。LLMs 可以使患者和消费者在健康和福祉方面更加负责任，通过对自身健康做出明智的决策。</p>
<p>选择一个由LLM驱动的聊天机器人在于LLMs所赋予的对话式人工智能的强大能力。一些实际应用中由LLM驱动的聊天机器人的例子可能包括以下任意一种：</p>
<ul>
<li>一个有慢性健康状况的人可能会使用一个具有LLM功能的聊天机器人来跟踪和记录症状，帮助管理处方，并提供关于健康生活的量身定制的信息。</li>
<li>一位面临选择的绝症患者——是否进行手术——可能会使用一个LLM聊天机器人来量化每个选项的风险和收益，并根据她自己的风险厌恶程度获得量身定制的建议，以便与她的医生进行对话。</li>
<li>慢性健康状况的护理人员，例如，可能会使用一个LLM驱动的聊天机器人来协调多个提供者之间的预约和护理，提供对提供者所说内容的解释和背景，并帮助做出决策。</li>
</ul>
<p>在这些例子中，基于LLM的聊天机器人相较于通用机器学习方法提供了某些优势。</p>
<ul>
<li>自然语言理解：我们已经提到过LLMs在自然语言理解方面的高超能力，这反过来又使得人类听起来更自然的语言输入成为可能（例如，用我们自己的话询问症状），这比填写结构化表单或基于关键词的搜索更直观和易于访问。</li>
<li>情境感知： 检查引用文本，LLMs可以在对话过程中保持上下文，并理解信息之间的关系，从而使聊天机器人能够为患者的问题提供更具信息性、减少重复和冗长的回答。然后，机器人可以根据患者最初描述其症状、处方药物和生活方式因素的上下文，跟踪其回答在与患者互动过程中的变化。</li>
<li>个性化支持： 通过与用户对话，了解人们的具体情况和问题，一个LLM驱动的聊天机器人可以提供针对个人健康状况、治疗计划和生活方式的有用建议和建议，这将更加有意义和实用。</li>
<li>预后支持： LLMs 可以从用户随时间提供的信息流中提取信号，并将这些洞察合成患者记录中发生的趋势。凭借这些数据，聊天机器人可以例如向用户标记一个问题，或自动将他们推荐给算法认为他们可能受益的有用资源或预防护理，最终目标是提升健康结果。</li>
<li>情感智能支持： LLMs 可以被训练成以理解和支持的语气进行交流。那些在慢性疾病的日常挑战中挣扎的人，可以从拥有一个支持性的对话伙伴中受益，以保持他们的动力和心理健康。</li>
<li>可扩展性： 大多数机器学习模型需要在每个新任务或能力的细微差别上进行明确的训练。然而，由于LLMs能够有效地调整其已有的语言通用知识，以支持在不同主题领域上执行甚至相当不同类型的任务，因此更容易扩展和调整聊天机器人，以满足更多样化的用户需求，并随着时间的推移扩展其知识库的广度和深度。</li>
</ul>
<p>一个定制的机器学习模型可以用较少结构化的数据输入和更简单的逻辑，并且可能无法提供太多支持或更广泛的背景。这反过来可能意味着用户的定制化程度较低，支持的范围较浅且较窄，并且随着时间的推移需要更多的工作来构建和维护。</p>
<p>一个LLM驱动的机器人不需要对心理痛苦或功能分类的定义。然而，它仍然会发挥自身的能力，包括自然语言交互、上下文理解和“深度”知识整合的一些优势，以提供一种广泛的、量身定制的支持，这在帮助慢性健康状况的人们方面似乎很有前景。</p>
<p>LLMs 将有助于平衡获取资源。患者和消费者将能够寻求和获取更高质量的健康信息和建议。医疗专业人员和更广泛的健康系统将更好地帮助实现患者的健康潜力。</p>
<p>关键不仅在于LLMs可以为我们做事情。我们可以利用LLMs和生成式人工智能来使我们更健康、更快乐。在下一部分中，我们将勾勒一些未来的应用程序或应用。</p>
<h1 id="LLMs在医疗保健中的承诺与可能性"><a href="#LLMs在医疗保健中的承诺与可能性" class="headerlink" title="LLMs在医疗保健中的承诺与可能性"></a>LLMs在医疗保健中的承诺与可能性</h1><p>每年全球有八百万人因缺乏更好的医疗保健而死去。医学和医疗保健正处于变革的浪潮边缘，因为LLMs和生成式人工智能正在从根本上改变医学。大型LLMs在与尖端人工智能突破相关的大型医疗和医学数据上进行训练，将促进个性化医疗保健的实现。</p>
<p>将其训练语料库中捕获的知识与患者病历中的信息结合起来，有可能显著推动临床决策支持系统的发展，并最终改善患者的护理和结果。LLMs可以帮助医生做出更精确的诊断，确定最佳治疗方案，甚至预测患者的预后。</p>
<p>在一个未来，LLMs被嵌入临床决策支持系统中，医生可能在护理时能够获得几乎取之不尽的医学知识。借助这样的工具，医生可能能够减少医疗错误：LLMs旨在帮助临床医生，帮助他们在可能犯错的边缘时远离危险。</p>
<p>&#x3D;&#x3D;LLMs 可以为临床医生提供前所未有的实时护理，通过跟踪电子健康记录中的医疗笔记、家庭设备的数据以及患者在数字平台上输入的信息。这种方法可以创建一个早期预警系统，监测症状、体征和实验室测试结果，提示疾病恶化。&#x3D;&#x3D;通过及早识别健康问题，LLMs 提供了一个极好的机会，帮助预防慢性疾病的发生，这些疾病可能会对患者的健康相关生活质量产生不利影响，并且通常会给医疗系统带来高昂的经济负担。</p>
<p>超越这一点，&#x3D;&#x3D;LLM衍生的见解可以为精准健康方法提供信息，旨在根据每个个体患者的遗传、环境和生活方式特征，优化初级、次级和三级预防以及治疗干预。因此，精准医疗可以被设计为优化治疗反应，提高患者参与度和治疗方案的遵循性，并改善健康结果&#x3D;&#x3D;，无论是对个体还是对群体。</p>
<p>鉴于LLMs的快速进展，以及它们在未来不可避免地与其他颠覆性技术的融合，人工智能在发展真正的预测性、预防性和个性化医疗系统方面的潜力呈几何倍增。用于医疗保健和人工智能的大数据&#x2F;LLM有望在危机来袭之前使预防性和先发制人的医学成为新常态。</p>
<p>随着新的人工智能功能的引入，如代理推理、检索增强生成、更大的提示词，甚至可能是无限提示词等，LLMs 的价值也在增加。它们可以基于更多的医学和其他特定领域的“数据”处理更有针对性和更细致的查询；推理假设场景；并以看似上下文相关和个性化的回复回答问题。如今，临床医生可能会使用多个应用程序来处理医学问题，例如 UpToDate 应用程序。LLMs 的采用可以改善这些应用程序在搜索、摘要、用户界面等方面的功能。</p>
<p>想象两个医疗场景，每个场景都利用了由LLMs和生成式人工智能驱动的应用程序。这些尖端的人工智能应用程序无缝集成了对话式人工智能、先进的搜索功能和智能摘要能力，彻底改变了患者和消费者与技术互动和获取信息的方式。让我们深入探讨这些假设场景，探索这些人工智能驱动的应用程序在医疗保健中的潜在影响。</p>
<p>在第一个场景中，医疗瑞士军刀是一个消费者应用程序的名称，旨在帮助患者和消费者在参与和导航医疗系统时提供支持。在第二个场景中，医疗向导是一个临床医生应用程序的名称，旨在成为临床医生的伴侣或虚拟助手。在这两种情况下，LLMs都经过培训或增强，结合了可信的知识来源、临床数据、药房数据、电子健康记录数据等。</p>
<h2 id="消费者医疗瑞士军刀应用程序"><a href="#消费者医疗瑞士军刀应用程序" class="headerlink" title="消费者医疗瑞士军刀应用程序"></a>消费者医疗瑞士军刀应用程序</h2><p>一家人工智能初创公司推出了一款新型聊天机器人，采用医疗特定的LLM构建。该聊天机器人是一款名为“医疗瑞士军刀”的健康应用程序，旨在为消费者或患者提供多功能服务，涵盖医疗场景中的预约医生、总结患者病史，以及倾听医生和患者的对话，以便提供简单易懂的医生指示总结。“医疗瑞士军刀”还提供医疗服务引导，帮助用户导航并识别适合其医疗状况的最佳医疗服务提供者。</p>
<p>大卫，一位 75 岁的老人，爱上了他的 Fitbit 可穿戴设备。在几周内，他多次收到信号，检测到心房颤动（AFib），并联系了他的医生，医生将他转诊给心脏病专家。大卫服用高血压药物和他汀类药物来控制胆固醇。大卫最近做了一项钙评分测试，结果显示他处于高风险类别。他的心脏病专家建议并进行了一次 AFib 消融，但并没有解决问题。大卫再次住院，接受控制性电击和心脏复律以恢复正常节律，但无济于事。</p>
<p>大卫想知道是否有 AFib 消融的替代方案。他与医生交谈，医生说 AFib 的效果很好，他们应该再试一次，因为这家医院专门进行治疗 AFib 的手术。大卫在他的 iPhone 上安装了医疗瑞士军刀应用程序，这是他的妻子推荐的，他决定使用它来研究关于 AFib 消融替代方案的问题。医疗瑞士军刀应用程序使用医学特定的LLM，一个类似于谷歌的基础性LLM，结合大卫的医疗记录、病史和健康信息的数据。该应用程序告知大卫另一种手术，即导管消融。向大卫展示了一个著名研究医院和专门从事该手术的医生的经过验证的视频。大卫对此产生了兴趣，并咨询了他的医生，医生告诉他这是一种他无法提供的替代治疗，大卫应该联系研究医院以了解更多信息。</p>
<p>该应用程序与大卫开始对话，讨论他的钙评分测试显示他处于高风险状态。它告知大卫，在导管消融之前，研究中心很可能会进行心脏计算机断层扫描（CT），以帮助他的主治医生预见在手术过程中可能出现的困难。</p>
<p>大卫使用医疗瑞士军刀应用程序联系医院，并进行初步电话预约以了解更多信息。大卫享受这次对话，感到受益匪浅，决定在这家研究医院接受治疗。该应用程序负责预约、航班和酒店预订。大卫与医疗瑞士军刀应用程序进行对话，以更好地理解他应该问哪些问题。该应用程序建议大卫询问以下内容：</p>
<ul>
<li>根据我的情况，最适合我的治疗方案是什么？</li>
<li>可用的不同治疗选项有哪些？每种治疗的风险和益处是什么？</li>
<li>我的心房颤动如何影响我的心脏？</li>
<li>我中风的风险有多大？</li>
<li>如果我有房颤发作，我该怎么办？</li>
<li>长期患有心房颤动的影响是什么？</li>
</ul>
<p>该应用程序的开发由一家知名公司进行，采用最先进的安全措施来保护患者隐私。应用程序的设计旨在避免对对话的误解或提供不准确信息，具体措施包括：</p>
<ul>
<li>使用一个大规模且多样化的数据集来训练LLM：该数据集包含医疗对话。这有助于LLM学习医疗语言的细微差别，并避免犯错误。</li>
<li>使用最先进的自然语言处理技术： 这些自然语言处理方法用于有效理解对话。这反过来帮助LLM准确找出话语的关键方面，并避免做出没有依据的推断。</li>
<li>结合医生和患者的反馈： 该应用程序提高了LLM的准确性。应用程序的持续反馈循环有助于识别LLM面临困难的领域，并进行必要的调整。</li>
<li>为用户提供透明度： 该应用程序允许用户了解其工作原理，并利用用户的数据帮助他们理解应用程序的局限性并负责任地使用它。</li>
</ul>
<p>LLM医疗瑞士军刀应用提醒大卫，它不是医生，无法提供临床建议或诊断。它告知大卫，在做出关于自己护理的决定之前，他应该向他的房颤医生寻求医疗建议。大卫和他的妻子飞行 2000 英里，入住推荐的靠近医院的酒店。两人都立即对心脏病专家的电话感到印象深刻，医生询问是否可以过来打个招呼。在与医生会面之前，大卫打开医疗瑞士军刀应用，查看他想要问的问题。应用提示大卫是否希望它监听对话。大卫告知医生他正在使用一个应用程序，将监听他们的对话，并帮助大卫在之后更好地理解对话。医生微笑着说当然可以，并提醒大卫在手术前后随时可以问他任何问题。</p>
<p>现在是星期一，准备进行一次术前 CT 扫描，以便为大卫的心房颤动治疗准备消融夹。CT 扫描显示他的主要动脉严重堵塞，心脏病专家警告大卫，他面临高风险心脏病发作，由于堵塞，他需要立即进行开胸手术。</p>
<p>大卫开始与他的医疗瑞士军刀应用程序交谈，询问当地医生是否应该发现这个堵塞。应用程序告诉大卫，由于他没有报告的症状，进一步的测试可能没有必要。它还建议他在有时间时向他的主治心脏病医生和当地医生询问这个问题。</p>
<p>如果没有使用医疗瑞士军刀应用，戴维将只与他的当地心脏病专家接触， 对他心脏病发作的高风险毫不知情. 尽管这或许只是偶然，戴维如果不是为了寻求导管消融，永远不会进行显示严重堵塞的 CT 扫描。</p>
<p>大卫进入了预计需要三到四小时的手术，但实际上进行了六小时。医生完成手术后告诉大卫的妻子安妮发生了什么。他表示大卫手术时间延长的原因是他有一种身体异常，导致血液从他的肺部流向心脏的方式是医生从未见过的，甚至是他认识的任何人也没有经历过。</p>
<p>医生强调他已经做了几十年这个工作，甚至与患有先天性心脏病和出生缺陷的婴儿合作过，但从未见过这样的情况。他们花了一些时间试图弄清楚情况，而不是使用一个泵来循环血液，他们用了三个泵，但仍然不够。</p>
<p>我们不得不提到安妮为什么对医疗瑞士军刀LLM医疗应用程序如此有信心。四年前，她被诊断为慢性淋巴细胞白血病。她在一个星期一与肿瘤科医生有一个预约，而她的女儿在前一个星期四给她打了电话。她的女儿是医疗瑞士军刀应用程序的活跃用户。该应用程序建议她的母亲在癌症研究医院接受治疗会获得更好的结果，而不是她原计划的当地医院。她的母亲并不太愿意重新安排预约，因为她喜欢她的肿瘤科医生，而且当地医院离家很近，相比之下，研究医院要远一些。但她最终妥协了，取消了预约，并在研究医院预约了肿瘤科医生。</p>
<p>研究医院有一个稍微不同的治疗计划，其中包括最近获得 FDA 批准的药物 IMBRUVICA®。安妮对结果感到非常满意，目前她的癌症处于缓解状态。她将这一切归功于她的女儿和那个引导她去一个能够产生更好 CLL 白血病结果的护理机构的应用程序。安妮明白，临床结果可能因提供者而有很大差异，她很高兴她的丈夫大卫能够与一位治疗房颤的专家建立联系。她坚信这拯救了她丈夫的生命。毫无疑问，发布研究结果的医疗机构在患者满意度评分上表现出色，并在各种医疗状况和程序中显示出降低的患者死亡率。</p>
<p>&#x3D;&#x3D;通过利用关于医疗机构临床结果的大量数据，医疗瑞士军刀应用程序由LLM提供支持，可以将个别患者与在统计上最有可能为患者特定病情和风险因素提供最有效治疗的医生匹配&#x3D;&#x3D;。</p>
<h2 id="临床医生医疗向导应用程序"><a href="#临床医生医疗向导应用程序" class="headerlink" title="临床医生医疗向导应用程序"></a>临床医生医疗向导应用程序</h2><p>当约翰因喉咙侧面有一个肿块而来进行常规体检时，戴维斯医生停下了。“约翰，”戴维斯医生说，“我想仔细看看你喉咙上的那个肿块。”约翰点了点头，于是戴维斯医生仰起头。他用放松的手指触摸肿块，皱起了眉头。肿块坚硬且固定，在轻轻的手指压力下没有移动。“我很担心，”戴维斯医生说，“这个肿块可能是癌症。”他继续说道：“我建议你立即去看专科医生，以确保安全。”约翰看起来很不安。“但我并没有感到不适，”他说。“我没有任何症状。”</p>
<p>癌症在早期往往没有症状，他补充道。约翰勉强同意去看专家，随后戴维斯医生为他安排了下周的预约。但戴维斯医生仍然觉得有些不对劲。他决定咨询他的医疗向导，一个可以筛选大量事实知识的LLM诊断应用程序。</p>
<p>戴维斯医生向他的医疗向导描述了肿块。应用程序反馈了几个建议，包括要求进行细针抽吸（FNA）活检——一种从肿块中提取细胞样本的微创方法——并将约翰引导到耳鼻喉科医生那里，这是诊断和治疗耳、鼻、喉疾病的合适专家。</p>
<p>根据医疗向导的建议，戴维斯医生为约翰安排了细针穿刺活检（FNA）。他还将约翰转诊给了一位耳鼻喉科医生。几天后，FNA 活检的结果显示为癌症阳性。戴维斯医生给约翰打了电话，传达了一个不对称的震惊消息：“我很遗憾地告诉你，你得了癌症，但我们发现得早，你仍然可以接受治疗。戴维斯医生问约翰，‘如果我的医疗向导帮助你安排与耳鼻喉科医生的预约，以讨论你的治疗方案，可以吗？’”</p>
<p>医疗向导是一个面向临床医生的LLM应用程序，通常由寻求咨询的医生使用。医疗向导应用本质上是临床医生与LLM之间的简短而非正式的咨询。使用“向导”这个名称是恰当的，因为类似于协助登山者攀登珠穆朗玛峰的夏尔巴人，医疗向导将帮助临床医生在复杂的医疗环境中导航。LLMs被设想为在医生身边实践的虚拟助手，提供见解并完成任务。然而，医学中人类的一个重要组成部分是临床判断的引导。</p>
<p>医疗向导促进更好和更安全护理的原因既有一般性，也有对临床医生的具体好处。例如，当医生与他们的向导合作时，他们获得了在依赖远程数据和分析时无法获得的近距离知识。同样，护士的向导由于在床边，能够通过无处不在的沟通提供实时支持和建议，使护士能够做出更明智的决策。</p>
<p>此外，医疗向导可以通过节省时间来帮助提供者提高生产力。通过快速便捷的咨询和支持，医生和护士可以利用节省下来的时间专注于工作中的其他关键方面，这可能有助于改善医疗结果。</p>
<p>此外，通过减少医疗提供者的倦怠，这已被认为是医疗保健中的一个严重问题，&#x3D;&#x3D;医疗向导使临床医生能够花更多时间照顾患者，而不是在每个案例中花费时间培训新学习者&#x3D;&#x3D;。拥有在这种护理形式中具有持续经验的人，可以极大地改善本地临床医生的体验和信心水平。综合来看，这些好处可以为患者提供更高质量的护理，并为未来建立一个更可持续的系统。</p>
<h1 id="LLMs的新兴特征"><a href="#LLMs的新兴特征" class="headerlink" title="LLMs的新兴特征"></a>LLMs的新兴特征</h1><p>LLM-驱动的应用程序处于一个有趣的空间，介于对未来的诱人愿景和需要克服的一系列艰巨障碍之间。我们离一个基于LLM的系统能够处理日益复杂的任务、释放人类创造力的新方向，并从根本上改变我们与周围世界互动的方式的未来非常接近。但首先，我们必须在数据、性能、稳定性和安全性等技术前沿上取得进展。</p>
<p>这其中除了技术基础设施，还有人性的一面。与数据需求旺盛的LLMs相关的隐私问题也很重要。训练数据中固有的偏见使得需要持续监测和主动缓解策略，以防止在医疗环境中再现偏见和造成伤害。</p>
<p>这意味着，尽管我们还没有到达目的地，尽管单靠技术无法让我们到达那里，但我们正在逐步向前推进。社会、伦理和概念思维对于扩大负责任的设计方法至关重要，这将使我们能够创造出LLMs种工具，以提高医生的效率和效果以及医患互动，同时防止这些工具成为排斥和伤害的工具。</p>
<p>基于LLM的应用程序当前的形态因素为医疗保健提供了广泛的实用性，有潜力为消费者的生活方式和医疗保健运营提供辅助便利。从我们智能手机上的症状检查工具到后台的临床决策支持，LLM的使用案例在患者与医生互动的多个环节中放大了改善医疗保健的潜力。</p>
<p>尽管真正的颠覆性创新仍在地平线之外，但我们今天可以看到，人工智能已经在重塑临床空间和消费者健康技术，以提高工作流程效率和患者护理。《人工智能优先的医疗保健》一书记录了许多人工智能如何改善医疗保健的例子。LLMs 将人工智能向前推进一步，自动记笔记、对话聊天机器人和摘要任务仅仅是个开始。</p>
<p>或许比其他地方更为紧迫的是，LLMs承诺在社会福利方面持续增加——使现有系统意识到护士护理中的漏洞，重新引导决策树，并通过提供者和购买者的赋权，稍微夸大地为每位患者最大化利润。我们共同未来的这种乐观处理的现实是由于消费者和商业LLMs的到来。</p>
<p>在不久的将来，LLMs将迎来激动人心的变化，包括扩展提示窗口或称为上下文窗口。窗口大小不断扩大，研究人员正在开发一种允许无限大小的提示。</p>
<h2 id="无限上下文提示"><a href="#无限上下文提示" class="headerlink" title="无限上下文提示"></a>无限上下文提示</h2><p>LLMs 具有广泛或无限上下文窗口的能力，现在可以同时处理文本、音频和视频数据。这一进展为医疗服务提供者、健康计划和支付方开辟了新的增强可能性。这对临床医生来说很有趣，因为它可以通过实时分析多种数据类型来加强患者咨询。以下是这一人工智能改进可能改变医疗保健的一些方式：</p>
<ul>
<li>LLMs 通过访问医学文献、临床记录和指南，可以为临床医生提供实时的基于证据的诊断、治疗和护理计划的建议。然而，与人类一样，回复可能会有延迟（即延迟时间），这取决于提示词的复杂性。通过将患者数据与医学文献和临床最佳实践进行评估，LLMs 可能帮助临床医生减少医疗错误，并增强决策能力，以改善患者的治疗结果。</li>
<li>能够理解和生成文本、音频和视频的模型，可以促进患者与临床医生之间更有意义的互动，跨越语言障碍。LLMs可以帮助将复杂的医疗信息转化为多功能的文本，使更多种类的患者能够理解，回答常见问题，提供可以个性化以满足个人需求的细致患者教育，并鼓励早期干预。这些互动可以增强患者的参与感、依从性和对护理的满意度。</li>
<li>不同的LLMs可以帮助自动化文书工作和临床文档，包括编码和账单，简化医疗流程，解放提供者免受行政负担，以便他们可以花更多时间与患者进行临床“面对面”的交流。如今，像谷歌这样的公司提供技术，允许人们使用LLMs来总结嵌入视频的电子邮件。想象一下，如果输入流不受固定大小的限制，这将会是什么样子。</li>
<li>能够实时解析音频和视频的模型将提高远程医疗和远程监测服务的效率和效果，帮助进行远程咨询。</li>
<li>凭借分析和综合大量生物医学文献和数据的能力，包括科学出版物、临床试验数据和病历，LLMs 可以加速医学研究和药物发现。临床医生可以利用 LLM 的力量来总结跨越多年的临床试验数据或病人记录，从而节省时间。</li>
<li>LLMs 可以通过根据患者的独特特征（例如，基因组、生活方式和病史数据）提供量身定制的护理，从而实现个性化医学和精准医疗，以识别个性化的风险因素、疾病发展轨迹以及治疗干预和治疗。LLMs 可能实现的更加个性化的护理方法可以通过优化患者治疗结果来提高医疗保健服务的有效性和效率。。</li>
</ul>
<p>个性化医疗的承诺将是向前迈出的一大步。LLMs 具有无限上下文窗口或提示，可以处理和存储大量的医学文献、临床试验数据、患者病史和临床数据，从而为患者或消费者提供一个全面且可更新的医学知识库。由这样的 LLMs 驱动的聊天机器人将扩展到更复杂的多轮对话，创造直观且引人入胜的消费者体验。前谷歌首席执行官埃里克·施密特预计，在未来五年内将出现扩展的无限提示窗口。</p>
<h2 id="代理推理"><a href="#代理推理" class="headerlink" title="代理推理"></a>代理推理</h2><p>代理推理代表了人工智能的另一个发展阶段，其中系统可以自主行动。计算机科学家和人工智能研究员 Andrew Ng 提供了关于代理推理本质的有趣观点，并描述了我们将在本章中探讨的代理推理的四个关键特征或模式：反思模式、工具使用、规划和多智能体互动。</p>
<p>“代理推理是创建能够采取旨在实现目标的行动的代理的核心，”斯坦福大学计算机科学兼职教授、Coursera 联合创始人 Andrew Ng 说。Coursera 是一家提供大规模开放在线课程的公司。Ng 解释说，这意味着人工智能系统感知、渴望、相信和行动的能力，从而设定和修改目标，在不确定性下做出决策，从经验中学习，并以自然和有效的方式与人类和其他人工智能代理进行互动和推理。他指出，实现人工智能代理之间的代理推理的挑战，需要在多个领域取得重大进展，例如机器学习、自然语言处理、知识表示和不确定性下的推理。</p>
<h3 id="代理推理的四种模式"><a href="#代理推理的四种模式" class="headerlink" title="代理推理的四种模式"></a>代理推理的四种模式</h3><p>在代理推理中的反思模式帮助人工智能根据其之前的行为提高性能。反思模式使医疗人工智能系统能够反思其选择，识别改善结果的方法，并不断发展其对患者护理的方式。例如，旨在为临床医生提供复杂疾病的诊断和治疗建议的人工智能代理可以采用反思模式。该代理最初会在一个大型多样化的患者记录、文献和临床指南数据集上进行训练，然后根据流行数据向临床医生提出代理建议。</p>
<ul>
<li>初步诊断和治疗计划： 当新的患者案例被提交时，代理将分析呈现患者的症状、医疗背景和测试结果，然后提供初步诊断和治疗计划。代理将利用其训练数据并运用其自主推理能力，以及关于构成它的模块的建模数据，来确定患者病情的真实原因以及最佳治疗方案。</li>
<li>对结果的反思： 一旦患者开始治疗计划，人工智能代理会在患者的治疗过程中监测其进展和结果。患者的实际成果将与代理根据初始建议对同一患者的预测进行比较。如果患者的改善符合代理的预期，代理将自我强化，并在未来类似案例中变得更加自信。但如果在一定时间后患者的状况没有改善，或者结果不理想，人工智能代理将检查它做出该决定的原因——通过查看其算法、所使用的数据以及它所建立的假设。</li>
<li>适应与学习： 基于这种反思分析，AGI 让患者的案例成为其决策模式所需调整的基础。例如，AGI 可能会将临床发现的记录添加到其背景知识中，优化算法以纳入已知的特定患者细微差别，或修订治疗建议列表以降低已知并发症的发生几率。关键是，这种自适应训练过程意味着代理不断学习采取更多能够改善其长期行为的行动，从而最终做出更好的推荐——减少错误的可能性并促使更合适的补救措施。当它接触到更多患者，并参与这一事后行动的过程时，它能够诊断和治疗更复杂的医疗问题。</li>
<li>分享见解与协作学习： 这种知识可以通过它们获得的反思性见解在人工智能代理和人类专家之间共享，从而增强人类与人工智能代理之间的共同学习和共同知识。例如，多个人工智能代理可以协作识别模式，并在大规模上生成新颖的治疗策略和改进的患者护理。AI 代理可以向人类医生提供反馈，指出他们需要更新临床实践或需要额外研究努力的地方。通过进行这种人机对话，我们最终可以增强人类与机器之间的混合工作性质。代理推理的反思结构使得在医疗保健领域工作的人工智能代理能够从他们的经验中学习，调整他们的策略，并不断提高诊断和治疗患者的能力。通过与人类专家的持续反思和协作学习过程，人工智能代理可以成为人类护理的补充，提高医疗服务的质量、效率和有效性。反思过程必须得到适当的引导，并以强有力的伦理原则为基础，同时始终保持人类监督，以防止意外的疏忽并维持最高的护理标准。</li>
</ul>
<p>在代理推理中的工具使用模式使得 AI 代理能够广泛利用工具和外部资源，超越机器学习、计算机视觉或自然语言处理，通过利用外部资源和知识能力来扩展其问题解决范围和决策过程。对于医学而言，工具使用模式可以使 AI 系统通过整合现有的医疗工具、数据库、服务以及所有其他外部输入（如护士、医生、护理人员等医疗专业人员）来“借用”医疗资源。这些输入可以基于最新的临床知识和专业决策提供原则性和以人为本的患者护理，而不是将 AI 系统局限于仅依赖机器学习示例的“黑箱”决策。让我们看看精准医学，并说明工具使用模式如何应用。</p>
<p>一个医疗 AI 助手帮助医生为癌症患者制定个性化治疗计划。为此，助手使用代理推理分析患者数据，寻找患者可以遵循的最佳治疗方案，并且助手还监测治疗进展。为了进一步改善治疗建议，助手采用工具使用模式来访问并结合外部资源和服务。</p>
<ul>
<li>基因组分析工具： 一个人工智能代理挖掘基因组分析工具箱，以收集和理解患者的遗传信息。凭借基因组变异及其已知临床意义的数据库，它可以识别潜在的遗传风险因素，建议可能的药物反应，并根据患者的个体分子特征开具靶向治疗。</li>
<li>医疗影像服务： 医疗影像服务——例如计算机视觉 API——是 AI 代理依赖的，分析患者扫描（MRI、CT 或 PET 扫描），以检测和描述肿瘤的存在和形状，以及对攻击的治疗反应和随时间的疾病进展监测。这些信息与其他患者数据的见解相结合，输入到 AI 代理对患者状况的整体评估中。</li>
<li>电子健康记录（EHR）系统： 利用电子健康记录（EHR）系统访问患者的既往诊断、治疗和结果，将帮助人工智能代理构建更准确的实际治疗方案。例如，人工智能代理可以参考其他患者的电子健康记录，而不是仅仅咨询该患者的电子健康记录，从而获得更全面的患者健康状况视图，并可能识别出影响治疗方案选择的风险因素或合并症。通过访问来自集成的电子健康记录系统和其他相关医院的数据，人工智能代理将能够生成更个性化的护理计划和相关决策。</li>
<li>临床试验数据库： AI 代理搜索临床试验数据库，寻找与患者病情相关的试验，然后检查试验的资格标准、参与者的治疗数据和结果数据。这使得 AI 代理能够对患者可能受益于参与的试验提出建议，或利用试验数据为其治疗建议提供依据。</li>
<li>药物相互作用检查器： 该人工智能代理使用药物相互作用检查工具来评估提议的癌症治疗方案与患者当前药物的潜在相互作用。然后，根据结果推荐替代药物或剂量调整，以尽量减少不良药物事件或禁忌症，同时最大化疗效。</li>
</ul>
<p>通过使用这些工具和服务，&#x3D;&#x3D;人工智能代理可以为医生提供一种综合的精准医疗方法，汇总来自不同来源的相关数据，并提供经过知识图谱和概率评分验证的个性化治疗建议。这种方法是可行的，因为代理可以进行期刊爬取、医学文本挖掘、下载、图像存储，并以概率方式整合不同的数据。它可以利用患者的病史、基因数据和影像数据，基于较少知识的药物相互作用建议合适的治疗方案，包括潜在的处方&#x3D;&#x3D;。</p>
<p>此外，由于人工智能代理本身正在对新的研究数据、临床指南以及新的或未经测试的治疗方案做出一些决策，因此该代理的工具使用情况基本上是自我更新的——随着人类癌症发现模式的变化而变化。因此，该代理将使用现有的最佳和最新知识。</p>
<p>随着代理推理领域在医疗保健中的发展，这种工具使用模式将在构建能够捕捉、组合和处理精准医学中所需的大量多样化医疗数据的人工智能系统中发挥重要作用，以提供更好的患者护理——前提是用于实现这些结果的外部服务尊重强有力的数据隐私、安全和伦理规则，以维护患者的隐私和医疗系统的完整性。</p>
<p>在代理推理中，规划模式对于赋予人工智能代理制定高层次计划以实现其目标和优化流程的能力至关重要。这意味着，在医疗领域，一个具备规划能力的人工智能系统可以用于处理详细的患者案例，预测潜在结果，并在制定之前决定最佳治疗方案——整合各种因素和参数。例如，考虑一个旨在帮助医生管理慢性疾病患者（如糖尿病、高血压或心血管疾病）的人工智能代理的场景。在这种情况下，代理使用代理推理来分析体检结果，排列出现的症状，识别使患者面临更差健康结果的风险因素，然后为长期健康结果制定战略性和适应性的建议。</p>
<ul>
<li><p>目标设定与问题分解： AI 代理以优化患者的健康结果和生活质量为抽象目标，并将其细分为更小、更具体的子目标：保持患者的血糖在最佳范围内，降低血压至安全水平，最小化截肢或肾脏并发症的风险，等等。通过将整体问题分解为不同的子问题，代理可以制定和追求与患者状况的每个特定方面相适应的行动。</p>
</li>
<li><p>数据分析和情况评估： 然后，人工智能代理尝试根据其上下文反映患者的整个医疗情况。它考虑患者的病史、当前健康状况和环境背景，以及他的生活方式和可识别的个性特征。这包括整合电子健康记录、可穿戴设备和患者报告结果的数据的能力。</p>
</li>
<li><p>计划生成与评估：根据这一情况评估，人工智能代理生成不同的可能治疗方案，以解决定义的子目标。例如，它可能包括一种涉及使用不同药物调整、生活方式改变和转诊专家的组合。代理通过考虑预测的有效性和副作用、患者的偏好和接受度、可用资源等，使用已知数据和概率预测来评估每个方案，然后决定推荐哪种行动方案。</p>
</li>
<li><p>计划选择与调整： AI 代理将选择其认为价值最佳的治疗方案，权衡治疗的益处与风险。然后，它会将选定的方案及其支持理由传达给医生和患者，可能还会提供实施建议的说明或支持。</p>
<p>医生设计治疗计划，而人工智能在计划实施过程中进行监测并检查结果。如果患者的病情没有按照预测的轨迹发展，代理会重新规划。治疗会对新信息做出响应，例如调整药物剂量或引入不同的干预措施或生活方式建议。</p>
</li>
<li><p>持续监测和改进： AI 代理稍后会与患者进行回访，以了解她的情况以及治疗计划是否有效或需要调整。它还会关注副作用带来的风险和不良事件。当它能够识别患者自身数据中的模式并与类似病例的轨迹进行比较时，代理可以调整其规划策略，以更好地防范突发的健康问题。</p>
<p>这种代理推理的规划结构可以帮助医疗保健领域的人工智能代理制定慢性病管理的执行性和动态护理策略。人工智能代理将复杂的健康问题分解为有意义的子目标，利用可用的患者数据进行模式补全程序，集思广益提供喂养和消除选项，分析预期后果，并监控和自我调整其策略。通过这种方式，人工智能代理可以帮助医生提供个性化的、基于证据的护理，平衡短期成本与长期健康收益。</p>
<p>随着我们在医疗保健领域的代理推理这一激动人心的领域不断发展，规划模式不太可能是唯一需要的模式。但它在创建帮助临床医生管理慢性疾病的人工智能系统中将是至关重要的，这些慢性疾病占据了患者群体的很大一部分，并将使他们朝着更公平的人口健康的方向前进。我们必须保护规划过程——用伦理原则、临床最佳实践和以患者为中心的价值观来引导它，以保护个人免受可能随着医疗工作负担的增加而出现的不安全、无效和不可接受的治疗计划的影响。</p>
</li>
</ul>
<p>多智能体协作模式是智能架构实现不同层次的智能本体中多样化智能体协作工作的手段，无论它们是否被赋予代理权。集体事件识别需要两个或更多智能体对事件的意识和评估。在医疗领域，当两个或更多智能智能体——可以被视为人工智能系统和独立的广泛医疗专业人员——协调工作、共享状态知识或感知，并基于共享目标或子目标做出决策和行动时，便激活了多智能体协作模式。</p>
<p>想象一个患者有各种长期疾病——糖尿病、高血压、心血管疾病等等——需要来自广泛健康专业人士的建议、监测和治疗（例如，这可能是一个由医生、护士、营养师、社会工作者、心理学家等组成的多学科团队）。在这种情况下，可能会部署一系列不同的人工智能代理来支持健康专业团队的成员，例如，帮助他们优化用药选择、提供生活方式指导、协调护理等。这些人工智能代理采用代理推理和多代理协作模式，整合技能和工作记忆，以提供针对性强、信息充分、协调一致的护理。</p>
<ul>
<li><p>共享目标和问题理解： AI 代理和人类专家共同定义患者的健康状况、治疗目标和潜在障碍。最后，他们共同制定个性化护理计划，充分利用人类和算法各自的优势，为患者的医疗、心理和社会需求提供最佳治疗。</p>
</li>
<li><p>任务分配与协调： 针对他们分配的任务，人工智能代理分配了一部分工作。药物优化代理可以扫描患者的处方以查找药物相互作用，并建议优化疗效和安全性的方法。生活方式指导代理可以个性化饮食、锻炼和压力管理建议，以补充患者的自我护理方案。</p>
<p>护理协调代理处于中心位置，收集来自众多护理代理的信息，并将每个代理与他们所需的特定信息连接起来。护理协调代理还确保其他代理和人类专家了解患者的当前状态、状态变化和护理计划的变化。</p>
</li>
<li><p>信息共享与知识交流： AI 代理和人类专家不断交流信息和见解，以支持集体决策和问题解决。他们通过加密通道和标准化数据格式传输患者数据、治疗建议和临床见解，以便每个代理和专家都能利用整个团队的集体知识，并相应地更新其策略。例如，如果药物优化代理检测到潜在的不良药物事件，它会通知护理协调代理，后者则会警告人类专家以及其他 AI 代理。团队评估发生的情况并生成事件记录。他们考虑是否要停用有问题的药物，并用其他选项替代。如果是，他们会更新护理计划。</p>
</li>
<li><p>冲突解决与共识建立： 如果人工智能代理或人类之间存在相互矛盾的建议或意见，多代理协作模式使他们能够进行辩论和对话，协商权衡并通过辩论、投票或多标准决策分析方法达成共识。这种协作模式确保达成的决策“符合患者的最佳利益。”</p>
</li>
<li><p>持续学习与适应： 如果患者的情况发生变化并且有新的数据可用，人工智能代理和人类专家会学习新的护理协调过程策略，互相交流技巧（可以这么说），帮助使他们的策略更加有效和高效。多个代理相互互动，从彼此的成功和失败中学习，并在面对新挑战时逐步发展新的方法。</p>
</li>
</ul>
<p>这种来自代理推理的多智能体协作模式使得人工智能代理和医疗保健领域的人类专家能够以协调的方式共同工作，为具有复杂健康需求的患者提供整体和个性化的护理。定义共同目标、分配任务、共享知识、解决冲突以及学习和适应是帮助团队利用集体智慧以更大程度优化患者结果、提高护理质量和效率的组成部分。</p>
<p>由于医疗保健中的代理推理刚刚开始演变，多代理协作模式在设计能够与人类同行并“向他们学习”的人工智能系统中可能变得更加重要，以应对日益多样化和相互关联的医疗保健环境。而且，伦理、职业标准和监管控制将是维护患者和临床医生的安全、隐私和信任所必需的。</p>
<h3 id="挑战与未来方向"><a href="#挑战与未来方向" class="headerlink" title="挑战与未来方向"></a>挑战与未来方向</h3><p>这四种不同的代理推理模式为将人工智能提升到人类智力水平提供了机会。当然，前方还有巨大的挑战，如何确保代理人工智能与人类以安全、伦理和一致的方式互动。这将涉及，例如，开发稳健的价值对齐框架，以及建立问责机制，确保其操作的公平性。</p>
<p>第二个挑战是将四种以代理为中心的推理模式嵌入统一、灵活和可扩展的人工智能架构中，这可能需要在迁移学习、多任务学习和开放式学习方面取得进展，以使人工智能代理能够在一个任务或情境中学习知识，从而帮助解决另一个任务。</p>
<p>代理推理技术在长期内可能会取得显著进展。关于这一研究领域，持续令人感兴趣的是，研究者们尚未进行太多工作。但可以想象，随着时间的推移，我们可能会看到反映并可能工具化、规划和学习的人工智能系统，具备越来越复杂的推理和协作形式。这些进展可能会改变许多领域，从医疗、教育和交通到制造业及其他领域。</p>
<h1 id="使用LLMs的上下文"><a href="#使用LLMs的上下文" class="headerlink" title="使用LLMs的上下文"></a>使用LLMs的上下文</h1><p>理解可预见的LLM应用程序的使用案例认识到“使用上下文”的核心重要性，这是玛格丽特·米切尔创造的一个术语，在创建医疗保健LLMs应用程序时尤为重要。也许米切尔的思考源于一种长期存在的人本工程软件工程实践。由于医疗保健LLM应用程序在可能的用户提示上是如此开放，它们为改善美国医疗保健系统提供了有趣的使用案例，但同时也在预先预测用户交互方面带来了挑战。</p>
<p>与物理对象不同，物理对象可能有有限的预期使用案例，而大多数软件应用程序在交互上是如此开放，以至于我们无法完全预测最终用户将如何使用它们。椅子可以用于有限的用途（坐），但应用程序是开放的。可以开发机器学习模型来预测慢性疾病。可以开发疾病模型来预测特定疾病，例如心脏病或肥胖症。然而，另一个用户或组织可能选择使用特定的机器学习模型来确定提供健康保险覆盖的成本，而另一个用户可能选择将相同的机器学习模型应用于拒绝健康保险覆盖。</p>
<p>软件的灵活性意味着用户可以根据自己的任务（如他们必须的那样）以最适合他们特定需求、工作流程和用户的方式使用应用程序。这个生产力应用程序可能是为任务管理而设计的，但它也可能被用作项目协作工具。软件的开放性——通过这种内在的灵活性得以实现——意味着开发该软件的组织或公司也必须准备好应对人类利用的最终自由。关于LLM驱动的聊天机器人，自然语言交互的灵活性意味着其提示的开放性在上下文和潜在结果方面难以预测或限制。用户可能会提出不在聊天机器人设定范围内的问题（或提出请求）。用户可能会试图操纵其响应，以导致有害或不当的结果。</p>
<p>例如，寻求诊断的人可能会询问一个为一般健康相关讨论而构建的健康聊天机器人，这可能会产生不准确或不安全的假设。即使是最轻松的聊天机器人也有可能与来自客户服务机器人的敌对或辱骂性互动发生冲突，而该机器人因其错误而受到不公正的批评。</p>
<p>减轻这些风险将要求LLM驱动的聊天机器人开发者构建安全层、伦理规范和内容审核工具。示例可能包括使用对抗性测试形式——在这种测试中，系统故意暴露于用户可能输入的最广泛范围，以识别其训练和代表性规范中的漏洞——以确保例如，要求机器人不粗鲁不会导致它发表种族主义言论。无论采用何种策略，开发者必须确保明确设定并传达不可能的边界和期望，以减少用户试图强迫机器人做不可能之事的风险。</p>
<p>其次，如前所述，基于LLMs的聊天机器人应不断监控和优化，以确保它们持续按预期表现。开发者应通过积极寻求用户对其聊天机器人日常体验的反馈来为这一过程奠定基础。开发者还应检查互动中的模式。他们应对输入和反馈进行进一步分析，并相应地更新知识库和响应系统，以优化聊天机器人在用户创造的新条件下的表现。</p>
<p>总而言之，软件应用程序的开放性特征，包括LLM驱动的聊天机器人，可以为预测、规划和处理用户互动提供机会和保障。一方面，LLM驱动的聊天机器人的开放性使创作者能够预见在其框架内可能对用户有益的新用途。另一方面，LLM驱动的聊天机器人的开放性也可能导致意想不到和有害的用途。然而，通过实施保障措施、道德指导以及持续的监控和改进，创作者可以提升用户在使用LLM驱动的聊天机器人时的体验。</p>
<p>无论是审查政治偏见的搜索结果，还是捕捉痴呆症的语言标记，将上下文应用于LLM应用程序的价值显而易见。通过在设计LLM应用程序时考虑上下文，我们可以构建更强大、更具伦理性和对患者更有益的医疗工具。LLM应用程序应做到以下几点：</p>
<ul>
<li>通过提供清晰的界面、针对临床医生的教育材料以及关于人工智能局限性的透明度，鼓励负责任的使用。</li>
<li>针对已识别的误用场景实施保护措施（例如，数据的安全控制、预防措施以禁用针对偏见输出的堆叠）。</li>
<li>让它在人工智能适应性地应用于新环境时自我改进。可以通过监测在世界上使用的人工智能（在可能的范围内）并调整模型以应对出现的任何问题来进行调整。</li>
</ul>
<h1 id="消费者和商业-LLMs"><a href="#消费者和商业-LLMs" class="headerlink" title="消费者和商业 LLMs"></a>消费者和商业 LLMs</h1><p>今天，我们的应用程序基本上分为两类：消费者和商业。它们服务于不同的目的，面向不同的用户。商业应用程序通常是为公司的员工设计的。然而，我们也看到企业为客户创建应用程序，以便他们访问健康计划、了解福利、预约等。消费者应用程序的最大例子可能出现在社交媒体、娱乐、生产力、游戏和商业等领域。</p>
<p>在医疗保健领域，我们看到许多旨在简化个人健康管理的医疗应用程序。比如安排医生上门看诊的应用（例如 ZocDoc）、治疗应用（例如 Talkspace）、远程医疗应用（例如 Doctor on Demand）、女性健康应用如 Maven 等。我们预计随着时间的推移，会有更多基于 LLM 的医疗应用出现，以涵盖在 第 3 章、第 4 章 和 第 5 章 中描述的许多使用案例。</p>
<h2 id="消费者LLMs和生成式人工智能"><a href="#消费者LLMs和生成式人工智能" class="headerlink" title="消费者LLMs和生成式人工智能"></a>消费者LLMs和生成式人工智能</h2><p>本书探讨了一个关键假设：以LLMs为动力的以消费者为中心的应用程序的兴起将显著改变医疗保健。这些应用程序利用LLMs的能力来总结信息和生成内容，预计将：</p>
<ul>
<li>增强医患关系</li>
<li>&#x3D;&#x3D;帮助个人更好地管理他们的慢性疾病和整体健康&#x3D;&#x3D;</li>
<li>最重要的是，干预以延迟或预防慢性疾病的发生</li>
</ul>
<p>通过利用LLMs的能力，这些消费应用有潜力彻底改变个人健康管理和预防护理。</p>
<p>消费型LLMs旨在满足个人用户的需求，提供各种应用和功能，针对个人的需求和兴趣量身定制。这些LLMs包括聊天机器人、虚拟助手和内容生成器等模型。以下是消费型LLMs的一些关键特征：</p>
<ul>
<li>对话助手： 消费者LLMs喜欢虚拟助手（例如，Siri、Google Assistant），这些助手旨在帮助用户设置提醒、回答常识问题、发送消息和播放音乐。它们旨在提供日常便利。</li>
<li>参与和娱乐： 消费者LLMs通常旨在提供互动体验，例如对话式人工智能助手、聊天机器人或创意写作工具，旨在吸引和娱乐用户。</li>
<li>内容生成： 一些消费者LLMs可以生成文本，这对撰写电子邮件、创作内容甚至编程辅助等任务非常有帮助。这些模型专注于提升个人生产力和创造力。</li>
<li>个性化： 消费者LLMs通常优先考虑个性化，通过学习用户互动来提供量身定制的推荐、内容和回应。</li>
<li>个人助理： 这些LLMs可能有助于回答医疗问题、提供建议、撰写电子邮件或文件、安排与临床医生的预约，以及帮助完成各种个人生产力任务。</li>
<li>无障碍性： 这些模型通常配备用户友好的界面，适合广泛的用户群体，并且通常可以在移动设备和个人电脑上使用。</li>
</ul>
<h2 id="商业LLMs与生成式人工智能"><a href="#商业LLMs与生成式人工智能" class="headerlink" title="商业LLMs与生成式人工智能"></a>商业LLMs与生成式人工智能</h2><p>企业和组织设计他们的业务LLMs和生成式人工智能，以便为员工和客户使用，自动化任务、解释数据，并生成文本、图像和视频等内容。商业LLMs旨在用于组织和企业，具有以下特征：</p>
<ul>
<li>数据集成业务： LLMs旨在与您组织的数据源（例如，电子健康记录或其他临床、索赔、药房或资格数据库）无缝集成。利用所有这些健康部门数据，它可以为您提供洞察和报告。LLMs允许分析大量业务数据。例如，LLM可以快速评估支付方和保险公司使用的复杂且不断变化的事先授权标准。</li>
<li>特定于某些行业的商业LLMs： 为了惠及某个行业，例如医疗保健，行业特定的LLMs可以帮助完成从诊断疾病到处理索赔或做出临床决策等任务。</li>
<li>合作： 这些LLMs通常配备有共享团队空间、文档协作&#x2F;共享和工作流程自动化等功能，以提高组织的生产力。</li>
<li>知识管理： 商业LLMs可以通过建立知识库、总结数据和提供上下文建议来帮助组织收集和分享知识。</li>
<li>客户服务和支持： 从商品交易到购买音乐会门票，LLMs 可以为对话式人工智能助手和聊天机器人提供动力，以提供客户支持和回答查询。</li>
<li>服务保证： 企业级LLMs包括服务水平协议和专门的客户服务，使其在业务运营中可靠。</li>
</ul>
<p>总而言之，消费者工具和商业工具之间的关键区别在于：消费者工具主要针对个性化便利和个人生产力，而商业工具则是为特定行业的使用案例而构建的，具有定制的数据集成和企业级的运营支持。</p>
<h2 id="弥合鸿沟"><a href="#弥合鸿沟" class="headerlink" title="弥合鸿沟"></a>弥合鸿沟</h2><p>这种消费者与商业 LLMs &#x2F; 生成式人工智能之间的区别实际上是一个重要的区别，因为它影响使用和受众。区分商业和消费者 LLMs 是很重要的，原因有几个：</p>
<ul>
<li> 目的和目标</li>
<li> 数据训练</li>
<li> 监管环境</li>
<li> 伦理与偏见</li>
</ul>
<h3 id="目的和目标"><a href="#目的和目标" class="headerlink" title="目的和目标"></a>目的和目标</h3><p>商业LLMs旨在解决特定的商业问题或改善商业流程。这些包括自动化健康计划成员与客户服务员工之间的互动，以及从企业已有的数据中提取洞察。</p>
<p>消费者LLMs旨在个人使用和教育目的。它们提供语言翻译和对话问答等服务。重要的是，它们可以根据个人的偏好和需求进行定制，提供基于用户过去互动、所述兴趣或特定要求的个性化响应。</p>
<h3 id="数据训练"><a href="#数据训练" class="headerlink" title="数据训练"></a>数据训练</h3><p>商业LLMs是在特定领域的数据集上进行训练的。通过这种方式，我们可以“调整”LLM以适应我们的商业领域，使其不仅直接处理内容，还能了解商业背景和术语。</p>
<p>消费者LLMs在从各种公共网站提取的大型通用语料库（文本和代码的集合）上进行训练。这些提供了通用的曝光，但存在偏见的风险，并且缺乏专业知识和&#x2F;或领域专长。使用 AI 框架 RAG，数据扩展到外部数据源，就像商业LLM一样。</p>
<h3 id="监管环境"><a href="#监管环境" class="headerlink" title="监管环境"></a>监管环境</h3><p>商业LLMs受到特定行业规则（例如，金融行业）或数据监管规则（例如，医疗数据保护）的监管。</p>
<p>消费者LLMs受消费者保护法和关于数据隐私及伦理人工智能实践的法规约束。例如，HIPPA 确实对个人或其指定人使用健康信息的方式施加了限制，以符合个人的访问权。</p>
<h3 id="伦理与偏见"><a href="#伦理与偏见" class="headerlink" title="伦理与偏见"></a>伦理与偏见</h3><p>商业LLMs：谨慎的管理和偏见的缓解是必要的，以避免对潜在客户、员工等的歧视或其他不公平对待。</p>
<p>消费者LLMs：消费者LLMs中的偏见可能导致有害的错误信息、冒犯性内容或社会不平等的延续。确保这些技术的发展是负责任的，并且持续解决意外偏见至关重要。</p>
<p>总之，虽然大型语言模型被企业和消费者使用，但它们不同的、尽管可能相关的目的以及对输入、控制（包括安全）和伦理考虑的不同需求，都应该促使我们根据这些不同的目的和背景，以不同的方式思考它们的发展和使用。</p>
<h1 id="摘要"><a href="#摘要" class="headerlink" title="摘要"></a>摘要</h1><p>LLMs 可以开启一个曾经仅限于科幻领域的潜力世界。通过深入探讨这些先进语言模型的潜力，本章探索了一系列未来的承诺和应用（其中两个——面向消费者的医疗瑞士军刀和面向临床医生的医疗向导——由 LLM 驱动）。语言模型（LLMs）——能够以卓越的流利度和灵活性阅读、书写和处理人类语言的机器——开启了这个新时代。LLMs 仍在不断发展，其能力持续提升。LLMs 有望在广泛的健康领域中改变患者护理、研究和医学知识。</p>
<p>但最大的区别可能在于预期的用户和使用案例是什么样的LLM驱动的应用程序。消费者LLM应用程序（如医疗瑞士军刀）专注于最终用户在做出明智的医疗决策时的便利性——从小规模的自我事件管理和自我诊断到广泛的健康促进、自我护理和家庭医疗应用程序。商业LLM应用程序（如医疗向导）将服务于医疗专业人员和组织，这些人员在不断增长的医学文献中进行查找或填充，临床医生做出诊断决策，以及制药研究人员开发药物。对于消费者LLM应用程序，便利性和易用性是吸引用户的关键。对于商业LLM应用程序，数据隐私、HIPAA 和合规性以及行业特定功能等问题则是显而易见的难题。</p>
<p>但随着社会深入LLMs，他们的解决方案和承诺将塑造一个充满新工具的世界，供健康消费者和医疗专业人士使用，并创造一个因更大医疗和医学知识获取而多样化的近未来。</p>
<p>1 C. M. Kornbluth, “小黑包,” 收录于 C. M. Kornbluth 精选集, 编辑 Frederik Pohl (纽约花园城: Nelson Doubleday, 1976), 42–69.</p>
<p>2 马特·马歇尔，“纽约医院高管：多模态 LLM 助手将为患者护理带来‘范式转变’，”VentureBeat，2024 年 3 月 6 日，<a target="_blank" rel="noopener" href="https://venturebeat.com/ai/ny-hospital-exec-multimodal-llm-assistants-will-create-a-paradigm-shift-in-patient-care%E3%80%82">https://venturebeat.com/ai/ny-hospital-exec-multimodal-llm-assistants-will-create-a-paradigm-shift-in-patient-care。</a></p>
<p>3 LLMs 可能看起来能够理解人类语言，但它们实际上是复杂的统计模型。这些模型识别模式、进行语言翻译、预测可能的单词并生成连贯的文本。然而，它们并不真正理解意义，方式与人类不同。请参见“大型语言模型的风险 (LLM)”，IBM 技术，2023 年 4 月 14 日，YouTube 视频，8:25，<a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=r4kButlDLUc%60&amp;&%60t=278s%E3%80%82">https://www.youtube.com/watch?v=r4kButlDLUc`&amp;&amp;`t=278s。</a></p>
<p>4 “ChatGPT 实验：自回归大型语言模型 (AR-LLMs) 及其作为结构化摘要的推理限制，”GDELT 项目，2023 年 2 月 14 日，<a target="_blank" rel="noopener" href="https://blog.gdeltproject.org/chatgpt-experiments-autoregressive-large-language-models-ar-llms-and-the-limits-of-reasoning-as-structured-summarization%E3%80%82">https://blog.gdeltproject.org/chatgpt-experiments-autoregressive-large-language-models-ar-llms-and-the-limits-of-reasoning-as-structured-summarization。</a></p>
<p>5 潘海丰和高剑锋，“用于生物医学自然语言处理的领域特定语言模型预训练，” 微软研究博客，2020 年 8 月 31 日， <a target="_blank" rel="noopener" href="https://www.microsoft.com/en-us/research/blog/domain-specific-language-model-pretraining-for-biomedical-natural-language-processing%E3%80%82">https://www.microsoft.com/en-us/research/blog/domain-specific-language-model-pretraining-for-biomedical-natural-language-processing。</a></p>
<p>6 PubMed，访问日期：2024 年 6 月 20 日，<a target="_blank" rel="noopener" href="https://pubmed.ncbi.nlm.nih.gov./">https://pubmed.ncbi.nlm.nih.gov。</a></p>
<p>7 李进赫等，“BioBERT：一种用于生物医学文本挖掘的预训练生物医学语言表示模型，”生物信息学 36, no. 4 (2020 年 2 月): 1234–1240，<a target="_blank" rel="noopener" href="https://academic.oup.com/bioinformatics/article/36/4/1234/5566506%E3%80%82">https://academic.oup.com/bioinformatics/article/36/4/1234/5566506。</a></p>
<p>8 Iz Beltagy, Kyle Lo 和 Arman Cohan，“SciBERT：一种用于科学文本的预训练语言模型，”arXiv，2019 年 9 月 10 日，<a target="_blank" rel="noopener" href="https://arxiv.org/abs/1903.10676%E3%80%82">https://arxiv.org/abs/1903.10676。</a></p>
<p>9 黄可欣、贾安·阿尔托萨尔和拉杰什·兰加纳特，“ClinicalBERT：建模临床笔记和预测医院再入院”，CHIL ’20 研讨会，2020 年 4 月 2 日至 4 日，安大略省多伦多，<a target="_blank" rel="noopener" href="https://arxiv.org/pdf/1904.05342#:~:text=ClinicalBERT%20is%20an%20application%20of,task%20of%20hospital%20readmission%20prediction%E3%80%82">https://arxiv.org/pdf/1904.05342#:~:text=ClinicalBERT%20is%20an%20application%20of,task%20of%20hospital%20readmission%20prediction。</a></p>
<p>10 阿利斯泰尔·E·W·约翰逊等，“MIMIC-III，一个可自由访问的重症监护数据库，” 科学数据 3, no. 160035 (2016), <a target="_blank" rel="noopener" href="https://www.nature.com/articles/sdata201635%E3%80%82">https://www.nature.com/articles/sdata201635。</a></p>
<p>11 “Med-PaLM，”谷歌研究，访问日期：2024 年 6 月 20 日，<a target="_blank" rel="noopener" href="https://sites.research.google/med-palm%E3%80%82">https://sites.research.google/med-palm。</a></p>
<p>12 Karan Singhal 等，“利用大型语言模型实现专家级医学问答”，arXiv，2023 年 5 月 16 日，<a target="_blank" rel="noopener" href="https://arxiv.org/pdf/2305.09617%E3%80%82">https://arxiv.org/pdf/2305.09617。</a></p>
<p>13 阿曼达·简·莫达拉加梅， “医疗保健中使用的顶级可穿戴医疗设备，” Healthnews，2024 年 1 月 16 日，<a target="_blank" rel="noopener" href="https://healthnews.com/family-health/healthy-living/wearable-medical-devices-used-in-healthcare%E3%80%82">https://healthnews.com/family-health/healthy-living/wearable-medical-devices-used-in-healthcare。</a></p>
<p>14 大卫·M·莱文和阿提夫·梅赫罗特拉，“在非医生中对经过验证的病例小插曲进行诊断和分诊评估，互联网搜索前后的比较，” JAMA Network Open 4, no. 3 (2021): e213287, <a target="_blank" rel="noopener" href="https://jamanetwork.com/journals/jamanetworkopen/fullarticle/2777835%E3%80%82">https://jamanetwork.com/journals/jamanetworkopen/fullarticle/2777835。</a></p>
<p>15 “企业应用中的对话式人工智能未来会怎样？” Koru，2024 年 6 月 11 日，<a target="_blank" rel="noopener" href="https://www.koruux.com/blog/conversational-ai-in-enterprise-apps%E3%80%82">https://www.koruux.com/blog/conversational-ai-in-enterprise-apps。</a></p>
<p>16 玛格丽特·E·克鲁克等，“在全民健康覆盖时代，由于低质量卫生系统导致的死亡：对 137 个国家可避免死亡的系统分析，” 柳叶刀 392, no. 10160 (2018 年 11 月 17 日): 2203–2212, <a target="_blank" rel="noopener" href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC6238021%E3%80%82">https://www.ncbi.nlm.nih.gov/pmc/articles/PMC6238021。</a></p>
<p>17 “UpToDate：现代医疗的可信证据基础解决方案，”沃尔特斯·克鲁维尔，访问日期：2024 年 6 月 20 日，<a target="_blank" rel="noopener" href="https://www.wolterskluwer.com/en/solutions/uptodate%E3%80%82">https://www.wolterskluwer.com/en/solutions/uptodate。</a></p>
<p>18 迈克尔·莫里森，“进行研究的医院是否为患者提供更好的护理？”马萨诸塞州总医院，新闻稿，2022 年 2 月 28 日，<a target="_blank" rel="noopener" href="https://www.massgeneral.org/news/press-release/do-research-hospitals-provide-better-care-for-patients%E3%80%82">https://www.massgeneral.org/news/press-release/do-research-hospitals-provide-better-care-for-patients。</a></p>
<p>19 凯莉·霍利和西普·贝克，以 AI 为先的医疗：AI 在健康业务和临床管理中的应用 (O’Reilly Media, 2021)，<a target="_blank" rel="noopener" href="https://www.amazon.com/AI-First-Healthcare-Applications-Business-Management/dp/1492063150%E3%80%82">https://www.amazon.com/AI-First-Healthcare-Applications-Business-Management/dp/1492063150。</a></p>
<p>20 “前谷歌首席执行官埃里克·施密特眼中的人工智能未来，” Noema 杂志，2024 年 5 月 21 日，YouTube 视频，20:06，<a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=DgpYiysQjeI%E3%80%82">https://www.youtube.com/watch?v=DgpYiysQjeI。</a></p>
<p>21 “人工智能代理工作流程的未来，AI Fund 的 Andrew Ng”，红杉资本，2024 年 3 月 26 日，YouTube 视频，13:39，<a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=sal78ACtGTc%60&amp;&%60t=524s%E3%80%82">https://www.youtube.com/watch?v=sal78ACtGTc`&amp;&amp;`t=524s。</a></p>
<p>22 玛格丽特·米切尔，“伦理人工智能并不是谷歌Gemini灾难的罪魁祸首，” 时代，2024 年 2 月 29 日，<a target="_blank" rel="noopener" href="https://time.com/6836153/ethical-ai-google-gemini-debacle%E3%80%82">https://time.com/6836153/ethical-ai-google-gemini-debacle。</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://szhowardhuang.github.io/2024/08/08/llmclinical/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Howard Huang">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="嵌入式老兵博客">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 嵌入式老兵博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/08/08/llmclinical/" class="post-title-link" itemprop="url">医疗保健的LLMs和生成式人工智能 --- 目录</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-08-08 09:48:23" itemprop="dateCreated datePublished" datetime="2024-08-08T09:48:23+08:00">2024-08-08</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2024-08-21 14:03:21" itemprop="dateModified" datetime="2024-08-21T14:03:21+08:00">2024-08-21</time>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>1.2k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>2 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><img src="/../assets_llmClinical/image-20240821113921-n1fo6nk.png" alt="image.png"></p>
<p>LLMs and Generative AI for Healthcare</p>
<h1 id="本书的组织结构"><a href="#本书的组织结构" class="headerlink" title="本书的组织结构"></a>本书的组织结构</h1><p>本书的内容分为七个章节，组织如下——反映了LLMs及其他生成式人工智能模型在医疗保健中的独特特征，以及它们的潜力、挑战和应用。</p>
<h2 id="第一章：医生的黑色手提包"><a href="#第一章：医生的黑色手提包" class="headerlink" title="第一章：医生的黑色手提包"></a>第一章：医生的黑色手提包</h2><p>本章探讨了LLMs和生成式人工智能在医疗保健中的潜力，概述了LLMs的前景及其在医疗保健中的应用。除了描述LLMs的未来可能性外，本章还介绍了在医疗保健中使用LLMs的挑战。</p>
<h2 id="第二章：窥视人工智能黑箱"><a href="#第二章：窥视人工智能黑箱" class="headerlink" title="第二章：窥视人工智能黑箱"></a>第二章：窥视人工智能黑箱</h2><p>在这里，读者将了解LLM的结构以及LLMs的工作原理。本章帮助读者理解LLMs的架构和基本工作原理，而不是对LLMs的无定形化，并解释LLMs是如何工作和生成内容的。</p>
<h2 id="第三章：超越白大褂"><a href="#第三章：超越白大褂" class="headerlink" title="第三章：超越白大褂"></a>第三章：超越白大褂</h2><p>本章探讨了如何使用LLMs和生成式人工智能来自动化医疗保健中的更多任务。它考察了可以应用这项技术以改善运营和病人护理的领域。</p>
<h2 id="第四章：LLM与生成式人工智能的患者和临床潜力"><a href="#第四章：LLM与生成式人工智能的患者和临床潜力" class="headerlink" title="第四章：LLM与生成式人工智能的患者和临床潜力"></a>第四章：LLM与生成式人工智能的患者和临床潜力</h2><p>在本章中，我们探讨生成式人工智能如何提升患者体验并影响临床决策：健康机器人礼宾服务；医生的笔记和就诊；健康计划向导；针对常见健康问题的应用，如黑人母亲健康；用药提醒；甚至口腔健康。除了常见的健康问题，我们还将探讨临床决策支持工具、临床洞察机器人和人工智能路边医生。我们也不能忘记远程患者监测、数字双胞胎、完全自动化的医生信件，以及生成式人工智能在健康公平中的作用。</p>
<h2 id="第五章：LLMs-在药物研发、公共卫生及其他领域"><a href="#第五章：LLMs-在药物研发、公共卫生及其他领域" class="headerlink" title="第五章：LLMs 在药物研发、公共卫生及其他领域"></a>第五章：LLMs 在药物研发、公共卫生及其他领域</h2><p>本章介绍了LLMs在药物发现、临床试验设计与分析以及基因组研究中的应用。具体而言，我们讨论了LLMs在制药研发、公共卫生和基因组学中的多种应用，并进一步探讨了它们的好处和潜力。</p>
<h2 id="第六章：掌舵LLMs的伦理"><a href="#第六章：掌舵LLMs的伦理" class="headerlink" title="第六章：掌舵LLMs的伦理"></a>第六章：掌舵LLMs的伦理</h2><p>本章重点讨论如何以负责任的方式开发用于医疗保健的LLMs，并设计以最大化积极影响。它首先讨论我们所说的“积极的人工智能想象”是什么意思，然后描述围绕LLMs的伦理考虑，包括偏见、隐私和非法使用的风险。它还讨论了一些应对这些问题的策略（例如，监测LLM行为、确保和保护隐私、促进LLMs的伦理使用的政策等）。它讨论了“人工智能与回形针问题”（即对齐），指出我们必须确保人工智能的目标与人类的目标一致。</p>
<h2 id="第七章：未来将至"><a href="#第七章：未来将至" class="headerlink" title="第七章：未来将至"></a>第七章：未来将至</h2><p>最后一章提供了对LLMs未来的展望，包括对奇点的讨论以及 AGI 演变的潜力。最后一部分标题为“明天的展望”，提供了五个关于未来LLMs的预测，以及它们可能对我们的医疗保健和社会产生的影响。通过这一多样化的案例集合，本书提供了对LLMs和生成式人工智能在医疗保健中当前现实和未来机会的整体视角，赋予读者必要的知识和见解，以应对这些快速出现的技术的伦理、技术和社会影响。在阅读这七章后，读者将理解在医疗保健中使用LLMs和生成式人工智能的可能性、问题和伦理。希望章节之间的顺序能够引导读者深入理解这些工具如何在智能使用的情况下，转变医疗服务并改善患者结果。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://szhowardhuang.github.io/2024/08/07/3D-Data-Science-Systems/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Howard Huang">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="嵌入式老兵博客">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 嵌入式老兵博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/08/07/3D-Data-Science-Systems/" class="post-title-link" itemprop="url">终极指南：3D 数据科学系统和工具</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2024-08-07 14:49:30 / 修改时间：14:47:59" itemprop="dateCreated datePublished" datetime="2024-08-07T14:49:30+08:00">2024-08-07</time>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>7.3k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>13 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><img src="/../asset_3Ddatascience/01.png" alt="The 3D Data Science Systems core components and intersecting disciplines."></p>
<p>一个 3D 数据科学项目涉及数据工程、数据分析和可视化技术的结合，这些技术专门用于处理三维数据。</p>
<p>从收集初始数据到自动化 3D 沉浸式体验，让我涵盖整个过程。我将介绍所有必要的程序、资源和方法，以确保高效的工作流程和出色的结果。</p>
<p>让我深入探讨六个主要步骤：项目范围、数据获取、数据预处理、数据分析、可视化和部署，如下所示。</p>
<p><img src="/../asset_3Ddatascience/02.png" alt="A pyramid with six layers representing the steps in a 3D data science project: Project Scope, Data Acquisition, Data Preprocessing, Data Analysis, Visualization, and Deployment."></p>
<h1 id="1-定义项目范围和目标"><a href="#1-定义项目范围和目标" class="headerlink" title="1. 定义项目范围和目标"></a>1. 定义项目范围和目标</h1><p><img src="/../asset_3Ddatascience/03.png"></p>
<p>假设你想听我的意见。在深入技术设置之前，我想做一件事：清楚地定义 3D 数据科学项目的范围和目标。这一步就像在旅行前绘制航线，确保我们做好准备，专注于一个明确的目的地。这包括：</p>
<ul>
<li>识别问题: 理解您希望通过 3D 数据解决的具体问题。</li>
<li>目标设定：弄清楚你希望实现的目标，无论是新知识、预测还是视觉表现。</li>
<li>确定交付成果：指定预期的输出，如报告、模型或交互式可视化。</li>
</ul>
<p><img src="/../asset_3Ddatascience/04.png" alt="A staircase with three steps. The first step is “Identify Problem”. The second step is labeled “Set Objectives”. The third step is labeled “Determine Deliverables”. This is for “Setting Up a 3D Data Science Project”"></p>
<h1 id="2-数据采集"><a href="#2-数据采集" class="headerlink" title="2. 数据采集"></a>2. 数据采集</h1><p><img src="/../asset_3Ddatascience/05.png"></p>
<p>在设置 3D 数据科学项目时，初始和关键的步骤之一是数据获取。在这个阶段，识别和收集来自各种来源的相关 3D 数据，并确保其格式兼容，对于项目的成功至关重要。</p>
<p>让我们深入探讨 3D 数据采集的基础构件。</p>
<h1 id="2-1-数据来源"><a href="#2-1-数据来源" class="headerlink" title="2.1. 数据来源"></a>2.1. 数据来源</h1><p>首先，我们应该从可靠的来源识别并收集必要的 3D 数据。</p>
<p><img src="/../asset_3Ddatascience/06.png" alt="The Main 3D Data Sources: Public Dataset, 3D Cameras, 3D Scanners, Generative AI."></p>
<p> 常见来源包括：</p>
<ul>
<li>3D 相机：您可以将图像转换为 3D 模型。一个著名的例子是 Kinect：<a target="_blank" rel="noopener" href="https://learn.microsoft.com/en-us/windows/apps/design/devices/kinect-for-windows%EF%BC%88%E6%B6%88%E8%B4%B9%E7%BA%A7%E6%B7%B1%E5%BA%A6%E4%BC%A0%E6%84%9F%E5%99%A8%EF%BC%89">https://learn.microsoft.com/en-us/windows/apps/design/devices/kinect-for-windows（消费级深度传感器）</a></li>
<li>3D 扫描仪：捕捉物体物理形状的设备（例如，激光雷达，如 Velodyne：<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Velodyne_Lidar%EF%BC%89%E3%80%82">https://en.wikipedia.org/wiki/Velodyne_Lidar）。</a></li>
<li>生成性人工智能：通过使用生成性人工智能生成 3D 数据的工具。（例如，<a target="_blank" rel="noopener" href="https://buaacyw.github.io/mesh-anything/%EF%BC%89">https://buaacyw.github.io/mesh-anything/）</a></li>
<li>公共数据集：像 ShapeNet、ModelNet 或来自研究机构的自定义数据集等存储库。为了最好地帮助您在旅程中，我编制了一份参考数据集的列表，以帮助进行 3D 数据管理工作。</li>
</ul>
<h2 id="数据集"><a href="#数据集" class="headerlink" title="数据集"></a>数据集</h2><p>这里有一些带有公开可用数据集的选项：</p>
<ul>
<li>斯坦福大规模数据集 (S3DIS): <a target="_blank" rel="noopener" href="https://cvgl.stanford.edu/resources.html">https://cvgl.stanford.edu/resources.html</a> （包括室内场景的 LiDAR 和 RGB 数据）</li>
<li>NuScenes: <a target="_blank" rel="noopener" href="https://www.nuscenes.org/">https://www.nuscenes.org/</a> （大规模自动驾驶数据集，包含激光雷达、相机图像等）</li>
<li>Waymo 开放数据集： <a target="_blank" rel="noopener" href="https://waymo.com/open/">https://waymo.com/open/</a> （用于自动驾驶汽车的大规模数据集，包括激光雷达和摄像头数据）</li>
<li>Thing3D: <a target="_blank" rel="noopener" href="https://www.thingiverse.com/">https://www.thingiverse.com/</a> （大型 3D 模型数据集，专注于现实世界的物体）</li>
<li>ShapeNet: <a target="_blank" rel="noopener" href="https://shapenet.org/qaforum/">https://shapenet.org/qaforum/</a> （一个用于各种类别 3D 模型的热门数据集）</li>
<li>StyleGAN2: <a target="_blank" rel="noopener" href="https://developer.nvidia.com/blog/synthesizing-high-resolution-images-with-stylegan2/">https://developer.nvidia.com/blog/synthesizing-high-resolution-images-with-stylegan2/</a> （用于创建高保真图像的生成模型，可间接用于生成 3D 模型）</li>
<li>DreamGAN: <a target="_blank" rel="noopener" href="https://github.com/NVlabs/denoising-diffusion-gan/blob/main/train_ddgan.py">https://github.com/NVlabs/denoising-diffusion-gan/blob/main/train_ddgan.py</a> （用于创建 3D 形状的生成模型）</li>
<li>美国国家海洋和大气管理局 + 国家环境信息中心： <a target="_blank" rel="noopener" href="https://www.ncei.noaa.gov/">https://www.ncei.noaa.gov/</a> （提供地理空间数据，包括三维高程数据）</li>
</ul>
<h2 id="3D-仓库"><a href="#3D-仓库" class="headerlink" title="3D 仓库"></a><strong>3D 仓库</strong></h2><p>您还可以利用 OpenRepositories，使用各种许可证下可用的数据：</p>
<ul>
<li>Sketchfab: <a target="_blank" rel="noopener" href="https://sketchfab.com/">https://sketchfab.com/</a> （分享和发现 3D 模型的平台）</li>
<li>TurboSquid： <a target="_blank" rel="noopener" href="https://www.turbosquid.com/">https://www.turbosquid.com/</a> （3D 模型市场）</li>
</ul>
<p>现在您更好地了解了如何获取 3D 数据，让我们来谈谈格式。</p>
<h1 id="2-2-数据格式"><a href="#2-2-数据格式" class="headerlink" title="2.2. 数据格式"></a>2.2. 数据格式</h1><p>实际上，我们通常会使用多种格式的交响乐 🎺，每种格式都有其自身的优缺点。选择合适的格式取决于目的——快速的 3D 打印可能更适合简单的格式，而令人惊叹的虚拟现实体验可能需要更丰富、更详细的选项。因此，确保数据以兼容的格式进行分析和可视化是至关重要的。让我描绘一下我最喜欢的五种文件格式，如下所示：</p>
<p><img src="/../asset_3Ddatascience/07.png" alt="A diagram illustrating various 3D model file formats. A pyramid is shown with lines extending outward to different shapes representing the formats: OBJ, PLY, STL, GLTF, and LAS. by Florent Poux"></p>
<ol>
<li>OBJ（波前对象）： 一种流行且广泛支持的 3D 网格格式。它使用顶点（空间中的点）、面（形成平面表面的顶点集合）和纹理坐标定义对象的基本几何形状。虽然简单且易于人类阅读，但 OBJ 缺乏关于材料和动画的信息。它是基本 3D 模型或在不同软件程序之间交换数据的中间格式的良好选择。了解更多：维基百科</li>
<li>PLY（多边形文件格式）： 一种多功能格式，可以处理 3D 网格（如 OBJ）和点云（表示 3D 空间的数据点集合）。PLY 比 OBJ 提供了更多的灵活性，允许您为每个顶点或点存储额外的属性，如颜色和强度。这使得它成为科学数据和需要额外信息的应用的良好选择。然而，与像 OBJ 这样的简单格式相比，某些软件对 PLY 的支持可能较少。了解更多：斯坦福</li>
<li>STL（立体光刻）： 3D 打印的首选格式。STL 文件将 3D 物体的表面几何形状表示为一组微小的三角形。这种简单的表示方式使得 3D 打印机能够轻松理解并转换为物理层。然而，STL 文件缺乏关于颜色、纹理或动画的信息。它们非常适合传达物体的基本形状以进行打印，但对于具有丰富视觉细节的复杂场景则不太理想。</li>
<li>GLTF（GL 传输格式）： 一种现代格式，旨在高效地在网络上传输 3D 模型。GLTF 结合了 JSON（基于文本的数据格式）和二进制数据（模型信息的压缩表示），在文件大小和细节之间实现了良好的平衡。它支持网格、材质、纹理和动画等特性，是在网页或应用程序中嵌入互动 3D 内容的绝佳选择。了解更多信息：Khronos Group</li>
<li>LAS（激光档案系统）： 专门设计用于管理大型地理空间点云数据集。LAS 文件通常包含表示地球表面物体或地形位置的 3D 点，通常由 LiDAR 扫描仪（基于激光的成像系统）捕获。这些文件还可以存储额外的信息，如强度值（激光束的反射率），这对于地形分析非常有帮助。LAS 是地理空间数据的行业标准，广泛应用于测量、制图和环境建模等领域。了解更多信息：ASPRS</li>
</ol>
<p>考虑到这一点，您可以独立于您的应用案例处理 90%的场景。</p>
<p>🦚 Florent 的备注：在某些情况下，特别是在医学成像或地理空间应用中，您可以通过利用体素集合获得好处。在这种情况下，您可能需要调整这些格式或利用更纯粹的版本。如果这听起来有趣，您可以查看下面的文章。</p>
<p><a target="_blank" rel="noopener" href="https://towardsdatascience.com/how-to-automate-voxel-modelling-of-3d-point-cloud-with-python-459f4d43a227?source=post_page-----e92aaa8185eb--------------------------------">如何使用 Python 自动化 3D 点云的体素建模动手教程，将大型点云转换为 3D 体素🧊，使用 Python 和 open3d。解锁自动化工作流程……towardsdatascience.com</a></p>
<h1 id="3-数据预处理"><a href="#3-数据预处理" class="headerlink" title="3. 数据预处理"></a>3. 数据预处理</h1><p><img src="/../asset_3Ddatascience/08.png"></p>
<p>清洗和转换 3D 数据是建模和分析之前的重要第一步，以确保数据适合进一步处理。这个阶段被称为数据预处理，涉及数据清理、标准化和特征提取等任务。让我们探讨在有效分析和模型开发中预处理 3D 数据所涉及的基本步骤和技术。</p>
<h1 id="3-1-数据清理"><a href="#3-1-数据清理" class="headerlink" title="3.1. 数据清理"></a>3.1. 数据清理</h1><p>数据从来都不是完美的。让我坦诚地说：有时候，它看起来就像一个幼儿把意大利面晚餐扔到了扫描仪上。朋友们，这一部分就是关于数据清理的。</p>
<p>这是我们处理异常数据点、修补漏洞的地方，通常将那团意大利面般的混乱转变为一个平滑、适度熟的数据库，随时准备应对我们投入的任何内容。虽然这可能不是工作中最引人注目的部分，但相信我，干净的数据是任何成功 3D 项目的秘密武器。</p>
<p> 这可能涉及：</p>
<ul>
<li>去除异常值: 识别和消除显著偏离常规的数据点。</li>
<li>填补缺失值：使用插值或其他技术填补数据中的空白。</li>
<li>过滤噪声：噪声与异常值不同，是一个会影响您分析的数据点。应予以处理。</li>
</ul>
<p><img src="/../asset_3Ddatascience/09.png" alt="A funnel-shaped diagram illustrating the data cleaning process. Raw data enters the top of the funnel, and through the steps of identifying outliers, filtering noise, and filling missing values, clean data emerges at the bottom."></p>
<p>通常，在这个阶段之后，您会得到一个相对“干净”的初始输入版本。一旦达到这一点，我们就可以开始“转换”我们的数据集。</p>
<h1 id="3-2-数据转换"><a href="#3-2-数据转换" class="headerlink" title="3.2. 数据转换"></a>3.2. 数据转换</h1><p>在这个阶段，我们需要调整数据，以便更有效地进行分析。以下是一些此过程的示例：</p>
<p><img src="/../asset_3Ddatascience/10.png" alt="The four main steps of 3D data pre-processing."></p>
<p>如您所见，我们有四个主要步骤：</p>
<ul>
<li>标准化：将信息调整到标准范围内。</li>
<li>重采样：调整数据的分辨率。</li>
<li>特征提取：从原始数据中识别和提取相关特征。</li>
<li>旋转、平移、缩放: 调整您的 3D 数据集在空间中的位置</li>
</ul>
<p>在这个阶段，我认为有这个高层次的概述而不深入探讨是好的。这在许多情况下应该非常有用，特别是在（3D）数据分析的任务中。</p>
<h1 id="4-数据分析"><a href="#4-数据分析" class="headerlink" title="4. 数据分析"></a>4. 数据分析</h1><p><img src="/../asset_3Ddatascience/11.png"></p>
<p>在这个阶段，我们构建模型以理解数据并寻找隐藏的模式和关联。这涉及统计分析、可视化和模型构建等技术，包括应用人工智能、机器学习和深度学习，从三维数据中发现有价值的见解。</p>
<p>让我从探索性数据分析开始。</p>
<h1 id="4-1-探索性数据分析-EDA"><a href="#4-1-探索性数据分析-EDA" class="headerlink" title="4.1. 探索性数据分析 (EDA)"></a>4.1. 探索性数据分析 (EDA)</h1><p>探索性数据分析（EDA）提供了一个非常简单的工具箱，用于在深入复杂建模或分析之前了解您的 3D 数据。以下是我们始终使用的两种关键技术的简要介绍，如下所示：</p>
<p><img src="/../asset_3Ddatascience/12.png" alt="A diagram comparing two methods of data analysis. The left side shows a speech bubble with “Statistical Analysis”. The right side shows a speech bubble with “Visualization” to create 3D plots and graphs to visualize the data."></p>
<h2 id="统计分析"><a href="#统计分析" class="headerlink" title="统计分析"></a><strong>统计分析</strong></h2><p>这涉及使用描述性统计来总结您的 3D 数据的关键特征。可以将其视为绘制数据的基本肖像，以了解其中心趋势和分布。技术包括提取中心趋势、均值、中位数、分布、范围或其他分布指标。</p>
<h2 id="可视化"><a href="#可视化" class="headerlink" title="可视化"></a><strong>可视化</strong></h2><p>虽然数字很重要，但有时一幅图（或者说，一个 3D 图！）要有效得多。可视化就是创建信息丰富且互动的图表，以探索数据中的关系和模式。我们通常依赖于 3D 散点图（可视化多个变量在 3D 空间中的相互关系）、直方图或热图。</p>
<p>现在我们已经通过探索性数据分析（EDA）探索了 3D 数据，是时候构建一些模型并揭示它们更深层的含义了！</p>
<h1 id="4-2-模型构建"><a href="#4-2-模型构建" class="headerlink" title="4.2. 模型构建"></a>4.2. 模型构建</h1><p>模型帮助我们从探索转向解释！理解 3D 模型（非几何模型）构建的世界是很重要的，在这里我们将使用复杂的技术来提取隐藏的模式，揭示数据中的真实含义。我们可以利用多种方法，从传统的统计分析到前沿的人工智能（AI），构建能够分析、解释甚至预测基于您宝贵的 3D 信息的未来结果的模型。</p>
<h2 id="数据分析层次与模型"><a href="#数据分析层次与模型" class="headerlink" title="数据分析层次与模型"></a>数据分析层次与模型</h2><p>首先，让我谈谈我们进行的“类型”分析：</p>
<p><img src="/../asset_3Ddatascience/13.png" alt="A diagram illustrating different levels of data analysis. The diagram is divided into four quadrants: Simple Regression Analysis, Complex Classification of Data Points, Simple 3D Object Detection, and Complex Semantic/Instance Segmentation. The axes represent complexity and breadth."></p>
<p>如您所见，我们有四个主要部分：</p>
<ul>
<li>回归分析： 该技术找到“最佳拟合”模型，以描述数据中变量之间的关系。想象一下散点图中的趋势线——这就是回归的实际应用。</li>
<li>数据点的分类: 将基本实体整理成预定义数量的类别</li>
<li>3D 物体检测：在数据集中识别和定位特定数量的类别，使用 3D 边界框</li>
<li>S语义 &#x2F; 实例分割: 更进一步，在基础实体层面进行工作（点云的点、网格的面、体素模型的体素，……）</li>
</ul>
<p>通过使用人工智能。但人工智能的细致程度如何？</p>
<h2 id="AI-模型粒度"><a href="#AI-模型粒度" class="headerlink" title="AI 模型粒度"></a>AI 模型粒度</h2><p>我们总是想知道这些模型中的“魔法”是如何发生的。AI 模型的架构定义了它在您的 3D 数据中捕获的内容，并在其有效性中发挥着至关重要的作用。让我定义一下下面所示的四个主要类别：</p>
<p><img src="/../asset_3Ddatascience/14.png" alt="The granularity of AI Models used in 3D Data Science."></p>
<p>尽可能简单地说：</p>
<ul>
<li>人工智能：试图模仿非人工智能</li>
<li>机器学习：这涉及应用上述提到的明确定义的算法（回归、分类等）来从您的数据中学习。可以把机器学习想象成一个勤奋学习教科书（数据）的学生，以便学习和做出预测。</li>
<li>深度学习：这是机器学习的一个子领域，使用人工神经网络，特别是专门设计用于处理 3D 数据的卷积神经网络（CNN）。想象一下，深度学习就像一个拥有超能力的学生，能够从远超传统机器学习算法能力的大型数据集中学习复杂的模式。</li>
<li>transformers：这些利用编码&#x2F;解码架构来完美融合全局和局部特征，更有效地把握上下文和局部变化。这对于理解上下文和 3D 场景中不同部分之间的关系等任务特别有用。</li>
</ul>
<p>🦚 Florent 的笔记：选择最佳的模型构建技术和人工智能方法取决于您的具体任务和数据。以下是一些一般性指导。对于简单的关系，回归分析或基本的机器学习算法可能就足够了。对于复杂的对象分类或分割，深度学习方法如卷积神经网络（CNN）或变换器（Transformers）通常更受欢迎。</p>
<p>现在，我们可以全力投入到 3D 可视化中！</p>
<h1 id="5-可视化"><a href="#5-可视化" class="headerlink" title="5. 可视化"></a>5. 可视化</h1><p><img src="/../asset_3Ddatascience/15.png"></p>
<p>现在让我们进入引人入胜的 3D 数据可视化领域，在这里我们利用可用的工具和库来创建迷人且互动的 3D 数据可视化。这包括基于 Python 的可视化选项以及基于 Web 的 3D 图形，满足我们项目的各种可视化需求。这是我试图缩小范围的尝试：</p>
<p><img src="/../asset_3Ddatascience/16.png" alt="A diagram illustrating tools and libraries for 3D visualization. The central box labeled “3D Visualization Tools and Libraries” is connected to three other boxes: “Python (Py)”, “Web (WebGL)”, and “Software”. The Python box lists Matplotlib, Open3D, and Pyvista. The Web box lists Three.js, Potree, and Cesium. The Software box lists CloudCompare, Blender, and Unity."></p>
<p>正如您所见，当涉及到可视化这些 3D 数据时，我们有一整套选择可供使用，这取决于您是想进行快速的 Python 探索还是完整的网页体验。</p>
<p><strong>使用 Python：</strong></p>
<ul>
<li>Matplotlib (<a target="_blank" rel="noopener" href="https://matplotlib.org/)%EF%BC%9A%E8%BF%99%E4%B8%AA%E8%80%81%E7%89%8C%E5%B7%A5%E5%85%B7%E6%98%AF%E5%9F%BA%E6%9C%AC">https://matplotlib.org/)：这个老牌工具是基本</a> 3D 绘图甚至一些交互式 3D 可视化的绝佳选择。它是理解基础知识的坚实基础。</li>
<li>Open3D (<a target="_blank" rel="noopener" href="https://open3d.org/)%EF%BC%9A%E5%A6%82%E6%9E%9C%E4%BD%A0%E6%83%B3%E8%A6%81%E4%B8%80%E4%B8%AA%E7%9B%B4%E6%8E%A5%E9%9B%86%E6%88%90%E5%9C%A8%E4%BD%A0%E7%9A%84">https://open3d.org/)：如果你想要一个直接集成在你的</a> Python 环境中的流畅 3D 查看器，Open3D 就是你的好帮手。它让你轻松地探索和操作你的数据。</li>
<li>Pyvista (<a target="_blank" rel="noopener" href="https://docs.pyvista.org/">https://docs.pyvista.org/</a>): 这个家伙提供了良好的功能组合，能够很好地处理各种 3D 数据格式。当你需要比 Matplotlib 更多的功能时，它是一个不错的选择。</li>
</ul>
<p><strong>用于网络（WebGL）：</strong></p>
<ul>
<li>Three.js (<a target="_blank" rel="noopener" href="https://threejs.org/)%EF%BC%9A%E6%83%B3%E8%A6%81%E6%8C%91%E6%88%98%E8%87%AA%E5%B7%B1%EF%BC%8C%E5%88%9B%E5%BB%BA%E4%B8%80%E4%BA%9B%E7%9C%9F%E6%AD%A3%E5%85%88%E8%BF%9B%E7%9A%84%E5%9F%BA%E4%BA%8E%E7%BD%91%E9%A1%B5%E7%9A%84">https://threejs.org/)：想要挑战自己，创建一些真正先进的基于网页的</a> 3D 图形吗？Three.js 是你的游乐场。它是一个强大的库，让你构建令人惊叹的互动体验。但请注意，它的学习曲线较陡。</li>
<li>Potree (<a target="_blank" rel="noopener" href="https://github.com/potree/potree">https://github.com/potree/potree</a>) : 需要在网上实时流式传输您的点云数据吗？那就看看 Potree 吧。这是一个专门为此目的设计的出色工具。</li>
<li>铯(<a target="_blank" rel="noopener" href="https://cesium.com/">https://cesium.com</a>) : 处理包含 3D 元素的地理空间数据？铯可以满足您的需求。它是一个构建互动 3D 地图和可视化的综合平台。</li>
</ul>
<p><strong>使用软件：</strong></p>
<ul>
<li>CloudCompare (<a target="_blank" rel="noopener" href="https://www.cloudcompare.org/">https://www.cloudcompare.org/</a>) — 如果你是点云的纯粹主义者并且想要一个专用的软件解决方案，CloudCompare 是一个免费的开源强大工具。它提供了丰富的工具用于处理、编辑和分析你的点云数据。</li>
<li>Blender (<a target="_blank" rel="noopener" href="https://www.blender.org/)%EF%BC%9A%E6%9C%89%E6%97%B6%E5%80%99%E4%BD%A0%E5%8F%AA%E6%83%B3%E7%9B%B4%E6%8E%A5%E4%B8%8E%E5%8F%AF%E8%A7%86%E5%8C%96%E6%9C%AC%E8%BA%AB%E6%89%93%E4%BA%A4%E9%81%93%E3%80%82Blender%EF%BC%8C%E4%B8%80%E4%B8%AA%E6%B5%81%E8%A1%8C%E7%9A%84">https://www.blender.org/)：有时候你只想直接与可视化本身打交道。Blender，一个流行的</a> 3D 创作套件，是艺术家和爱好者创建其 3D 数据惊人渲染的绝佳选择。</li>
<li>Unity (<a target="_blank" rel="noopener" href="https://unity.com/)%EF%BC%9A%E6%83%B3%E5%BE%97%E6%9B%B4%E5%A4%A7%E5%90%97%EF%BC%9FUnity">https://unity.com/)：想得更大吗？Unity</a> 是一个游戏引擎，允许您创建沉浸式 3D 体验。虽然它有一定的学习曲线，但它可以成为展示您的 3D 数据的强大工具，以一种真正引人入胜的方式。</li>
</ul>
<p>请记住，这只是可用工具的一部分。最适合您的选择将取决于您具体的项目需求和技能水平。最主要的问题是：您需要互动性吗？下面的图表应该能帮助您回答这个问题。</p>
<p><img src="/../asset_3Ddatascience/17.png" alt="What are the pros and cons of using interactive 3D Visualizations"></p>
<p>最后，关于可视化技术呢？</p>
<h1 id="5-2-可视化技术"><a href="#5-2-可视化技术" class="headerlink" title="5.2. 可视化技术"></a>5.2. 可视化技术</h1><p>您已经构建了您的 3D 模型，现在是展示它们的时候了！有效的 3D 可视化技术超越了静态图像——它们允许观众探索、互动并真正理解您的数据。您可以考虑这个第一个问题：</p>
<p><img src="/../asset_3Ddatascience/18.png" alt="The different ways to visualize 3D Data (interactive VS Static)"></p>
<p>从 3D 中，您可以推导出三个主要主题：</p>
<p><img src="/../asset_3Ddatascience/19.png"></p>
<h2 id="交互式可视化"><a href="#交互式可视化" class="headerlink" title="交互式可视化"></a><strong>交互式可视化</strong></h2><p>想象一下用户旋转一个 3D 模型，放大细节，甚至操控其组件。互动可视化创造了一个引人入胜的体验，让观众从不同的角度探索您的数据，获得更深入的见解。</p>
<p><img src="/../asset_3Ddatascience/20.png"></p>
<p>这对于产品演示、建筑漫游和科学数据探索非常有用。正如我们之前看到的，您可以利用 Three.js 和 Unity。</p>
<h2 id="动画"><a href="#动画" class="headerlink" title="动画"></a>动画</h2><p>有时候，静态的 3D 模型或互动但静态的体验并不足够。动画增加了时间的力量，使您能够展示数据中的变化、过程或模拟。这在可视化天气模式、生物学中的生长过程或工程中的动态模拟时非常受欢迎。在这里，Blender 是您的好帮手：</p>
<h2 id="标注"><a href="#标注" class="headerlink" title="标注"></a>标注</h2><p>虽然设计良好的可视化效果已经传达了很多信息，但有时添加清晰的标签、注释或标注可以进一步增强理解。注释可以突出特定特征，解释复杂概念，或引导观众理解您的数据。</p>
<p><img src="/../asset_3Ddatascience/21.png" alt="A diagram outlining the process of creating, viewing, and editing 3D annotations. The left side shows the creation process, including selecting a point on a model and adding comments and annotations. The right side shows the viewing and editing options, including viewing by anyone and editing or deleting by the creator. The bottom section highlights benefits such as easier collaboration and improved communication."></p>
<p>它们在需要指出医学扫描中的关键特征、解释复杂机器模型中的组件或在科学可视化中提供额外信息时特别有用。我建议利用 CloudCompare 来完成这个任务。</p>
<p>很好，我们几乎涵盖了 3D 数据科学应用的所有组件。但最后一步是进行部署和维护。</p>
<h1 id="6-部署与维护"><a href="#6-部署与维护" class="headerlink" title="6. 部署与维护"></a>6. 部署与维护</h1><p><img src="/../asset_3Ddatascience/22.png"></p>
<p>现在您已经构建并可视化了令人惊叹的 3D 模型，是时候将它们部署到现实世界中！本节将处理 3D 部署和维护的关键方面，确保您的模型可访问、功能齐全且保持最新。</p>
<h1 id="6-1-部署"><a href="#6-1-部署" class="headerlink" title="6.1. 部署"></a>6.1. 部署</h1><p>您 3D 模型的部署方法取决于其预期用途和目标受众。以下是一些常见策略：</p>
<p><img src="/../asset_3Ddatascience/23.png" alt="The three main families (web, desktop tools and cloud platforms)."></p>
<ul>
<li>网络应用程序：它们非常适合让任何有互联网连接的人访问您的 3D 模型。用户可以直接在网页浏览器中查看，无需下载任何特殊软件。Flask 和 Django 是两个流行的框架。</li>
<li>桌面应用程序：它们提供比网络应用程序更具互动性的体验。它们可以在用户的计算机上本地安装，并可能提供在网络浏览器环境中无法实现的额外功能。我通常使用像 PyQt 或 Electron 这样的工具。</li>
<li>云服务：云平台提供了一种可扩展且具有成本效益的方式来部署和管理您的 3D 模型。这些平台提供基础设施、存储和计算资源，可以按需访问，让您专注于构建应用程序，而无需担心管理底层硬件和软件。我建议利用像 AWS、AZURE 或 Google Cloud 这样的平台。</li>
</ul>
<p>很好。现在你已经了解了如何推广你的应用程序，最后一个阶段是如何保持它的相关性和无错误。</p>
<h1 id="6-2-维护"><a href="#6-2-维护" class="headerlink" title="6.2. 维护"></a>6.2. 维护</h1><p>就像任何创作一样，您的 3D 模型需要持续的维护，以保持其准确性和功能性。以下是一些关键做法，以确保您的 3D 项目继续提供价值。</p>
<p><img src="/../asset_3Ddatascience/24.png" alt="How to maintain your model performance and accuracy."></p>
<ul>
<li>监控: 定期检查模型的性能和准确性。</li>
<li>更新中: 根据需要整合新数据并优化模型。</li>
<li>文档: 保持全面的文档以供将来参考和协作。</li>
</ul>
<p>通过遵循这些实践并利用提供的资源，您可以确保您的 3D 数据科学应用保持良好的维护和准确性，并在未来几年继续提供价值！</p>
<h1 id="结论"><a href="#结论" class="headerlink" title="结论"></a>结论</h1><p>恭喜你！你已经掌握了六步指南，并且正在朝着构建有影响力的 3D 数据科学应用程序的方向迈进，如下所示。</p>
<p><img src="/../asset_3Ddatascience/25.png" alt="The linear path to deploy 3D experiences based on your data."></p>
<p>该设置需要在各个阶段进行仔细的规划和执行，从数据获取到部署。这种结构化的方法可以带来有意义的洞察、高质量的预测和三维可视化。</p>
<p><a target="_blank" rel="noopener" href="https://towardsdatascience.com/ultimate-guide-3d-data-science-systems-and-tools-e92aaa8185eb">蓝图指南：3D 数据科学系统和工具 | 数据科学前沿 — Blueprint Guide: 3D Data Science Systems and Tools | Towards Data Science</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://szhowardhuang.github.io/2024/08/01/Parquet_file_format/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Howard Huang">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="嵌入式老兵博客">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 嵌入式老兵博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/08/01/Parquet_file_format/" class="post-title-link" itemprop="url">Parquet 文件格式</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-08-01 09:49:47" itemprop="dateCreated datePublished" datetime="2024-08-01T09:49:47+08:00">2024-08-01</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2024-08-07 14:37:43" itemprop="dateModified" datetime="2024-08-07T14:37:43+08:00">2024-08-07</time>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>3.3k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>6 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>随着近年来数据量的指数级增长，寻找存储各种数据类型的最优方式成为了最大的挑战之一。与（不久前）过去关系数据库被视为唯一选择的情况不同，组织现在希望对原始数据进行分析——想想社交媒体情感分析、音频&#x2F;视频文件等等——这些通常无法以传统（关系）方式存储，或者以传统方式存储需要大量的努力和时间，从而增加了整体分析所需的时间。</p>
<p>另一个挑战是以某种方式坚持传统方法，以结构化的方式存储数据，但不需要设计复杂且耗时的 ETL 工作负载将这些数据移动到企业数据仓库。此外，如果您组织中的一半数据专业人员精通 Python（数据科学家、数据工程师），而另一半（数据工程师、数据分析师）精通 SQL，您会坚持让“Python 程序员”学习 SQL 吗？或者反之呢？</p>
<p>顺便说一下，如果你想学习 如何使用 Azure Synapse Analytics 从 Parquet 文件中查询数据，我可以帮你。</p>
<p>或者，您更喜欢一种可以发挥您整个数据团队优势的存储选项吗？我有好消息告诉您——这样的东西自 2013 年以来就已经存在了，它叫做 Apache Parquet。</p>
<h1 id="Parquet-文件格式简述！"><a href="#Parquet-文件格式简述！" class="headerlink" title="Parquet 文件格式简述！"></a>Parquet 文件格式简述！</h1><p>在我向您展示 Parquet 文件格式的细节之前，有（至少）五个主要原因使得 Parquet 被认为是如今存储数据的事实标准：</p>
<ul>
<li>数据压缩 — 通过应用各种编码和压缩算法，Parquet 文件提供了减少内存消耗的功能</li>
<li>列式存储 — 这在分析工作负载中至关重要，因为快速的数据读取操作是关键要求。不过，关于这一点将在文章后面详细讨论…</li>
<li>语言无关 — 如前所述，开发人员可以使用不同的编程语言来操作 Parquet 文件中的数据</li>
<li>开源格式 — 意味着您不会被特定供应商锁定</li>
<li><em><strong>对复杂数据类型的支持</strong></em></li>
</ul>
<h1 id="行存储与列存储"><a href="#行存储与列存储" class="headerlink" title="行存储与列存储"></a>行存储与列存储</h1><p>我们已经提到过 Parquet 是一种基于列的存储格式。然而，要理解使用 Parquet 文件格式的好处，我们首先需要区分基于行和基于列的数据存储方式。</p>
<p>在传统的行式存储中，数据以一系列行的形式存储。像这样：</p>
<p><img src="/../asset_parquet/01.png"></p>
<p> </p>
<p>现在，当我们谈论OLAP场景时，您的用户可能会问的一些常见问题是：</p>
<ul>
<li>我们卖了多少个球？</li>
<li>有多少来自美国的用户购买了 T 恤？</li>
<li>客户玛丽亚·亚当斯总共花费了多少？</li>
<li>我们在 1 月 2 日的销售额是多少？</li>
</ul>
<p>为了能够回答这些问题，引擎必须从头到尾扫描每一行。因此，要回答这个问题：有多少来自美国的用户购买了 T 恤，引擎必须执行类似以下的操作：</p>
<p><img src="/../asset_parquet/02.png"></p>
<p> </p>
<p>基本上，我们只需要来自两列的信息：产品（T 恤）和国家（美国），但引擎会扫描所有五列。这并不是最有效的解决方案——我想我们可以对此达成一致……</p>
<h1 id="列存储"><a href="#列存储" class="headerlink" title="列存储"></a>列存储</h1><p>现在让我们来看看列存储是如何工作的。正如你可能想象的那样，这种方法与传统方法截然不同。</p>
<p><img src="/../asset_parquet/03.png"></p>
<p> </p>
<p>在这种情况下，每一列都是一个独立的实体——这意味着每一列在物理上与其他列分开。回到我们之前的商业问题：引擎现在可以仅扫描查询所需的那些列（产品和国家），同时跳过扫描不必要的列。在大多数情况下，这应该会提高分析查询的性能。</p>
<p>好的，这很好，但列存储在 Parquet 之前就已经存在，并且在 Parquet 之外仍然存在。那么，Parquet 格式有什么特别之处呢？</p>
<h1 id="Parquet-是一种列式格式，它将数据存储在行组中"><a href="#Parquet-是一种列式格式，它将数据存储在行组中" class="headerlink" title="Parquet 是一种列式格式，它将数据存储在行组中"></a>Parquet 是一种列式格式，它将数据存储在行组中</h1><p>等一下，什么？！在这之前不是已经够复杂了吗？别担心，这比听起来简单得多:)</p>
<p>让我们回到之前的例子，描述一下 Parquet 将如何存储这一块相同的数据：</p>
<p><img src="/../asset_parquet/04.png"></p>
<p> </p>
<p>让我们停下来解释一下上面的插图，因为这正是 Parquet 文件的结构（一些额外的内容被故意省略，但我们很快会来解释这些）。列仍然作为单独的单元存储，但 Parquet 引入了额外的结构，称为行组。</p>
<p>为什么这个额外的结构如此重要？</p>
<p>您需要稍等一下以获取答案:)。在 OLAP 场景中，我们主要关注两个概念：<em><strong>projection</strong></em>和<em><strong>predicate(s)</strong></em> 。<em><strong>projection</strong></em>指的是 SQL 语言中的SELECT语句——查询需要哪些列。回到我们之前的例子，我们只需要产品和国家列，因此引擎可以跳过扫描其余的列。</p>
<p><em><strong>predicate(s)</strong></em> 指的是 SQL 语言中的 WHERE 子句——哪些行满足查询中定义的条件。在我们的例子中，我们只对 T 恤感兴趣，因此引擎可以完全跳过扫描第 2 行组，其中产品列中的所有值都等于袜子。</p>
<p><img src="/../asset_parquet/05.png"></p>
<p> </p>
<p>让我们在这里快速停一下，因为我希望你意识到不同类型存储在引擎需要执行的工作方面的区别：</p>
<ul>
<li>行存储 — 引擎需要扫描所有 5 列和所有 6 行</li>
<li>列存储 — 引擎需要扫描 2 列和所有 6 行</li>
<li>列存储与行组 — 引擎需要扫描 2 列和 4 行</li>
</ul>
<p>显然，这是一个过于简单化的例子，只有 6 行 5 列，在这种情况下，您肯定不会看到这三种存储选项之间的性能差异。然而，在现实生活中，当您处理更大数量的数据时，差异变得更加明显。</p>
<p>现在，合理的问题是：Parquet 是如何“知道”跳过&#x2F;扫描哪个行组的？</p>
<h1 id="Parquet-文件包含元数据"><a href="#Parquet-文件包含元数据" class="headerlink" title="Parquet 文件包含元数据"></a>Parquet 文件包含元数据</h1><p>这意味着，每个 Parquet 文件都包含“关于数据的数据”——例如特定列在某个行组中的最小值和最大值等信息。此外，每个 Parquet 文件都包含一个页脚，其中保存了关于格式版本、模式信息、列元数据等的信息。您可以在 这里 找到有关 Parquet 元数据类型的更多详细信息。</p>
<p>重要：为了优化性能并消除不必要的数据结构（行组和列），引擎首先需要“熟悉”数据，因此它首先读取元数据。这不是一个慢操作，但仍然需要一定的时间。因此，如果您从多个小的 Parquet 文件中查询数据，查询性能可能会下降，因为引擎必须从每个文件中读取元数据。因此，您最好将多个较小的文件合并为一个较大的文件（但仍然不要太大 :)…</p>
<p>我听到你说，我听到你说：尼古拉，“小”和“大”是什么？不幸的是，这里没有一个单一的“黄金”数字，但例如，微软 Azure Synapse Analytics 建议单个 Parquet 文件的大小至少应为几百 MB。</p>
<h1 id="里面还有什么？"><a href="#里面还有什么？" class="headerlink" title="里面还有什么？"></a>里面还有什么？</h1><p>这里是 Parquet 文件格式的简化高层次示意图：</p>
<p><img src="/../asset_parquet/06.png"></p>
<p> </p>
<h1 id="能比这更好吗？是的，通过数据压缩"><a href="#能比这更好吗？是的，通过数据压缩" class="headerlink" title="能比这更好吗？是的，通过数据压缩"></a>能比这更好吗？是的，通过数据压缩</h1><p>好的，我们已经解释了跳过不必要的数据结构（行组和列）的扫描如何使您的查询受益并提高整体性能。但这不仅仅是这些——还记得我一开始告诉您，Parquet 格式的主要优点之一是文件的内存占用减少吗？这是通过应用各种压缩算法实现的。</p>
<p>我已经在 Power BI（以及一般的表格模型）中写过关于各种数据压缩类型的文章 这里，所以也许从阅读这篇文章开始是个好主意。</p>
<p>有两种主要的编码类型，使 Parquet 能够压缩数据并实现惊人的空间节省：</p>
<ul>
<li>字典编码 — Parquet 创建了列中不同值的字典，然后用字典中的索引值替换“真实”值。回到我们的例子，这个过程看起来像这样：</li>
</ul>
<p><img src="/../asset_parquet/07.png"></p>
<p> </p>
<p>你可能会想：为什么要这么麻烦，产品名称不是很短吗？好吧，但现在想象一下，你存储的是产品的详细描述，比如：“长袖 T 恤，颈部有应用”。现在想象一下，这个产品卖出了一百万次……是的，与其让“长袖……等等”这个重复的值出现一百万次，Parquet 只会存储索引值（整数而不是文本）。</p>
<ul>
<li>位长编码与位打包 — 当您的数据包含许多重复值时，位长编码（RLE）算法可能会带来额外的内存节省。</li>
</ul>
<h1 id="能比这个更好吗？！是的，使用-Delta-Lake-文件格式"><a href="#能比这个更好吗？！是的，使用-Delta-Lake-文件格式" class="headerlink" title="能比这个更好吗？！是的，使用 Delta Lake 文件格式"></a>能比这个更好吗？！是的，使用 Delta Lake 文件格式</h1><p>好的，什么是 Delta Lake 格式？！这篇文章是关于 Parquet 的，对吧？</p>
<p>所以，用简单的英语来说：Delta Lake 只是“增强版”的 Parquet 格式。当我说“增强版”时，主要指的是 Parquet 文件的版本控制。它还存储一个事务日志，以便跟踪对 Parquet 文件所做的所有更改。这也被称为 符合 ACID 的事务。</p>
<p>由于它不仅支持 ACID 事务，还支持时间旅行（回滚、审计跟踪等）和数据操作语言（DML）语句，如 INSERT、UPDATE 和 DELETE，因此如果你将 Delta Lake 视为“数据湖上的数据仓库”，你不会错的（谁说的：Lakehouse :)）</p>
<h1 id="结论"><a href="#结论" class="headerlink" title="结论"></a>结论</h1><p>我们在进化……与我们一样，数据也在进化。因此，新类型的数据需要新的存储方式。Parquet 文件格式是当前数据环境中最有效的存储选项之一，因为它提供了多种好处——在内存消耗方面，通过利用各种压缩算法，以及通过使引擎能够跳过扫描不必要的数据来实现快速查询处理。</p>
<p><a target="_blank" rel="noopener" href="https://towardsdatascience.com/parquet-file-format-everything-you-need-to-know-ea54e27ffa6e">Parquet File Format: Everything You Need to Know | by Nikola Ilic | Jul, 2024 | Towards Data Science</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://szhowardhuang.github.io/2024/07/29/GraphRAG02/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Howard Huang">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="嵌入式老兵博客">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 嵌入式老兵博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/07/29/GraphRAG02/" class="post-title-link" itemprop="url">GraphRAG系列2 - GraphRAG和基于语义/关键字的传统RAG的比较</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2024-07-29 17:23:22 / 修改时间：17:34:02" itemprop="dateCreated datePublished" datetime="2024-07-29T17:23:22+08:00">2024-07-29</time>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>2.4k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>4 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="了解基于语义-关键字的-RAG"><a href="#了解基于语义-关键字的-RAG" class="headerlink" title="了解基于语义&#x2F;关键字的 RAG"></a>了解基于语义&#x2F;关键字的 RAG</h1><p>在基于语义&#x2F;关键字的 RAG 中，我们将传统的信息检索策略与语言生成相结合，以产生更准确且上下文相关的响应。</p>
<h2 id="基于语义-关键字的-RAG-的组成部分"><a href="#基于语义-关键字的-RAG-的组成部分" class="headerlink" title="基于语义&#x2F;关键字的 RAG 的组成部分"></a>基于语义&#x2F;关键字的 RAG 的组成部分</h2><p>以下是基于语义&#x2F;关键字的 RAG 的组件。</p>
<ol>
<li>文档语料库是充当知识库的文本或文档的集合。</li>
<li>嵌入模型将文本转换为捕获语义的向量表示。</li>
<li>一个矢量数据库，用于存储和索引文档的嵌入表示。</li>
<li>检索器根据查询找到相关文档。</li>
<li>一种（大）语言模型，用于根据检索到的信息和查询生成响应。</li>
</ol>
<p>以下流程代表传统的 RAG（基于语义&#x2F;关键字）流程。</p>
<p><img src="/../asset_graphrag02/01.png"></p>
<p>现在，我们不会太深入地讨论分块策略或检索策略（例如查询分解、重新排名等）的细节。这些确实有助于提高最终输出的质量。</p>
<p>我们现在了解 GraphRAG 和传统 RAG（基于语义&#x2F;关键字）的基础知识以及各自方法的组成部分。现在是时候通过示例来比较这些方法了。</p>
<p>我们将使用相同的电影场景并假设比较两种方法。</p>
<h1 id="比较"><a href="#比较" class="headerlink" title="比较"></a>比较</h1><p>我们将在以下几点上比较这些方法。</p>
<ol>
<li> 知识表示</li>
<li> 检索机制</li>
<li> 上下文理解</li>
<li> 可扩展性</li>
<li> 查询解释</li>
<li> 信息综合</li>
</ol>
<h2 id="1-知识表示"><a href="#1-知识表示" class="headerlink" title="1. 知识表示"></a>1. 知识表示</h2><ul>
<li>在 GraphRAG 中，我们将电影、演员、导演和主题表示为相互关联的实体。例如，《黑客帝国》与科幻和动作类型相关，“沃卓斯基姐妹”担任导演，“基努·里维斯”担任演员。</li>
<li>在传统的 RAG 中，我们可能会将《黑客帝国》存储为文本块：“《黑客帝国》是一部 1999 年的科幻动作片，由沃卓斯基姐妹执导，由基努·里维斯主演。”</li>
</ul>
<p><img src="/../asset_graphrag02/02.png"></p>
<p>GraphRAG 的优势在于它可以轻松回答诸如“《黑客帝国》中还有哪些科幻电影明星演员？”之类的问题。通过遍历图表。</p>
<p>如果没有具体的文本提及此类联系，传统的 RAG 将难以解决这个问题。为了使这种传统的 RAG 能够处理此类查询，我们可能需要实现某种查询分解和依赖性规划。</p>
<h2 id="2-检索机制"><a href="#2-检索机制" class="headerlink" title="2. 检索机制"></a>2. 检索机制</h2><ul>
<li>在 GraphRAG 中，如果我们有一个像“科幻反乌托邦电影”这样的查询，检索可以从与“科幻”节点相似或具有“科幻”节点的社区开始，并遍历到具有“反乌托邦”这样的节点的更本地化的社区，最终检索到电影——《黑客帝国》。</li>
<li>而在传统的 RAG 中，如果没有文本块与电影“黑客帝国”或其他电影一起提及“科幻”或“反乌托邦”，那么输出可能非常通用，即与关键字“科幻”相关，或者可能有一些主题是“反乌托邦”（在大块中提到）但不是“科幻”的电影。</li>
</ul>
<p><img src="/../asset_graphrag02/03.png"></p>
<p>因此，即使查询词与存储的文本不完全匹配，GraphRAG 也可以找到相关内容。</p>
<h2 id="3-上下文理解"><a href="#3-上下文理解" class="headerlink" title="3. 上下文理解"></a>3. 上下文理解</h2><ul>
<li>GraphRAG 可以理解《盗梦空间》和《黑客帝国》是相关的，因为它们共享“科幻”类型和“令人费解的概念”主题，即使在任何文本块中都没有明确提及。</li>
<li>传统的 RAG 可能无法连接这两部电影，除非有特定的文本块来比较它们。</li>
</ul>
<p><img src="/../asset_graphrag02/04.png"></p>
<p>在这种情况下，两部电影（《盗梦空间》和《黑客帝国》）之间的关系是通过这些电影共享的类型和主题来暗示的。在图中，这两部电影之间会有联系，甚至可能形成一个社区。因此，GraphRAG 的隐式上下文理解可以帮助提供更有洞察力的建议。</p>
<h2 id="4-可扩展性"><a href="#4-可扩展性" class="headerlink" title="4. 可扩展性"></a>4. 可扩展性</h2><ul>
<li>随着我们的电影数据库的增长，GraphRAG 中的层次结构 (C0 — C1 — C2) 可实现高效导航。我们可以快速将其范围从“电影”缩小到“科幻与动作”再到“纯科幻动作”。这也取决于我们如何设计检索器——基于实体或通过社区报告的映射缩减。</li>
<li>在传统 RAG 的情况下，我们在回答广泛的查询时可能会遇到困难，因为可能存在许多与查询的各个部分类似的不相关但匹配的块。然后我们需要引入重新排名来过滤垃圾块。</li>
</ul>
<p>因此，GraphRAG 可以更有效地处理大型、复杂的数据集，尤其是探索性查询。</p>
<h2 id="5-查询解释"><a href="#5-查询解释" class="headerlink" title="5. 查询解释"></a>5. 查询解释</h2><ul>
<li>对于像“像《盗梦空间》这样的电影，但更注重动作片”这样的查询，GraphRAG 通过社区报告的映射缩减，可以理解它需要寻找“科幻惊悚片”类别中但更接近“纯科幻动作片”的类别的电影，可能暗示“黑客帝国”。</li>
<li>对于相同的查询，传统的 RAG 可能难以捕捉查询的细微差别，并且可能会返回同时提及“盗梦空间”和“动作”的电影。</li>
</ul>
<p><img src="/../asset_graphrag02/05.png"></p>
<p>因此，GraphRAG 可以处理更细微的、依赖于上下文的查询。</p>
<h2 id="6-信息综合"><a href="#6-信息综合" class="headerlink" title="6.信息综合"></a>6.信息综合</h2><ul>
<li>对于关于“从 90 年代到 2010 年代科幻电影的演变”的查询，GraphRAG 通过社区报告的 map-reduce 可以收集与“科幻”电影及其发行年份相关的信息。然后有效地利用这些信息来回答如此广泛的问题。</li>
<li>传统的 RAG 可能会获得类似于“科幻”、“90 年代”或“2010 年代”的内容，但很难将进化叙事贯穿其中。</li>
</ul>
<p><img src="/../asset_graphrag02/06.png"></p>
<p>凭借遍历相关实体的能力，GraphRAG 可以为复杂查询提供更全面的综合响应。</p>
<h1 id="没有一种RAG适合所有情况"><a href="#没有一种RAG适合所有情况" class="headerlink" title="没有一种RAG适合所有情况"></a>没有一种RAG适合所有情况</h1><p>虽然 GraphRAG 是回答更细致、更广泛和探索性问题的更好方法，但在许多用例中传统 RAG 更适合。</p>
<p>GraphRAG 在令牌数量、嵌入和检索时间方面都非常昂贵。</p>
<p>如果 GraphRAG 在本地系统上与 LLMs 一起使用，那么成本因素不是问题，但与计算文档块的嵌入相比，索引（提取 + 嵌入）时间仍然相当长。</p>
<p>对于以下情况，传统 RAG 仍然是更好的选择：</p>
<ol>
<li>简单、基于事实的查询：对于诸如“黑客帝国是哪一年发行的？”之类的问题，传统的 RAG 会更快、更直接。</li>
<li>更容易实施：对于较小的数据集或更简单的用例，传统的 RAG 可能更容易设置和维护。</li>
</ol>
<p>对于基于内容的电影推荐，用GraphRAG 实现的原因很简单，上面的比较中的不同查询示例已经对此进行了解释。</p>
<p>我们希望我们的 RAG 方法能够回答高度广泛（全球的）、细致入微（本地的）和复杂的查询。使用传统的 RAG 方法很难一致地满足如此广泛的查询。</p>
<h1 id="结论"><a href="#结论" class="headerlink" title="结论"></a>结论</h1><p>虽然 GraphRAG 在理解电影领域的上下文、关系和复杂查询方面具有显着优势，但传统 RAG 仍然占有一席之地，特别是对于更简单、更直接的用例。</p>
<p><a target="_blank" rel="noopener" href="https://pub.towardsai.net/graphrag-gpt-4o-mini-is-the-rag-heaven-8da0741d509b">GraphRAG + GPT-4o-Mini is the RAG Heaven | by Vatsal Saglani | Jul, 2024 | Towards AI</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://szhowardhuang.github.io/2024/07/24/GraphRAG01/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Howard Huang">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="嵌入式老兵博客">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 嵌入式老兵博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/07/24/GraphRAG01/" class="post-title-link" itemprop="url">GraphRAG系列1 - 简介GraphRAG</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2024-07-24 12:18:03 / 修改时间：12:35:36" itemprop="dateCreated datePublished" datetime="2024-07-24T12:18:03+08:00">2024-07-24</time>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>5.1k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>9 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>GraphRAG 是 Darren Edge 等人在《From Local to Global: A Graph RAG Approach to Query-Focused Summarization》一文中介绍的一种先进的基于图的检索增强生成 (GraphRAG) 方法。这种方法结合了图论、信息检索和LLMs。</p>
<p>核心概念是文本中的实体表示为图中的节点，这些实体之间的关系表示节点之间的边。然后，该图按层次划分为社区，并汇总为社区报告。</p>
<p>在查询时，我们必须设置探索社区的深度值来搜索相关社区。深度越深，计算&#x2F;LLM 调用就越多。</p>
<p>一旦检索到相关社区，我们就可以使用这些社区的摘要报告来回答用户查询。</p>
<p>下图描述了整个过程。</p>
<p><img src="/../asset_graphrag01/graph_rag_1-20240724094652-8avbuls.png" alt="graph_rag_1.png">  </p>
<h1 id="GraphRAG-的关键组件"><a href="#GraphRAG-的关键组件" class="headerlink" title="GraphRAG 的关键组件"></a>GraphRAG 的关键组件</h1><p>如上图所示，我们将 GraphRAG 流程分为以下三个关键部分。</p>
<ol>
<li> 提炼</li>
<li> 嵌入</li>
<li> 询问</li>
</ol>
<p>让我们分别了解这些组件。</p>
<h2 id="提炼"><a href="#提炼" class="headerlink" title="提炼"></a>提炼</h2><p>在提取组件中，我们做了以下事情，</p>
<ol>
<li> 提取实体</li>
<li>提取实体之间的关系</li>
<li>提取实体的声明</li>
<li>摘录关系的声明</li>
</ol>
<p>我们将通过一个例子来理解这一点。</p>
<p>假设我们有以下文本。</p>
<blockquote>
<p>电影：《肖申克的救赎》两个被囚禁的男人多年来结下不解之缘，通过共同的正派行为找到安慰和最终的救赎。\n年份：1994\n导演：弗兰克·达拉邦特\n演员：[“蒂姆·罗宾斯”、“摩根·弗里曼” 、“鲍勃·冈顿”、“威廉·赛德勒”]\n证书：A</p>
</blockquote>
<p><strong>步骤 1：提取实体</strong></p>
<ul>
<li>肖申克的救赎（电影）</li>
<li>弗兰克·达拉邦特（Frank Darabont）（人—导演）</li>
<li>蒂姆·罗宾斯（人 — 演员）</li>
<li>摩根·弗里曼（人 — 演员）</li>
<li>鲍勃·冈顿（人—演员）</li>
<li>威廉·赛德勒（人 — 演员）</li>
<li> 1994 (年)</li>
<li> 证书(A)</li>
</ul>
<p><strong>步骤 2：提取关系</strong></p>
<ul>
<li>肖申克的救赎 ——导演：弗兰克·达拉邦特</li>
<li>肖申克的救赎 — 明星 — 蒂姆·罗宾斯</li>
<li>肖申克的救赎 — 明星 — 摩根·弗里曼</li>
<li>肖申克的救赎 ——明星——鲍勃·冈顿</li>
<li>肖申克的救赎 — 明星 — 威廉·赛德勒</li>
<li>肖申克的救赎 ——1994 年上映</li>
<li>肖申克的救赎 — 有证书 — A</li>
</ul>
<p><strong>步骤 3-4：提取实体和关系的声明</strong></p>
<ul>
<li>肖申克的救赎：“两个被囚禁的男人多年来结下了不解之缘，通过共同的正派行为找到了安慰并最终得到救赎。”</li>
<li>肖申克的救赎：1994 年上映</li>
<li>肖申克的救赎：拥有 A 级证书</li>
</ul>
<p>中心节点将是电影的名称——肖申克的救赎。</p>
<p>如果我们要绘制实体、关系和声明，它将如下图所示。</p>
<p><img src="/../asset_graphrag01/01.png"></p>
<h2 id="嵌入"><a href="#嵌入" class="headerlink" title="嵌入"></a>嵌入</h2><p>在处理所有文档的第一个组件（提取）所需的步骤后，提取的信息将嵌入到图表中。</p>
<p>由于我们需要将电影嵌入到图表中，所以我们再看两个电影文本。</p>
<blockquote>
<p>“电影：‘盗梦空间’\n类型：[‘科幻’、‘动作’、‘惊悚片’]\n年份：2010年\n导演：克里斯托弗·诺兰\n演员：[‘莱昂纳多·迪卡普里奥’、‘约瑟夫·高登-莱维特’]\ n证书：PG-13”</p>
<p>“电影：‘黑客帝国’\n类型：[‘科幻’、‘动作’]\n年份：1999年\n导演：沃卓斯基姐妹\n演员：[‘基努·里维斯’、‘劳伦斯·菲什伯恩’]\n证书：R”</p>
</blockquote>
<p><em><strong>盗梦空间的提取输出</strong></em></p>
<p><strong>步骤 1：提取实体</strong></p>
<ul>
<li> 盗梦空间（电影）</li>
<li>克里斯托弗·诺兰（人—导演）</li>
<li>莱昂纳多·迪卡普里奥（人—演员）</li>
<li>约瑟夫·高登-莱维特（人—演员）</li>
<li> 2010年（年）</li>
<li> PG-13（证书）</li>
<li> 科幻（类型）</li>
<li> 动作（类型）</li>
<li> 惊悚片（类型）</li>
</ul>
<p><strong>步骤 2：提取关系</strong></p>
<ul>
<li>盗梦空间 — 导演 — 克里斯托弗·诺兰</li>
<li>盗梦空间 — 明星 — 莱昂纳多·迪卡普里奥</li>
<li>盗梦空间 — 明星 — 约瑟夫·高登-莱维特</li>
<li>盗梦空间 — 发布于 — 2010</li>
<li>盗梦空间 — 拥有证书 — PG-13</li>
<li>盗梦空间 ——类型——科幻</li>
<li>盗梦空间 ——类型——动作</li>
<li>盗梦空间 — 类型 — 惊悚片</li>
</ul>
<p><strong>步骤 3-4：提取实体和关系的声明</strong></p>
<ul>
<li>盗梦空间：“一个熟练的小偷拥有从人们的头脑中‘提取’信息的罕见能力，他将获得一个重获旧生活的机会，作为完成一项被认为不可能完成的任务的报酬：‘盗梦空间’，将另一个人的想法植入目标的大脑中。”潜意识。”</li>
<li>成立时间：2010年发布</li>
<li>成立：拥有 PG-13 证书</li>
<li>《盗梦空间》：是一部科幻电影</li>
<li>《盗梦空间》：是一部动作片</li>
<li>《盗梦空间》：是一部惊悚片</li>
</ul>
<p><em><strong>《黑客帝国》的提取输出</strong></em></p>
<p><strong>步骤 1：提取实体</strong></p>
<ul>
<li> 黑客帝国（电影）</li>
<li>沃卓斯基姐妹（个人 — 董事）</li>
<li>基努·里维斯（人—演员）</li>
<li>劳伦斯·菲什伯恩（人物 — 演员）</li>
<li> 1999 (年)</li>
<li> R（证书）</li>
<li> 科幻（类型）</li>
<li> 动作（类型）</li>
</ul>
<p><strong>步骤 2：提取关系</strong></p>
<ul>
<li>黑客帝国 — 导演 — 沃卓斯基姐妹</li>
<li>黑客帝国 ——明星——基努·里维斯</li>
<li>黑客帝国 ——明星——劳伦斯·菲什伯恩</li>
<li>黑客帝国 — 发布于 — 1999 年</li>
<li>黑客帝国 — 有证书 — R</li>
<li>黑客帝国 ——类型——科幻</li>
<li>黑客帝国 — 类型 — 动作</li>
</ul>
<p><strong>步骤 3-4：提取实体和关系的声明</strong></p>
<ul>
<li>《黑客帝国》：“一名计算机程序员发现他所知道的现实是机器创造的模拟，旨在征服人类，并加入叛乱以推翻他们。”</li>
<li>《黑客帝国》：1999 年上映</li>
<li>黑客帝国：拥有 R 证书</li>
<li>《黑客帝国》：是一部科幻电影</li>
<li>《黑客帝国》：是一部动作片</li>
</ul>
<p><strong>嵌入步骤 1：创建图表</strong></p>
<p>现在我们有了所有三部电影的实体、关系和声明，我们可以将它们嵌入到如下图中。</p>
<p><img src="/../asset_graphrag01/02.png">  </p>
<p><strong>嵌入步骤 2-3：检测社区并建立层次结构</strong></p>
<p>我们可以根据流派将图分为以下两个社区。</p>
<ol>
<li>戏剧和犯罪社区</li>
<li>科幻与动作社区</li>
</ol>
<p><img src="/../asset_graphrag01/03.png">  </p>
<p>我们可以使用分层社区检测算法（莱顿算法）将节点聚类成单独的社区。</p>
<p>首先，让我们看看分层社区将如何出现。</p>
<p><img src="/../asset_graphrag01/04.png">  </p>
<p>我们有以下层次结构。</p>
<ol>
<li>C0 — 电影：该社区包含我们数据集中的所有电影。它代表了跨越不同类型、时期和主题的各种电影。这些电影具有共同的元素，如导演、演员、类型和发行年份，但在具体内容和风格上有所不同。</li>
<li>C1 — 戏剧和犯罪：该社区专注于带有犯罪元素的戏剧故事讲述。</li>
<li>C1 — 科幻与动作：这个社区结合了科幻与动作的元素。</li>
<li>C2——纯科幻：这个子社区以《黑客帝国》为代表，专注于科幻概念，重点强调动作。</li>
<li>C2——科幻惊悚片：以《盗梦空间》为代表的子社区，将科幻元素与心理惊悚片相结合。</li>
</ol>
<p>有了这个层次结构，我们就有了全局和局部分类。 C0 和 C1 集群&#x2F;组&#x2F;社区非常广泛（全球），而 C2 集群&#x2F;组&#x2F;社区非常具体（本地）。</p>
<p><strong>嵌入步骤 4：总结社区</strong></p>
<ol>
<li>C1——戏剧和犯罪</li>
</ol>
<ul>
<li>强烈的人物驱动叙事</li>
<li>对人际关系和情感的探索</li>
<li>正义、救赎、坚忍的主题</li>
<li>刑事司法系统的现实写照</li>
</ul>
<ol start="2">
<li>C1——科幻与动作</li>
</ol>
<ul>
<li>未来或另类现实设置</li>
<li>令人费解的概念和技术</li>
<li>智力刺激和视觉奇观的融合</li>
<li>探索现实和意识的本质</li>
</ul>
<ol start="3">
<li>C2——纯科幻动作</li>
</ol>
<ul>
<li>反乌托邦未来设定</li>
<li>先进技术作为核心情节元素</li>
<li>高辛烷值动作序列</li>
<li>人与机器的主题</li>
</ul>
<ol start="4">
<li>C2——科幻惊悚片</li>
</ol>
<ul>
<li>复杂、层次分明的叙述</li>
<li>心理操纵与探索</li>
<li>现实与想象之间的界限变得模糊</li>
<li>智力难题和令人费解的概念</li>
</ul>
<blockquote>
<p>摘要报告还可以包含奖项、演员名录的表演、票房结果等。</p>
</blockquote>
<p><em>我们将绕一小段路，通过电影示例来了解莱顿算法。</em></p>
<h1 id="关于莱顿算法"><a href="#关于莱顿算法" class="headerlink" title="关于莱顿算法"></a>关于莱顿算法</h1><blockquote>
<p>Leiden算法是用于社区检测的Louvain方法的改进版本。它的工作原理是优化模块化——衡量社区内部链接与社区之间链接相比的密度。</p>
</blockquote>
<p>首先，让我们了解模块化。</p>
<p>模块化是衡量网络划分为社区的程度的指标。我们可以将其视为，</p>
<ul>
<li>高度模块化意味着社区内部联系较多，不同社区之间联系较少。</li>
<li>低模块化意味着连接分布更均匀，没有清晰的社区结构。</li>
</ul>
<p>对于我们的电影示例，高度模块化意味着社区内的电影具有许多共同的特征，例如科幻和动作社区。低模块化意味着戏剧和犯罪社区等共同特征较少。</p>
<h2 id="分层社区检测步骤"><a href="#分层社区检测步骤" class="headerlink" title="分层社区检测步骤"></a>分层社区检测步骤</h2><p>让我们看看电影示例中的社区检测步骤。</p>
<h3 id="步骤-1：从单个节点开始"><a href="#步骤-1：从单个节点开始" class="headerlink" title="步骤 1：从单个节点开始"></a>步骤 1：从单个节点开始</h3><p>首先将每部电影视为自己的社区。</p>
<ul>
<li>社区1：肖申克的救赎</li>
<li>社区 2：盗梦空间</li>
<li>社区 3：黑客帝国</li>
</ul>
<p><img src="/../asset_graphrag01/05.png"></p>
<p> </p>
<h3 id="步骤-2：将节点合并到社区中"><a href="#步骤-2：将节点合并到社区中" class="headerlink" title="步骤 2：将节点合并到社区中"></a>步骤 2：将节点合并到社区中</h3><p>查看电影之间的联系，例如共享类型或主题，如果可以提高模块化程度，请将它们合并。</p>
<ul>
<li>将《盗梦空间》和《黑客帝国》合并为科幻和动作社区。</li>
<li>《肖申克的救赎》仍然属于自己的戏剧和犯罪社区。</li>
</ul>
<p><img src="/../asset_graphrag01/06.png"></p>
<p> </p>
<h3 id="步骤-3：创建第一级层次结构-C1-："><a href="#步骤-3：创建第一级层次结构-C1-：" class="headerlink" title="步骤 3：创建第一级层次结构 (C1)："></a>步骤 3：创建第一级层次结构 (C1)：</h3><ul>
<li>C1 社区 1：戏剧与犯罪（肖申克的救赎）</li>
<li>C1 社区 2：科幻与动作（盗梦空间、黑客帝国）</li>
</ul>
<p><img src="/../asset_graphrag01/07.png"></p>
<p> </p>
<h3 id="步骤-4：社区作为节点"><a href="#步骤-4：社区作为节点" class="headerlink" title="步骤 4：社区作为节点"></a>步骤 4：社区作为节点</h3><p>现在将社区视为节点。</p>
<p><img src="/../asset_graphrag01/08.png"></p>
<p> </p>
<h3 id="步骤-5：在更高级别重复步骤-1、2-和-3"><a href="#步骤-5：在更高级别重复步骤-1、2-和-3" class="headerlink" title="步骤 5：在更高级别重复步骤 1、2 和 3"></a>步骤 5：在更高级别重复步骤 1、2 和 3</h3><p>寻找这些社区节点之间的联系。在这种情况下，没有足够的社区来进一步合并，因此我们在这里产生 C0 级别。</p>
<h3 id="步骤-6：细化较低级别"><a href="#步骤-6：细化较低级别" class="headerlink" title="步骤 6：细化较低级别"></a>步骤 6：细化较低级别</h3><p>返回科幻和动作社区并查找子社区。</p>
<ul>
<li>根据《盗梦空间》和《黑客帝国》更具体的特征进行拆分。</li>
</ul>
<p><img src="/../asset_graphrag01/09.png"></p>
<p> </p>
<h3 id="步骤-7：创建第二级层次结构-C2"><a href="#步骤-7：创建第二级层次结构-C2" class="headerlink" title="步骤 7：创建第二级层次结构 (C2)"></a>步骤 7：创建第二级层次结构 (C2)</h3><ul>
<li>C2 社区 1：纯科幻动作（黑客帝国）</li>
<li>C2 社区 2：科幻惊悚片（盗梦空间）</li>
</ul>
<p><img src="/../asset_graphrag01/10.png"></p>
<p> </p>
<p>最后，我们有以下层次结构。</p>
<p><img src="/../asset_graphrag01/11.png"></p>
<h2 id="询问"><a href="#询问" class="headerlink" title="询问"></a>询问</h2><p>在查询部分，我们使用映射缩减方法（map-reduce）来使用映射操作查找相关社区。然后将映射输出提供给reduce（缩减器）以回答用户查询。</p>
<p>让我们用一个示例查询来看看查询过程——我想看一部犯罪剧。</p>
<p>以下是整个过程的样子。</p>
<p><img src="/../asset_graphrag01/12.png"></p>
<h3 id="映射阶段"><a href="#映射阶段" class="headerlink" title="映射阶段"></a>映射阶段</h3><p>我们首先进入地图阶段。在这里，每个社区报告都会传递给映射器，映射器将输出社区与给定查询以及电影的相关程度。</p>
<p><img src="/../asset_graphrag01/13.png"></p>
<p>每个社区的地图阶段的输出如下所示。</p>
<ul>
<li> 戏剧与犯罪C1：</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;community&quot;: &quot;Drama &amp; Crime C1&quot;,</span><br><span class="line">    &quot;relevance_score&quot;: 95,</span><br><span class="line">    &quot;movies&quot;: [&quot;The Shawshank Redemption&quot;],</span><br><span class="line">    &quot;reason&quot;: &quot;Directly matches the crime drama genre request&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li> 科幻与动作 C1</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;community&quot;: &quot;Sci-Fi &amp; Action C1&quot;,</span><br><span class="line">    &quot;relevance_score&quot;: 10,</span><br><span class="line">    &quot;movies&quot;: [&quot;Inception&quot;, &quot;The Matrix&quot;],</span><br><span class="line">    &quot;reason&quot;: &quot;Does not match the crime drama genre request&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li> 纯科幻动作C2</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;community&quot;: &quot;Pure Sci-Fi Action C2&quot;,</span><br><span class="line">    &quot;relevance_score&quot;: 5,</span><br><span class="line">    &quot;movies&quot;: [&quot;The Matrix&quot;],</span><br><span class="line">    &quot;reason&quot;: &quot;Does not match the crime drama genre request&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li> 科幻惊悚片 C2</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;community&quot;: &quot;Sci-Fi Thriller C2&quot;,</span><br><span class="line">    &quot;relevance_score&quot;: 15,</span><br><span class="line">    &quot;movies&quot;: [&quot;Inception&quot;],</span><br><span class="line">    &quot;reason&quot;: &quot;Has some thriller elements but not crime drama&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="缩减阶段"><a href="#缩减阶段" class="headerlink" title="缩减阶段"></a>缩减阶段</h3><p>映射阶段的输出与用户查询一起传递到缩减器，以获取相关建议和其他建议的列表。</p>
<p><img src="/../asset_graphrag01/14.png"></p>
<p>以下是reduce 阶段的输出的样子。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;relevant_communities&quot;: [</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;community&quot;: &quot;Drama &amp; Crime C1&quot;,</span><br><span class="line">            &quot;relevance_score&quot;: 95,</span><br><span class="line">            &quot;movies&quot;: [&quot;The Shawshank Redemption&quot;]</span><br><span class="line">        &#125;</span><br><span class="line">    ],</span><br><span class="line">    &quot;other_suggestions&quot;: [</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;community&quot;: &quot;Sci-Fi Thriller C2&quot;,</span><br><span class="line">            &quot;relevance_score&quot;: 15,</span><br><span class="line">            &quot;movies&quot;: [&quot;Inception&quot;]</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>此外，我们可以通过 LLM 向用户查询和相关社区提供电影详细信息和建议来传达此输出。我们可以提示 LLM 根据用户查询和相关电影以及额外建议来个性化输出。</p>
<h1 id="结论"><a href="#结论" class="headerlink" title="结论"></a>结论</h1><p>在这篇博客中，我们介绍了 GrapRAG 及其关键组件——提取、嵌入和查询。除此之外，我们还了解了使用莱顿算法进行分层社区检测。在接下来的博客中，我们将利用这些知识为基于内容的电影推荐系统开发 GraphRAG 模块 - GraphRAG4Recommendation。</p>
<p><a target="_blank" rel="noopener" href="https://pub.towardsai.net/graphrag-gpt-4o-mini-is-the-rag-heaven-b9191dbd44e1">GraphRAG + GPT-4o-Mini is the RAG Heaven | by Vatsal Saglani | Jul, 2024 | Towards AI</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://szhowardhuang.github.io/2024/07/08/AIOS/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Howard Huang">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="嵌入式老兵博客">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 嵌入式老兵博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/07/08/AIOS/" class="post-title-link" itemprop="url">LLM代理操作系统 （AIOS）</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2024-07-08 09:25:04 / 修改时间：10:31:31" itemprop="dateCreated datePublished" datetime="2024-07-08T09:25:04+08:00">2024-07-08</time>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>1.9k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>4 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>一种称为AIOS（LLM代理操作系统）的新方法旨在改变基于大型语言模型的代理的开发和部署。通过集成到LLMs操作系统中，AIOS 创建了一个功能类似于大脑的操作系统，标志着向通用人工智能 （AGI） 迈出了一步。</p>
<p><strong>AIOS的主要特点和优势：</strong></p>
<ol>
<li>资源分配优化：AIOS改善了资源分配，确保了LLM代理请求的高效利用。</li>
<li>无缝上下文切换：它简化了在代理之间切换上下文的过程，实现了平稳过渡并保持连续性。</li>
<li>并发代理执行：AIOS 允许多个代理同时运行，从而提高整体系统性能和响应能力。</li>
<li>全面的代理工具集：它为代理提供了广泛的工具供代理使用，从而为他们提供了扩展的功能。</li>
<li>强大的访问控制：AIOS实施严格的访问控制措施，对代理权限进行管理，维护系统安全。</li>
</ol>
<p><img src="/../asset_aios/01.png" alt="Example of how an agent (i.e., Travel Agent) requires both LLM level and OS"></p>
<p>代理（即旅行代理）如何需要LLM级别和操作系统级别的资源和功能来完成任务的示例</p>
<h2 id="LLM内核"><a href="#LLM内核" class="headerlink" title="LLM内核"></a>LLM内核</h2><p>AIOS的核心是LLM内核，这是一个专门的组件，旨在通过一套专用模块管理LLM相关的活动：</p>
<ul>
<li>代理调度器：该模块优化了代理请求的调度，确保了LLM资源的高效利用。通过对请求队列进行优先级排序和管理，Agent Scheduler 可以最大限度地提高吞吐量并最小化延迟。</li>
<li>上下文管理器：上下文管理器负责保存和恢复 LLM的生成进度，即使中断，也可以无缝恢复任务。它还管理上下文窗口，确保LLM上下文容量的最佳利用。</li>
<li>内存管理器：AIOS 包括一个内存管理器，为每个代理的交互提供短期内存。这使代理能够保持本地状态并快速访问相关信息，从而提高他们的响应能力和性能。</li>
<li>存储管理器：为了实现长期持久性，存储管理器可以安全地保存代理交互。这使代理能够访问历史数据，从过去的经验中学习，并根据广泛的知识做出明智的决策。</li>
<li>工具管理器：工具管理器负责监督代理可以使用的外部 API 工具。通过集成各种工具，AIOS 使代理能够执行复杂的任务并访问丰富的信息和功能。</li>
<li>访问管理器：为确保隐私和安全，访问管理器在代理之间实施严格的访问控制策略。它管理权限、身份验证和授权，防止未经授权的访问并保护敏感数据。</li>
</ul>
<h2 id="开发人员友好的界面和-SDK"><a href="#开发人员友好的界面和-SDK" class="headerlink" title="开发人员友好的界面和 SDK"></a>开发人员友好的界面和 SDK</h2><p>AIOS 提供了一个直观的LLM系统调用接口，允许开发人员轻松地与底层LLM内核进行交互。此外，AIOS SDK 提供了一套全面的工具和库，使开发人员能够轻松创建复杂的代理应用程序。SDK 抽象了复杂的功能，使代理开发更加易于访问和高效。</p>
<h2 id="三层架构"><a href="#三层架构" class="headerlink" title="三层架构"></a>三层架构</h2><p>AIOS采用三层架构，保证模块化、可扩展性和性能：</p>
<ol>
<li>应用程序层：此层是开发和部署代理应用程序的地方。开发人员利用 AIOS SDK 创建可以执行各种任务的智能和交互式代理。</li>
<li>内核层：内核层由两个主要组件组成 — 操作系统内核和LLM内核。操作系统内核处理常规操作系统任务，而LLM内核则专门用于管理LLM特定的活动，确保最佳性能和资源利用率。</li>
<li>硬件层：硬件层包含系统的物理组件，例如 CPU、GPU、内存和存储设备。AIOS 有效地利用这些资源来提供无缝且高性能的代理执行环境。</li>
</ol>
<h2 id="实验结果"><a href="#实验结果" class="headerlink" title="实验结果"></a>实验结果</h2><p>在AIOS上进行的实验表明，它能够同时运行多个代理，并具有出色的可靠性和效率。即使代理请求暂停和恢复，LLM响应也保持一致，从而确保了生成的输出的完整性。此外，AIOS的智能调度机制明显优于顺序代理执行，在等待和处理时间上实现了更好的平衡。</p>
<p><img src="/../asset_aios/02.png" alt="AIOS architecture"></p>
<p>AIOS 架构概述</p>
<h2 id="未来研究方向"><a href="#未来研究方向" class="headerlink" title="未来研究方向"></a>未来研究方向</h2><p>虽然 AIOS 为LLM基于代理的开发和部署提供了一种开创性的方法，但未来还有几种令人兴奋的研究和改进途径：</p>
<ul>
<li>高级调度算法：开发考虑座席请求之间的依赖关系的调度算法，并根据优先级和紧急程度优化资源分配。</li>
<li>高效的上下文管理：探索更高效地管理上下文的技术，例如上下文压缩和摘要，以最大限度地提高上下文窗口的LLM利用率。</li>
<li>优化内存和存储：研究优化内存和存储架构的方法，以促进无缝代理协作，例如实施共享内存池和分层缓存机制。</li>
<li>增强安全性和隐私性：不断增强 AIOS 的安全和隐私功能，包括高级加密技术、安全通信协议和强大的访问控制机制。</li>
</ul>
<h2 id="结论"><a href="#结论" class="headerlink" title="结论"></a>结论</h2><p>AIOS代表了开发和部署基于代理的LLM的一步。通过集成到LLMs操作系统中，AIOS为代理执行创造了一个智能高效的环境。凭借其全面的模块集、开发人员友好的界面和优化的架构，AIOS 为智能代理生态系统奠定了基础。</p>
<p>随着研究人员继续探索和扩展AIOS的功能，我们可以预见未来，基于LLM智能体的代理将变得越来越复杂、自主，并成为各个领域不可或缺的一部分。AIOS开辟了许多可能性，为下一代智能系统铺平了道路，这些系统能够以前所未有的方式理解、推理并与世界互动。</p>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p><a target="_blank" rel="noopener" href="https://medium.com/@simeon.emanuilov/llm-agent-operating-system-aios-and-the-future-of-llm-powered-agents-3d08b4e91c34">https://medium.com/@simeon.emanuilov/llm-agent-operating-system-aios-and-the-future-of-llm-powered-agents-3d08b4e91c34</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://szhowardhuang.github.io/2024/07/04/knowledge-transfer-tutorial/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Howard Huang">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="嵌入式老兵博客">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 嵌入式老兵博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/07/04/knowledge-transfer-tutorial/" class="post-title-link" itemprop="url">英文知识搬运教程</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-07-04 10:21:12" itemprop="dateCreated datePublished" datetime="2024-07-04T10:21:12+08:00">2024-07-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2024-08-21 14:19:16" itemprop="dateModified" datetime="2024-08-21T14:19:16+08:00">2024-08-21</time>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>3.3k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>6 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>之前搬运很多medium的文章，搬运过程很耗时间，首先要把网页文章翻译成中文，然后一段段的校对，拷贝黏贴到markdown文件中，图片文件要下载存储更名到本地，编写markdown文件链接。最后再转换成html文件发布到github io博客。经常要2~3个小时才能完成一篇文章的搬运。</p>
<p>前两天发现思源笔记可以直接拷贝粘贴翻译好的文章，生成笔记，作为平时的网络摘抄笔记。评估了一下思源的会员，最后还是安装思源笔记docker server版本，免费开源。会员有图传和同步功能，对于程序员来说，可以克服这些问题。</p>
<p>言归正传，对于经典的文章，想要发布到博客的，可以用思源笔记把文章导出到markdown文件，省掉编辑markdown的时间。不过，markdown里面的图片链接都是远程的，我们当然不希望这些图片不受控制，所以还需要把图片下载到本地，然后更新markdown文件中的链接。思源笔记有图床，不过要收费，而且一样不受控。思源笔记有转换远程图片到本地的功能，不过对medium搞不定。</p>
<p>所以，还是自己动手吧，写个python脚本，自动下载markdown的远程链接文件，把图片下载到本地，更新链接，这样就可以省下很多时间，而且图片也能更好地管理。</p>
<p>pip install requests python-magic</p>
<p>对于windows系统，还需要 pip install python-magic-bin</p>
<p>代码如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> argparse</span><br><span class="line"><span class="keyword">import</span> magic</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">download_images_and_update_markdown</span>(<span class="params">markdown_file, output_directory</span>):</span><br><span class="line">    <span class="comment"># 确保输出目录存在</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(output_directory):</span><br><span class="line">        os.makedirs(output_directory)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 将输出目录转换为绝对路径</span></span><br><span class="line">    output_directory = os.path.abspath(output_directory)</span><br><span class="line">    markdown_file = os.path.abspath(markdown_file)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 读取Markdown文件</span></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(markdown_file, <span class="string">&#x27;r&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> file:</span><br><span class="line">        content = file.read()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 使用正则表达式匹配图片URL</span></span><br><span class="line">    urls = re.findall(<span class="string">r&#x27;!\[.*?\]\((https?://[^\s]+)\)&#x27;</span>, content)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 存储远程到本地文件的映射</span></span><br><span class="line">    url_to_local = &#123;&#125;</span><br><span class="line"></span><br><span class="line">    headers = &#123;</span><br><span class="line">        <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> index, url <span class="keyword">in</span> <span class="built_in">enumerate</span>(urls, start=<span class="number">1</span>):</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            <span class="comment"># 临时文件路径</span></span><br><span class="line">            temp_filename = os.path.join(output_directory, <span class="string">f&quot;temp_<span class="subst">&#123;index&#125;</span>&quot;</span>)</span><br><span class="line">            </span><br><span class="line">            <span class="comment"># 下载文件</span></span><br><span class="line">            response = requests.get(url, headers=headers)</span><br><span class="line">            response.raise_for_status()  <span class="comment"># 检查请求是否成功</span></span><br><span class="line"></span><br><span class="line">            <span class="comment"># 保存临时文件</span></span><br><span class="line">            <span class="keyword">with</span> <span class="built_in">open</span>(temp_filename, <span class="string">&#x27;wb&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">                f.write(response.content)</span><br><span class="line"></span><br><span class="line">            <span class="comment"># 使用magic库检测文件类型</span></span><br><span class="line">            mime = magic.Magic(mime=<span class="literal">True</span>)</span><br><span class="line">            mime_type = mime.from_file(temp_filename)</span><br><span class="line">            </span><br><span class="line">            <span class="comment"># 根据mime类型确定扩展名</span></span><br><span class="line">            <span class="keyword">if</span> mime_type == <span class="string">&#x27;image/jpeg&#x27;</span>:</span><br><span class="line">                extension = <span class="string">&#x27;.jpg&#x27;</span></span><br><span class="line">            <span class="keyword">elif</span> mime_type == <span class="string">&#x27;image/png&#x27;</span>:</span><br><span class="line">                extension = <span class="string">&#x27;.png&#x27;</span></span><br><span class="line">            <span class="keyword">elif</span> mime_type == <span class="string">&#x27;image/gif&#x27;</span>:</span><br><span class="line">                extension = <span class="string">&#x27;.gif&#x27;</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                extension = <span class="string">&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> extension:</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">f&quot;Failed to determine the file type of <span class="subst">&#123;url&#125;</span>&quot;</span>)</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line"></span><br><span class="line">            <span class="comment"># 最终文件名</span></span><br><span class="line">            filename = os.path.join(output_directory, <span class="string">f&quot;<span class="subst">&#123;index:02&#125;</span><span class="subst">&#123;extension&#125;</span>&quot;</span>)</span><br><span class="line">            os.rename(temp_filename, filename)</span><br><span class="line"></span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f&quot;Downloaded: <span class="subst">&#123;url&#125;</span> to <span class="subst">&#123;filename&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line">            <span class="comment"># 计算相对于Markdown文件的相对路径并替换反斜杠为正斜杠</span></span><br><span class="line">            relative_path = os.path.relpath(filename, os.path.dirname(markdown_file)).replace(<span class="string">&#x27;\\&#x27;</span>, <span class="string">&#x27;/&#x27;</span>)</span><br><span class="line"></span><br><span class="line">            <span class="comment"># 保存远程到本地文件的映射</span></span><br><span class="line">            url_to_local[url] = relative_path</span><br><span class="line">        <span class="keyword">except</span> requests.RequestException <span class="keyword">as</span> e:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f&quot;Failed to download <span class="subst">&#123;url&#125;</span>: <span class="subst">&#123;e&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 更新Markdown文件内容</span></span><br><span class="line">    <span class="keyword">for</span> url, local_path <span class="keyword">in</span> url_to_local.items():</span><br><span class="line">        content = content.replace(url, local_path)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 将更新后的内容写回Markdown文件</span></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(markdown_file, <span class="string">&#x27;w&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> file:</span><br><span class="line">        file.write(content)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    parser = argparse.ArgumentParser(description=<span class="string">&#x27;Download images from a markdown file and update the links.&#x27;</span>)</span><br><span class="line">    parser.add_argument(<span class="string">&#x27;markdown_file&#x27;</span>, <span class="built_in">type</span>=<span class="built_in">str</span>, <span class="built_in">help</span>=<span class="string">&#x27;The path to the markdown file.&#x27;</span>)</span><br><span class="line">    parser.add_argument(<span class="string">&#x27;output_directory&#x27;</span>, <span class="built_in">type</span>=<span class="built_in">str</span>, <span class="built_in">help</span>=<span class="string">&#x27;The path to the output directory.&#x27;</span>)</span><br><span class="line">    </span><br><span class="line">    args = parser.parse_args()</span><br><span class="line">    </span><br><span class="line">    download_images_and_update_markdown(args.markdown_file, args.output_directory)</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" title="上一页" aria-label="上一页" href="/page/2/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><span class="space">&hellip;</span><a class="page-number" href="/page/7/">7</a><a class="extend next" rel="next" title="下一页" aria-label="下一页" href="/page/4/"><i class="fa fa-angle-right"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2024</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">Howard Huang</span>
  </div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
    <span title="站点总字数">616k</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">18:40</span>
  </span>
</div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>
  <div class="powered-by">
    <!--由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动-->
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancyapps-ui/5.0.33/fancybox/fancybox.umd.js" integrity="sha256-+2+qOqR8CKoHh/AsVR9k2qaDBKWjYNC2nozhYmv5j9k=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  



  <script src="/js/third-party/fancybox.js"></script>



  
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>





</body>
</html>
